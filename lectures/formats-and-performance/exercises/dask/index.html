<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>2.4 Scaling with Pangeo - Cubes and Clouds Notebooks</title><meta property="og:title" content="2.4 Scaling with Pangeo - Cubes and Clouds Notebooks"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of Cubes and Clouds learning notebooks"/><meta property="og:description" content="Collection of Cubes and Clouds learning notebooks"/><meta name="keywords" content=""/><meta name="image" content="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg"/><meta property="og:image" content="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg"/><link rel="stylesheet" href="/cubes-and-clouds/build/_assets/app-MOQGDXHO.css"/><link rel="stylesheet" href="/cubes-and-clouds/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cubes-and-clouds/favicon.ico"/><link rel="stylesheet" href="/cubes-and-clouds/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cubes-and-clouds/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 dark:text-gray-300 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Cubes and Clouds Notebooks" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/cubes-and-clouds/">Cubes and Clouds Notebooks</a><a title="How to contribute" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/cubes-and-clouds/contributing">How to contribute</a><a title="Contributors" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/cubes-and-clouds/contributors">Contributors</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Lectures" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/cubes-and-clouds/lectures/readme">Lectures</a><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">Cubes and Clouds learning materials</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/EO-college/cubes-and-clouds" title="GitHub Repository: EO-college/cubes-and-clouds" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/2.4_formats_and_performance/exercises/24_dask.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">2.4 Scaling with Pangeo</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="KyONquDzKf" class="myst-jp-nb-block relative group/block"><img id="djeWmI0xF0" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg" alt="Cubes &amp; Clouds logo" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg" class=""/></div><div id="jIUAsjGWyy" class="myst-jp-nb-block relative group/block"><img id="yQt7cHayXP" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/0f8adf2e4ec0feb14584840545a0ae3a.png" alt="Pangeo logo" data-canonical-url="https://raw.githubusercontent.com/pangeo-data/pangeo.io/refs/heads/main/public/Pangeo-assets/pangeo_logo.png" class=""/></div><div id="TZMZXyZiam" class="myst-jp-nb-block relative group/block"><h1 id="id-2-4-scaling-with-pangeo" class="relative group"><span class="heading-text">2.4 Scaling with Pangeo</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-2-4-scaling-with-pangeo" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><h2 id="parallel-computing-with-dask" class="relative group"><span class="heading-text">Parallel computing with Dask</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#parallel-computing-with-dask" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="vLacgKVXyS" class="myst-jp-nb-block relative group/block"><div class="alert alert-info"><em></em><strong>Overview</strong> <br/><br/><strong>Questions</strong><ul><li><p>What is Dask?</p></li><li><p>How can I parallelize my data analysis with Dask?</p></li></ul><strong>Objectives</strong><ul><li><p>Learn about Dask</p></li><li><p>Learn about Dask Gateway, Dask Client, Scheduler, Workers</p></li><li><p>Understand out-of-core and speed-up limitations</p></li></ul></div></div><div id="bv1tznNy2D" class="myst-jp-nb-block relative group/block"><h2 id="context" class="relative group"><span class="heading-text">Context</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#context" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will be using <a target="_blank" rel="noreferrer" href="https://docs.dask.org/" class="link">Dask<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> with <a target="_blank" rel="noreferrer" href="https://docs.xarray.dev/en/stable/" class="link">Xarray<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> to parallelize our data analysis.  We will continue to use the NDVI example.</p></div><div id="BFmnkuSSUX" class="myst-jp-nb-block relative group/block"><h2 id="parallelize-with-dask" class="relative group"><span class="heading-text">Parallelize with Dask</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#parallelize-with-dask" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="f5r5X5tRvH" class="myst-jp-nb-block relative group/block"><p>We know from the previous exercise <strong>2.4_chunking</strong> that chunking is key to analyzing large data sets. In this exercise, we will learn how to parallelize our data analysis using <a target="_blank" rel="noreferrer" href="https://docs.dask.org/" class="link">Dask<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> on our chunked dataset.</p></div><div id="u5zYdsX3jp" class="myst-jp-nb-block relative group/block"><h3 id="what-is-dask" class="relative group"><span class="heading-text">What is <a target="_blank" rel="noreferrer" href="https://docs.dask.org/" class="link">Dask<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> ?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-is-dask" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p><strong>Dask</strong> is a powerful and flexible library for parallel computing in Python. It enables users to scale their computations effortlessly while working with large datasets that exceed available memory.</p><ul><li><p>With minimal code changes, Dask accelerates existing Python libraries such as NumPy, Pandas, and Scikit-learn.</p></li><li><p>Designed for processing massive datasets, Dask is widely used in Earth Science and other data-intensive fields.</p></li><li><p>It scales effortlessly from a single laptop to clusters, cloud environments, and HPC systems.</p></li><li><p>Dask bridges the gap between exploratory analysis and large-scale production workflows.</p></li></ul></div><div id="qxiFflGNwc" class="myst-jp-nb-block relative group/block"><h4 id="how-does-dask-scale-and-accelerate-your-data-analysis" class="relative group"><span class="heading-text">How does Dask scale and accelerate your data analysis?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-does-dask-scale-and-accelerate-your-data-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/10-minutes-to-dask.html" class="link">Dask proposes different abstractions to distribute your computation<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>. In this <em>Dask Introduction</em> section, we will focus on <a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/array.html" class="link">Dask Array<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> which is widely used in the Pangeo ecosystem as a backend of Xarray.</p><p>The chunks of a Dask Array are standard NumPy arrays. By transforming large datasets into Dask Arrays and utilizing chunks, a large array is handled as many smaller NumPy arrays. This allows us to compute each of these chunks independently.</p><p><img id="IKi4YMo8xh" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/8476ef8dfea9da4ad663e93b475cbbe7.svg" alt="Dask and Numpy" data-canonical-url="https://examples.dask.org/_images/dask-array-black-text.svg" class=""/><br/><em>Image source: Dask documentation (© 2025 Dask core developers, BSD-3 Licensed).</em></p></div><div id="nJPAQS4zPl" class="myst-jp-nb-block relative group/block"><div class="alert alert-info"><em></em><strong>Note</strong><br/><ul><li><p>Xarray uses Dask Arrays instead of Numpy when chunking is enabled, and thus all Xarray operations are performed through Dask, which enables distributed processing.</p></li></ul></div></div><div id="ZhWAx06GOo" class="myst-jp-nb-block relative group/block"><h4 id="how-does-xarray-with-dask-distribute-data-analysis" class="relative group"><span class="heading-text">How does Xarray with Dask distribute data analysis?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#how-does-xarray-with-dask-distribute-data-analysis" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>When we use chunks with Xarray, the real computation is only done when needed or explicitly requested, usually by invoking the <code>compute()</code> or <code>load()</code> functions. Dask generates a <strong>task graph</strong> describing the computations to be performed. When using <a target="_blank" rel="noreferrer" href="https://distributed.dask.org/en/stable/" class="link">Dask Distributed<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>, a <strong>Scheduler</strong> distributes these tasks across several <strong>Workers</strong>.</p><img id="P8RO6iK2gr" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/be3fbd3e89d036a01dd22375bae5e36e.png" alt="Xarray with dask" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/dask-xarray-explained.png" class=""/></div><div id="AboHoniAoh" class="myst-jp-nb-block relative group/block"><h4 id="what-is-a-dask-distributed-cluster" class="relative group"><span class="heading-text">What is a Dask Distributed cluster?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#what-is-a-dask-distributed-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>A Dask Distributed cluster is made up of two main components:</p><ul><li><p>A <strong>Scheduler</strong>, responsible for handling the computation graph and distributing tasks to Workers.</p></li><li><p>One or several <strong>Workers</strong>, which compute individual tasks and store results and data in distributed memory (RAM and/or the worker’s local disk).</p></li></ul><p>A user typically needs <strong>Client</strong> and <strong>Cluster</strong> objects, as shown below, to use Dask Distributed.</p><img id="Ktp156q900" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/5f88b4250ac348093751d7c8111d1944.png" alt="Dask Distributed Cluster" data-canonical-url="https://user-images.githubusercontent.com/306380/66413985-27111600-e9be-11e9-9995-8f418ff48f8a.png" class=""/></div><div id="FkkZYSfLMQ" class="myst-jp-nb-block relative group/block"><h4 id="where-can-we-deploy-a-dask-distributed-cluster" class="relative group"><span class="heading-text">Where can we deploy a Dask distributed cluster?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#where-can-we-deploy-a-dask-distributed-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p><a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/deploying.html" class="link">Dask distributed clusters can be deployed on your laptop or on distributed infrastructures (Cloud, HPC centers, Hadoop, etc.).<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>  Dask distributed <code>Cluster</code> object is responsible of deploying and scaling a Dask Cluster on the underlying resources.</p><p><img id="zf1po84hXt" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/5bb4678f8c7e666155eecf57b9320e34.svg" alt="Dask Cluster deployment" data-canonical-url="https://docs.dask.org/en/stable/_images/dask-cluster-manager.svg" class=""/><em>Image source: Dask documentation (© 2025 Dask core developers, BSD-3 Licensed).</em></p></div><div id="XK6n9FDroN" class="myst-jp-nb-block relative group/block"><blockquote><p>Tip<br/>A Dask <code>Cluster</code> can be created on a single machine (e.g. your laptop), which means you do not need dedicated computing resources. This corresponds to <strong>Vertical scaling</strong> as described in lecture <a class="link" href="/cubes-and-clouds/lectures/formats-and-performance/formats-and-performance">2.4 Formats and Performance</a>.</p><p>However, the speed up is limited to the resources of your single machine. This is where <strong>horizontal scaling</strong> comes in.  By adding resources from other machines, you can expand your computing power!</p></blockquote></div><div id="ikmtaBuP9P" class="myst-jp-nb-block relative group/block"><h3 id="dask-distributed-client" class="relative group"><span class="heading-text">Dask distributed Client</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-distributed-client" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The Dask distributed <code>Client</code> is what allows you to interact with Dask distributed Clusters. When using Dask distributed, you always need to create a <code>Client</code> object. Once a <code>Client</code> has been created, it will be used by default by each call to a Dask API, even if you do not explicitly use it.</p><p>No matter the Dask API (e.g. Arrays, Dataframes, Delayed, Futures, etc.) that you use, under the hood, Dask will create a Directed Acyclic Graph (DAG) of tasks by analysing the code. Client will be responsible to submit this DAG to the Scheduler along with the final result you want to compute. The Client will also gather results from the Workers, and aggregate it back in its underlying Python process.</p><p>Using <code>Client()</code> function with no argument, you will create a local Dask cluster with a number of workers and threads per worker corresponding to the number of cores in the ‘local’ machine. The ‘local’ machine is the jupyterlab you are using in the Cloud, and the number of cores is the number of cores available in the cloud instance (not on your laptop).</p></div><div id="YR4rzzXVMM" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from dask.distributed import Client

client = Client(n_workers=4)   # create a local dask cluster on the local machine specifying 4
client</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="hx0k3TrCHpNUUEr6VXvAH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="o8sWLcIPHO" class="myst-jp-nb-block relative group/block"><p>Inspecting the <code>Cluster Info</code> section above gives us information about the created cluster: we have 2 or 4 workers and the same number of threads (e.g. 1 thread per worker).</p></div><div id="Ow4aEKKaJi" class="myst-jp-nb-block relative group/block"><div class="alert alert-warning"><em></em><strong>Go further</strong><br/><ul><li><p>You can also create a local cluster with the `LocalCluster` constructor and use `n_workers` and `threads_per_worker` to manually specify the number of processes and threads you want to use. For instance, we could use `n_workers=2` and `threads_per_worker=2`.</p></li><li><p>This is sometimes preferable (in terms of performance), or when you run this tutorial on your PC, you can avoid dask to use all your resources you have on your PC!</p></li></ul></div></div><div id="ubiY3EQTpC" class="myst-jp-nb-block relative group/block"><h3 id="dask-dashboard" class="relative group"><span class="heading-text">Dask Dashboard</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-dashboard" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Dask comes with a really handy interface: the Dask Dashboard. It is a web interface that you can open in a separate tab of your browser.</p><p>We will learn how to use it through the <a target="_blank" rel="noreferrer" href="https://github.com/dask/dask-labextension" class="link">dask jupyterlab extension<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.</p><p>To use Dask Dashboard through jupyterlab extension,
you just need to click on the orange icon shown in the following figure,</p><img id="YJF4ZV3jrO" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/13301335bb11e404715202634c4bb6c0.png" alt="Dask.array" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/dashboardlink.png" class=""/><p>You can click several buttons marked with blue arrows in the following images, and then drag and drop them wherever you want.</p><img id="sLLTep82SV" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/7cd9c2228eabbba5874d10af09e69bf8.png" alt="Dask.array" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/dasklab.png" class=""/><img id="dxQfCYt1a7" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/4ab5130b44730782abf1860db4574b53.png" alt="Dask.array" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/exampledasklab.png" class=""/><p>It’s really helpful to understand your computation and how it’s distributed.</p></div><div id="oO8GeT4mJF" class="myst-jp-nb-block relative group/block"><h2 id="dask-distributed-computations-on-our-dataset" class="relative group"><span class="heading-text">Dask Distributed computations on our dataset</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#dask-distributed-computations-on-our-dataset" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Let’s open the Zarr dataset we’ve prepared in <a class="link" href="/cubes-and-clouds/lectures/formats-and-performance/exercises/chunking">previous chunking excersise</a>, select a single location over time, visualize the task graph generated by Dask, and observe the Dask Dashboard.</p></div><div id="SxuoGMNqOB" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import xarray as xr
ndvi = xr.open_zarr(&#x27;test.zarr&#x27;)
ndvi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="vW7VrttvPVXiAhX1TCrW3" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wDvMEP9vAK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ndvi[&#x27;data&#x27;].mean(dim=&#x27;x&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="wIyCOREIRrdwBKUeaY_5-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sCRg7m7gKt" class="myst-jp-nb-block relative group/block"><h2 id="did-you-notice-something-on-the-dask-dashboard-when-running-the-two-previous-cells" class="relative group"><span class="heading-text">Did you notice something on the Dask Dashboard when running the two previous cells?</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#did-you-notice-something-on-the-dask-dashboard-when-running-the-two-previous-cells" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We didn’t actually ‘compute’ anything. Instead, we built a Dask task graph, with its size indicated as a count above, but we didn’t ask Dask to return a result.</p><p>You can check the ‘Dask graph’ to see how many layers it contains, which will help you estimate the complexity of your computation.</p><p>It shows that you have ‘4 graphs’. This can be optimized in the following steps.</p><p>Let’s try to plot the Dask graph before computation and understand what the Dask workers will do to compute the result we asked for.</p></div><div id="VDu1j8TjiF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ndvi[&#x27;data&#x27;].mean(dim=&#x27;x&#x27;).data.visualize()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="HF8bW_hWSPJJ-2UJyEz-i" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="z0XtgQ1jPb" class="myst-jp-nb-block relative group/block"><p>Let’s average the time dimension and see how it differs</p></div><div id="zDJ3rNwAyZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ndvi[&#x27;data&#x27;].mean(dim=&#x27;time&#x27;).data.visualize()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Y-9aKKrU9N2mMI7gGIvy9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="iAnSd9Juoc" class="myst-jp-nb-block relative group/block"><h3 id="lets-compute-on-the-dask-workers" class="relative group"><span class="heading-text">Let’s compute on the Dask workers</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#lets-compute-on-the-dask-workers" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="bPVHE76vaH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ndvi[&#x27;data&#x27;].mean(dim=&#x27;time&#x27;).compute()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="uzZ8YmtL5LWnXuM6qvqtM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="I8XMtE0aiX" class="myst-jp-nb-block relative group/block"><p>Calling compute on our Xarray object triggered the execution on Dask Cluster side.</p><p>You should be able to see how Dask is working on Dask Dashboard.</p></div><div id="exmAUfEofw" class="myst-jp-nb-block relative group/block"><h3 id="lets-try-a-bigger-computation" class="relative group"><span class="heading-text">Let’s try a bigger computation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#lets-try-a-bigger-computation" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will re-use the procedure we’ve learned in the previous chunking notebook.</p></div><div id="ABNCJwxB0i" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">### Load data using stackstac (with specific chunk) 
import stackstac
import pystac_client
import geopandas as gpd
from shapely.geometry import mapping
import numpy as np
import warnings
import rioxarray

warnings.filterwarnings(&quot;ignore&quot;)
warnings.simplefilter(&quot;ignore&quot;, RuntimeWarning)

aoi = gpd.read_file(&#x27;./assets/catchment_outline.geojson&#x27;, crs=&quot;EPGS:4326&quot;)
aoi_geojson = mapping(aoi.iloc[0].geometry)
URL = &quot;https://earth-search.aws.element84.com/v1&quot;
catalog = pystac_client.Client.open(URL)
items = catalog.search(
    intersects=aoi_geojson,
    collections=[&quot;sentinel-2-l2a&quot;],
    datetime=&quot;2019-02-01/2019-03-28&quot;,
    query= {&quot;proj:epsg&quot;: dict(eq=32632)}
).item_collection()

ds = stackstac.stack(items,
                     assets=[&#x27;red&#x27;,&#x27;nir&#x27;],
                     chunksize=(1,2,1024,1024)
                    )
ds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="yWb2llOZNj0N1J6CwyNf0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Y5BE7CCLDr" class="myst-jp-nb-block relative group/block"><p>By inspecting any of the variables in the representation above, you’ll see that the data array represents <strong>over 188 GiB of data</strong>, which is much more than the available memory on this notebook server or the Dask Local Cluster we created earlier. But thanks to chunking, we can still analyze it!</p></div><div id="yfx35mrh6R" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">## Computing the NDVI
def NDVI(data):
    red = data.sel(band=&quot;red&quot;)
    nir = data.sel(band=&quot;nir&quot;)
    ndvi = (nir - red)/(nir + red)
    return ndvi

ndvi_xr = NDVI(ds)

## Clip the data
aoi_utm32 = aoi.to_crs(epsg=32632)
geom_utm32 = aoi_utm32.iloc[0][&#x27;geometry&#x27;]
ndvi_xr.rio.write_crs(&quot;EPSG:32632&quot;, inplace=True)
ndvi_xr.rio.set_nodata(np.nan, inplace=True)
ndvi_xr = ndvi_xr.rio.clip([geom_utm32])
ndvi_xr.rio.set_nodata(np.nan, inplace=True)

ndvi_xr = ndvi_xr.groupby(ndvi_xr.time.dt.floor(&#x27;D&#x27;)).max(skipna=True)
ndvi_xr = ndvi_xr.chunk(chunks = {&#x27;x&#x27;:&#x27;auto&#x27;, &#x27;y&#x27;: &#x27;auto&#x27;})
ndvi_xr</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Vhf-WYkAVJSsaU2h9qdNm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="py8ICDDDm4" class="myst-jp-nb-block relative group/block"><p>Perform the same steps as in the previous exercise to convert to a Dataset and clean out problematic attributes</p></div><div id="RHbHpc7t1t" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">ndvi_xr = ndvi_xr.to_dataset(name=&#x27;data&#x27;)

def remove_attrs(obj, to_remove):
    new = obj.copy()
    new.attrs = {k: v for k, v in obj.attrs.items() if k not in to_remove}
    return new

def encode(obj):
    object_coords = [name for name, coord in obj.coords.items() if coord.dtype.kind == &quot;O&quot;]
    return obj.drop_vars(object_coords).pipe(remove_attrs, [&quot;spec&quot;, &quot;transform&quot;])

ndvi_xr = ndvi_xr.pipe(encode)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FWUmafJkLEedJ-L9lGB4U" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TYXSYGRkDA" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
import numpy
with np.errstate(all=&quot;ignore&quot;):
    ndvi_xr.to_zarr(&#x27;ndvi.zarr&#x27;,mode=&#x27;w&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="oQFAHTldHLznA_0GUYbXD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="XobdkGKB5t" class="myst-jp-nb-block relative group/block"><h3 id="close-client-to-terminate-local-dask-cluster" class="relative group"><span class="heading-text">Close client to terminate local dask cluster</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#close-client-to-terminate-local-dask-cluster" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ShGCrmKVVB" class="myst-jp-nb-block relative group/block"><p>The <code>Client</code> and associated <code>LocalCluster</code> object will be automatically closed when your Python session ends. When using Jupyter notebooks, we recommend to close it explicitely whenever you are done with your local Dask cluster.</p></div><div id="zDCT0n4vcz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">client.close()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="DwCa7Uc6QnP8yIta4x7QS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="oBa9I0sEi5" class="myst-jp-nb-block relative group/block"><h2 id="conclusion" class="relative group"><span class="heading-text">Conclusion</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#conclusion" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="yrQkRNc00B" class="myst-jp-nb-block relative group/block"><p>In this exercise, we created a Dask cluster on a single machine, which is equivalent to vertical scaling as described in <strong>2.4 Formats and Performance</strong>.</p><p>However, the speedup is limited to the resources of your single machine. This is where horizontal scaling comes in. By adding resources from other machines, you can expand your computing power! In the case of dask, you can use the <a target="_blank" rel="noreferrer" href="https://gateway.dask.org/#dask-gateway" class="link">Dask Gatway<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>.<br/>The Pangeo community hosts tutorials using <a class="link" href="/cubes-and-clouds&#x27;https://pangeo-eosc.vm.fedcloud.eu/hub/&#x27;">Pangeo@EOSC</a>. With the Pangeo EOSC deployment, you can learn how to use Dask Gateway to manage Dask clusters over Kubernetes, allowing us to run our data analysis in parallel, e.g. distribute tasks across multiple workers.
If you are a user of HPC center, you can also consider using <a target="_blank" rel="noreferrer" href="https://docs.dask.org/en/stable/deploying-hpc.html#high-performance-computers" class="link">Dask-jobque<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a> or Dask HPC for this.</p></div><div class="myst-backmatter-parts"></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cubes-and-clouds/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-CH4FVTDV.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/root-SIO6LUTY.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-FAHZZXAC.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/routes/$-PRP77N34.js"/><script>window.__remixContext = {"url":"/lectures/formats-and-performance/exercises/dask","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.8.0","options":{"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-8b59371abc93b45fd2da9eed41a0ca58.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.exercises.data-properties","title":"2.2 Data Discovery \u0026 Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-d417b9b37bc9b6ea44b3df31b00ab1d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-d417b9b37bc9b6ea44b3df31b00ab1d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.formats-and-performance.exercises.chunking","title":"2.4 Data chunking with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.dask","title":"2.4 Scaling with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.energy-consumption","title":"2.4 Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-f9c422fdb7b3fa328e761816ac40feaf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.exercises.validation-pangeo","title":"3.2 Validation of the results with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cubes-and-clouds"},"routes/$":{"config":{"version":3,"myst":"1.8.0","options":{"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-8b59371abc93b45fd2da9eed41a0ca58.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.exercises.data-properties","title":"2.2 Data Discovery \u0026 Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-d417b9b37bc9b6ea44b3df31b00ab1d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-d417b9b37bc9b6ea44b3df31b00ab1d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.formats-and-performance.exercises.chunking","title":"2.4 Data chunking with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.dask","title":"2.4 Scaling with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.energy-consumption","title":"2.4 Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-f9c422fdb7b3fa328e761816ac40feaf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.exercises.validation-pangeo","title":"3.2 Validation of the results with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}]},"page":{"version":3,"kind":"Notebook","sha256":"10f710517990ccc4326fb658d2b7eecfdf0dcd1615d8dbc736aa9da9aaece804","slug":"lectures.formats-and-performance.exercises.dask","location":"/lectures/2.4_formats_and_performance/exercises/24_dask.ipynb","dependencies":[],"frontmatter":{"title":"2.4 Scaling with Pangeo","content_includes_title":true,"kernelspec":{"name":"conda-env-cubes-and-clouds-cubes-and-clouds-pangeo-py","display_name":"cubes-and-clouds-cubes-and-clouds-pangeo","language":"python"},"github":"https://github.com/EO-college/cubes-and-clouds","subject":"Cubes and Clouds learning materials","numbering":{"title":{"offset":3}},"source_url":"https://github.com/EO-college/cubes-and-clouds/blob/main/lectures/2.4_formats_and_performance/exercises/24_dask.ipynb","edit_url":"https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/2.4_formats_and_performance/exercises/24_dask.ipynb","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","exports":[{"format":"ipynb","filename":"24_dask.ipynb","url":"/cubes-and-clouds/build/24_dask-92e4e05c6213835e7e74a93cec96a911.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px"},"url":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","alt":"Cubes \u0026 Clouds logo","key":"djeWmI0xF0","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg"}],"key":"zg09NcPg1z"}],"key":"KyONquDzKf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px"},"url":"/cubes-and-clouds/build/0f8adf2e4ec0feb14584840545a0ae3a.png","alt":"Pangeo logo","key":"yQt7cHayXP","urlSource":"https://raw.githubusercontent.com/pangeo-data/pangeo.io/refs/heads/main/public/Pangeo-assets/pangeo_logo.png"}],"key":"qhtVYMDiVU"}],"key":"jIUAsjGWyy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4 Scaling with Pangeo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LVbWOZ0BZ3"}],"identifier":"id-2-4-scaling-with-pangeo","label":"2.4 Scaling with Pangeo","html_id":"id-2-4-scaling-with-pangeo","implicit":true,"key":"ossSwK09yW"},{"type":"heading","depth":2,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Parallel computing with Dask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"G5AeYVqS1b"}],"identifier":"parallel-computing-with-dask","label":"Parallel computing with Dask","html_id":"parallel-computing-with-dask","implicit":true,"key":"r97hnn4CO6"}],"key":"TZMZXyZiam"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-info","children":[{"type":"emphasis","children":[],"key":"sSN4pTqgHM"},{"type":"strong","children":[{"type":"text","value":"Overview","key":"vAUoTAZIqb"}],"key":"RmvL5W23Vz"},{"type":"text","value":" ","key":"KxB3pVmQNf"},{"type":"break","key":"WXouvlfdIP"},{"type":"break","key":"fXt5L8TD6M"},{"type":"strong","children":[{"type":"text","value":"Questions","key":"lBKla2g4DU"}],"key":"ggt9uXxJAr"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"What is Dask?","key":"CCSk2Q6vZO"}],"key":"OlxhG3UdCy"}],"key":"jXMBBhHe0L"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"How can I parallelize my data analysis with Dask?","key":"avh0jg3G6n"}],"key":"mTwRBsooSW"}],"key":"p8RPcD0akE"}],"key":"RaWAzVxyWV"},{"type":"strong","children":[{"type":"text","value":"Objectives","key":"SzAyB8s5G5"}],"key":"xcpp2qrAcY"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Learn about Dask","key":"eWUJejoXtr"}],"key":"x9ygdtjqi2"}],"key":"kiOTwibX5H"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Learn about Dask Gateway, Dask Client, Scheduler, Workers","key":"i0MbkKaEP0"}],"key":"LiJ4Hnbh9i"}],"key":"U5P4Fu65sB"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Understand out-of-core and speed-up limitations","key":"Bu2Ug5mffD"}],"key":"E8VQvhtIh1"}],"key":"DKMsIlwXYZ"}],"key":"KqIMWu6rgC"}],"key":"dTpFlTUdFN"}],"key":"vLacgKVXyS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KyDxKfk0rD"}],"identifier":"context","label":"Context","html_id":"context","implicit":true,"key":"IsMx0CPEsY"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We will be using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DvFOmzqfSo"},{"type":"link","url":"https://docs.dask.org/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WT51vMbRfg"}],"urlSource":"https://docs.dask.org/","key":"YTcDfePXnM"},{"type":"text","value":" with ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"axoPcklCsE"},{"type":"link","url":"https://docs.xarray.dev/en/stable/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Xarray","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IZ3ToKVv9S"}],"urlSource":"https://docs.xarray.dev/en/stable/","key":"DsGDFZf7Jc"},{"type":"text","value":" to parallelize our data analysis.  We will continue to use the NDVI example.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"GdBpVdliAQ"}],"key":"ddCQWRjHr3"}],"key":"bv1tznNy2D"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parallelize with Dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uQJ2rEfxoR"}],"identifier":"parallelize-with-dask","label":"Parallelize with Dask","html_id":"parallelize-with-dask","implicit":true,"key":"Ui7oEsWlfI"}],"key":"BFmnkuSSUX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We know from the previous exercise ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zzWtbVlSKK"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4_chunking","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eL30luw6Q6"}],"key":"GeGqVY8VjH"},{"type":"text","value":" that chunking is key to analyzing large data sets. In this exercise, we will learn how to parallelize our data analysis using ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"x5kqolI8a8"},{"type":"link","url":"https://docs.dask.org/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o1315DmzUG"}],"urlSource":"https://docs.dask.org/","key":"AFbcrLl2Gq"},{"type":"text","value":" on our chunked dataset.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ts64tuBOuU"}],"key":"xGqi5284qv"}],"key":"f5r5X5tRvH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w7GZiK1Sde"},{"type":"link","url":"https://docs.dask.org/","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L4naOe2fG9"}],"urlSource":"https://docs.dask.org/","key":"LTRjxRcrf4"},{"type":"text","value":" ?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MDGT574xvh"}],"identifier":"what-is-dask","label":"What is Dask ?","html_id":"what-is-dask","implicit":true,"key":"hHTdso618B"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oHk3UgrKSy"}],"key":"fpHseXfY6v"},{"type":"text","value":" is a powerful and flexible library for parallel computing in Python. It enables users to scale their computations effortlessly while working with large datasets that exceed available memory.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"PRyiUGSCEC"}],"key":"JaBTka7zLD"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"With minimal code changes, Dask accelerates existing Python libraries such as NumPy, Pandas, and Scikit-learn.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bOoQzImg5j"}],"key":"HOCs3uQe6a"}],"key":"THBZj67vUm"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Designed for processing massive datasets, Dask is widely used in Earth Science and other data-intensive fields.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"lDRG5dJkDG"}],"key":"y9eoScQNSg"}],"key":"RtxwVZkdIx"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"It scales effortlessly from a single laptop to clusters, cloud environments, and HPC systems.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KBy6U4eLmi"}],"key":"Z1q7yDgiWH"}],"key":"KVQdaGebGC"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Dask bridges the gap between exploratory analysis and large-scale production workflows.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"DN5bWUh6W2"}],"key":"KtdXVoYhYm"}],"key":"djovXOKlZw"}],"key":"TvVipknJEX"}],"key":"u5zYdsX3jp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How does Dask scale and accelerate your data analysis?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Uy8t675B9K"}],"identifier":"how-does-dask-scale-and-accelerate-your-data-analysis","label":"How does Dask scale and accelerate your data analysis?","html_id":"how-does-dask-scale-and-accelerate-your-data-analysis","implicit":true,"key":"MfMvvhgcRN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://docs.dask.org/en/stable/10-minutes-to-dask.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask proposes different abstractions to distribute your computation","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Te434dYHiG"}],"urlSource":"https://docs.dask.org/en/stable/10-minutes-to-dask.html","key":"OFXpNWNlU3"},{"type":"text","value":". In this ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SiLs81hRJT"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Introduction","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UuDJbhi835"}],"key":"NhhxIEluOr"},{"type":"text","value":" section, we will focus on ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ylp2S2P61C"},{"type":"link","url":"https://docs.dask.org/en/stable/array.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Array","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H24n0AoaqX"}],"urlSource":"https://docs.dask.org/en/stable/array.html","key":"ZezWF0q6CT"},{"type":"text","value":" which is widely used in the Pangeo ecosystem as a backend of Xarray.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"u54UPdXxfc"}],"key":"Gp2PJcdPX6"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The chunks of a Dask Array are standard NumPy arrays. By transforming large datasets into Dask Arrays and utilizing chunks, a large array is handled as many smaller NumPy arrays. This allows us to compute each of these chunks independently.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ZkG0INOanx"}],"key":"XQdWR7GlY2"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"image","url":"/cubes-and-clouds/build/8476ef8dfea9da4ad663e93b475cbbe7.svg","alt":"Dask and Numpy","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"IKi4YMo8xh","urlSource":"https://examples.dask.org/_images/dask-array-black-text.svg"},{"type":"break","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ez7cduT6g9"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Image source: Dask documentation (© 2025 Dask core developers, BSD-3 Licensed).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"xNw4GJMIoE"}],"key":"XKoC9jSGxE"}],"key":"BrKLVBrC1g"}],"key":"qxiFflGNwc"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-info","children":[{"type":"emphasis","children":[],"key":"dNkv4d3A2l"},{"type":"strong","children":[{"type":"text","value":"Note","key":"iWI38tkkJv"}],"key":"r8Acujiebp"},{"type":"break","key":"LxSLH7mA13"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Xarray uses Dask Arrays instead of Numpy when chunking is enabled, and thus all Xarray operations are performed through Dask, which enables distributed processing.","key":"qbz2Vhcp3P"}],"key":"AGB1INuDB9"}],"key":"Z9kAr2mb8L"}],"key":"MH8X4nhxiv"}],"key":"RXv0W4KqZ7"}],"key":"nJPAQS4zPl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"How does Xarray with Dask distribute data analysis?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xkUa1I06rK"}],"identifier":"how-does-xarray-with-dask-distribute-data-analysis","label":"How does Xarray with Dask distribute data analysis?","html_id":"how-does-xarray-with-dask-distribute-data-analysis","implicit":true,"key":"GVP3kyIlO4"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"When we use chunks with Xarray, the real computation is only done when needed or explicitly requested, usually by invoking the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tgCoLclyW8"},{"type":"inlineCode","value":"compute()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pLKNjqCioi"},{"type":"text","value":" or ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dNyazvgjgH"},{"type":"inlineCode","value":"load()","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HX7ioLkERe"},{"type":"text","value":" functions. Dask generates a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KpybZnfTYG"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"task graph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"S1dmDU9wrS"}],"key":"CJSJRiulhC"},{"type":"text","value":" describing the computations to be performed. When using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bAo3ZGMCav"},{"type":"link","url":"https://distributed.dask.org/en/stable/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Distributed","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"tCmJ8HngkS"}],"urlSource":"https://distributed.dask.org/en/stable/","key":"NuhMt97Uqd"},{"type":"text","value":", a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vEY5oviEar"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Scheduler","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZQPayrPUSa"}],"key":"km6KVYUC8P"},{"type":"text","value":" distributes these tasks across several ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HTYAJKhjrH"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Workers","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CAASMnxicI"}],"key":"VHD9RNaQAR"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"p3N6dhinJA"}],"key":"DCP0YT6ZGl"},{"type":"image","url":"/cubes-and-clouds/build/be3fbd3e89d036a01dd22375bae5e36e.png","alt":"Xarray with dask","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"P8RO6iK2gr","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/dask-xarray-explained.png"}],"key":"ZhWAx06GOo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"What is a Dask Distributed cluster?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rIVQkjFvuM"}],"identifier":"what-is-a-dask-distributed-cluster","label":"What is a Dask Distributed cluster?","html_id":"what-is-a-dask-distributed-cluster","implicit":true,"key":"H7GXgZq6Vo"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"A Dask Distributed cluster is made up of two main components:","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YuOkeqxUdK"}],"key":"Ueg2H6DylH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"d7yterTCMk"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Scheduler","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SXh4z0qAhc"}],"key":"clNUMOwijx"},{"type":"text","value":", responsible for handling the computation graph and distributing tasks to Workers.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Y9aJySQCaR"}],"key":"S7ZVfzDRc8"}],"key":"oYQVgXFClA"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"One or several ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YpKWo9xhdD"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Workers","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hrMkk1SPT8"}],"key":"dHTMmOlDhS"},{"type":"text","value":", which compute individual tasks and store results and data in distributed memory (RAM and/or the worker’s local disk).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"gWQ6dzbsi7"}],"key":"ck56Ah47Ka"}],"key":"fklH7pMKaU"}],"key":"LYnJYTDsFF"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"A user typically needs ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Vv549IKm9v"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Client","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"MLliiMtHjq"}],"key":"XBjAojZrvT"},{"type":"text","value":" and ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"zHadKw2L6B"},{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Cluster","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Lqh5Bk4iiM"}],"key":"Lp8tGRjVnU"},{"type":"text","value":" objects, as shown below, to use Dask Distributed.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uusS0Y8YTs"}],"key":"g5TBkQ676I"},{"type":"image","url":"/cubes-and-clouds/build/5f88b4250ac348093751d7c8111d1944.png","alt":"Dask Distributed Cluster","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ktp156q900","urlSource":"https://user-images.githubusercontent.com/306380/66413985-27111600-e9be-11e9-9995-8f418ff48f8a.png"}],"key":"AboHoniAoh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Where can we deploy a Dask distributed cluster?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ysMCK3S58U"}],"identifier":"where-can-we-deploy-a-dask-distributed-cluster","label":"Where can we deploy a Dask distributed cluster?","html_id":"where-can-we-deploy-a-dask-distributed-cluster","implicit":true,"key":"iebOxsJMFG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://docs.dask.org/en/stable/deploying.html","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask distributed clusters can be deployed on your laptop or on distributed infrastructures (Cloud, HPC centers, Hadoop, etc.).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ee124yNIdJ"}],"urlSource":"https://docs.dask.org/en/stable/deploying.html","key":"Iqy0aHGvZB"},{"type":"text","value":"  Dask distributed ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BCP7yl0RWE"},{"type":"inlineCode","value":"Cluster","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IG6oHndLaZ"},{"type":"text","value":" object is responsible of deploying and scaling a Dask Cluster on the underlying resources.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"H9jJHT4zu0"}],"key":"bRYQdcQwkc"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"image","url":"/cubes-and-clouds/build/5bb4678f8c7e666155eecf57b9320e34.svg","alt":"Dask Cluster deployment","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"zf1po84hXt","urlSource":"https://docs.dask.org/en/stable/_images/dask-cluster-manager.svg"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Image source: Dask documentation (© 2025 Dask core developers, BSD-3 Licensed).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"aDcJfW5NcF"}],"key":"hrpRdTp2TZ"}],"key":"J1PbeOznAT"}],"key":"FkkZYSfLMQ"},{"type":"block","kind":"notebook-content","children":[{"type":"blockquote","position":{"start":{"line":1,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Tip","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oScLgkRp1J"},{"type":"break","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T3zn8HjyVR"},{"type":"text","value":"A Dask ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nJFgIconwl"},{"type":"inlineCode","value":"Cluster","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hFPx6Efb7o"},{"type":"text","value":" can be created on a single machine (e.g. your laptop), which means you do not need dedicated computing resources. This corresponds to ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jM1ZY9CwTo"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Vertical scaling","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Hmm9KPJFhr"}],"key":"Kdi1assknq"},{"type":"text","value":" as described in lecture ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Qh1AN1nRYD"},{"type":"link","url":"/lectures/formats-and-performance/formats-and-performance","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4 Formats and Performance","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ThnrnUfcwP"}],"urlSource":"../2.4_formats_and_performance.md","dataUrl":"/lectures.formats-and-performance.formats-and-performance.json","internal":true,"protocol":"file","key":"uEMigVkZQz"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fBsuEy1j50"}],"key":"GKkR0cfVkF"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"However, the speed up is limited to the resources of your single machine. This is where ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wdYJ7P7o7k"},{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"horizontal scaling","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LHS6AB2cr6"}],"key":"KHRxAVOHfF"},{"type":"text","value":" comes in.  By adding resources from other machines, you can expand your computing power!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"DLRrA493ZG"}],"key":"EonxjRGt8T"}],"key":"dciucGJniP"}],"key":"XK6n9FDroN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask distributed Client","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gJ1uhmm5ve"}],"identifier":"dask-distributed-client","label":"Dask distributed Client","html_id":"dask-distributed-client","implicit":true,"key":"hMzLBaAtEq"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The Dask distributed ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BedzvriDJA"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E3JUbOlZW4"},{"type":"text","value":" is what allows you to interact with Dask distributed Clusters. When using Dask distributed, you always need to create a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cGBdaIdgZO"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TEspL0UDPF"},{"type":"text","value":" object. Once a ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ABMzFFyrw4"},{"type":"inlineCode","value":"Client","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HCcWuON7it"},{"type":"text","value":" has been created, it will be used by default by each call to a Dask API, even if you do not explicitly use it.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LF7JCM0sub"}],"key":"Kwp1RhVUfs"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"No matter the Dask API (e.g. Arrays, Dataframes, Delayed, Futures, etc.) that you use, under the hood, Dask will create a Directed Acyclic Graph (DAG) of tasks by analysing the code. Client will be responsible to submit this DAG to the Scheduler along with the final result you want to compute. The Client will also gather results from the Workers, and aggregate it back in its underlying Python process.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"wyuRmEjrla"}],"key":"z4pGi91oNW"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Using ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"eJPAlcvwyB"},{"type":"inlineCode","value":"Client()","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HmFLvsdj7o"},{"type":"text","value":" function with no argument, you will create a local Dask cluster with a number of workers and threads per worker corresponding to the number of cores in the ‘local’ machine. The ‘local’ machine is the jupyterlab you are using in the Cloud, and the number of cores is the number of cores available in the cloud instance (not on your laptop).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"hpJ5wqeVMH"}],"key":"fxA21z63nv"}],"key":"ikmtaBuP9P"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from dask.distributed import Client\n\nclient = Client(n_workers=4)   # create a local dask cluster on the local machine specifying 4\nclient","visibility":"show","key":"JSg52Gf5dt"},{"type":"outputs","id":"hx0k3TrCHpNUUEr6VXvAH","children":[],"visibility":"show","key":"E7VZjbU8ug"}],"visibility":"show","key":"YR4rzzXVMM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspecting the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iB8Gxc2LMc"},{"type":"inlineCode","value":"Cluster Info","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JlcNnBzic7"},{"type":"text","value":" section above gives us information about the created cluster: we have 2 or 4 workers and the same number of threads (e.g. 1 thread per worker).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W6XEnTLPkJ"}],"key":"bVYmXlAGiR"}],"key":"o8sWLcIPHO"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-warning","children":[{"type":"emphasis","children":[],"key":"IbnY0EEMXM"},{"type":"strong","children":[{"type":"text","value":"Go further","key":"Xl8kZ3pfXr"}],"key":"aFdnQ8SRjv"},{"type":"break","key":"mU8W9HHMql"},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"You can also create a local cluster with the `LocalCluster` constructor and use `n_workers` and `threads_per_worker` to manually specify the number of processes and threads you want to use. For instance, we could use `n_workers=2` and `threads_per_worker=2`.","key":"Wdtb3uKCUk"}],"key":"BuCA9kMK1S"}],"key":"ovVbFnVvL3"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"This is sometimes preferable (in terms of performance), or when you run this tutorial on your PC, you can avoid dask to use all your resources you have on your PC!","key":"TWjWGvsyd4"}],"key":"PYsTvEXuos"}],"key":"SUIHGOMnoP"}],"key":"cebcjkhyB6"}],"key":"A0weeySSn2"}],"key":"Ow4aEKKaJi"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask Dashboard","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mJunEVs2Ze"}],"identifier":"dask-dashboard","label":"Dask Dashboard","html_id":"dask-dashboard","implicit":true,"key":"SdldkB1acd"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask comes with a really handy interface: the Dask Dashboard. It is a web interface that you can open in a separate tab of your browser.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EcAG0b7V1f"}],"key":"DDwgVSt5Ix"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will learn how to use it through the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"l3dLCIKWI8"},{"type":"link","url":"https://github.com/dask/dask-labextension","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"dask jupyterlab extension","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qzgn49VAGe"}],"urlSource":"https://github.com/dask/dask-labextension","error":true,"key":"OgVva7sxzr"},{"type":"text","value":".","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"sKh39W77YW"}],"key":"D01ZNVM1kW"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"To use Dask Dashboard through jupyterlab extension,\nyou just need to click on the orange icon shown in the following figure,","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"B4koS4Q8H9"}],"key":"GYQJX1eYLN"},{"type":"image","url":"/cubes-and-clouds/build/13301335bb11e404715202634c4bb6c0.png","alt":"Dask.array","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"YJF4ZV3jrO","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/dashboardlink.png"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"You can click several buttons marked with blue arrows in the following images, and then drag and drop them wherever you want.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vU7W7RQaEH"}],"key":"SOodNWktRC"},{"type":"image","url":"/cubes-and-clouds/build/7cd9c2228eabbba5874d10af09e69bf8.png","alt":"Dask.array","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"sLLTep82SV","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/dasklab.png"},{"type":"image","url":"/cubes-and-clouds/build/4ab5130b44730782abf1860db4574b53.png","alt":"Dask.array","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"dxQfCYt1a7","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/refs/heads/main/lectures/2.4_formats_and_performance/exercises/assets/exampledasklab.png"},{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"It’s really helpful to understand your computation and how it’s distributed.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Uy40DcO5Xf"}],"key":"iUAKYcvjWU"}],"key":"ubiY3EQTpC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dask Distributed computations on our dataset","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PCa7qp88lH"}],"identifier":"dask-distributed-computations-on-our-dataset","label":"Dask Distributed computations on our dataset","html_id":"dask-distributed-computations-on-our-dataset","implicit":true,"key":"zmgpxXFV2t"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Let’s open the Zarr dataset we’ve prepared in ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"q7g7dsVpVf"},{"type":"link","url":"/lectures/formats-and-performance/exercises/chunking","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"previous chunking excersise","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fmnRzxe3AD"}],"urlSource":"./24_chunking.ipynb","dataUrl":"/lectures.formats-and-performance.exercises.chunking.json","internal":true,"protocol":"file","key":"mxnoI8Qme5"},{"type":"text","value":", select a single location over time, visualize the task graph generated by Dask, and observe the Dask Dashboard.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"t0ECSvY5KV"}],"key":"ZhmgSIpm29"}],"key":"oO8GeT4mJF"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import xarray as xr\nndvi = xr.open_zarr('test.zarr')\nndvi","visibility":"show","key":"NV4TP1o6fp"},{"type":"outputs","id":"vW7VrttvPVXiAhX1TCrW3","children":[],"visibility":"show","key":"aBTPbQfnZM"}],"visibility":"show","key":"SxuoGMNqOB"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi['data'].mean(dim='x')","visibility":"show","key":"mumOLWlWFK"},{"type":"outputs","id":"wIyCOREIRrdwBKUeaY_5-","children":[],"visibility":"show","key":"sqFG3Bwp1s"}],"visibility":"show","key":"wDvMEP9vAK"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Did you notice something on the Dask Dashboard when running the two previous cells?","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TFcMk9gfpi"}],"identifier":"did-you-notice-something-on-the-dask-dashboard-when-running-the-two-previous-cells","label":"Did you notice something on the Dask Dashboard when running the two previous cells?","html_id":"did-you-notice-something-on-the-dask-dashboard-when-running-the-two-previous-cells","implicit":true,"key":"fhbb4h20aK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We didn’t actually ‘compute’ anything. Instead, we built a Dask task graph, with its size indicated as a count above, but we didn’t ask Dask to return a result.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pJBwEDAZqd"}],"key":"vvgOObeq4r"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"You can check the ‘Dask graph’ to see how many layers it contains, which will help you estimate the complexity of your computation.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"KPDE5UdXPm"}],"key":"BeQaus8zRY"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"It shows that you have ‘4 graphs’. This can be optimized in the following steps.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"apJsGIuzlG"}],"key":"P7M5RtvXvO"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Let’s try to plot the Dask graph before computation and understand what the Dask workers will do to compute the result we asked for.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"T2uaBxtNz2"}],"key":"F5eA3G9U4l"}],"key":"sCRg7m7gKt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi['data'].mean(dim='x').data.visualize()","visibility":"show","key":"MJdlcEZrYj"},{"type":"outputs","id":"HF8bW_hWSPJJ-2UJyEz-i","children":[],"visibility":"show","key":"SCjwWMkXMy"}],"visibility":"show","key":"VDu1j8TjiF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s average the time dimension and see how it differs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jgulhlzoHG"}],"key":"GiMRsNSy97"}],"key":"z0XtgQ1jPb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi['data'].mean(dim='time').data.visualize()","visibility":"show","key":"VCXHtwZxvY"},{"type":"outputs","id":"Y-9aKKrU9N2mMI7gGIvy9","children":[],"visibility":"show","key":"WOxAoQhvnx"}],"visibility":"show","key":"zDJ3rNwAyZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s compute on the Dask workers","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZzOwuobYUw"}],"identifier":"lets-compute-on-the-dask-workers","label":"Let’s compute on the Dask workers","html_id":"lets-compute-on-the-dask-workers","implicit":true,"key":"YVwYcH4aNo"}],"key":"iAnSd9Juoc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"ndvi['data'].mean(dim='time').compute()","visibility":"show","key":"OpgIuaDeer"},{"type":"outputs","id":"uzZ8YmtL5LWnXuM6qvqtM","children":[],"visibility":"show","key":"TL5jUkFxdI"}],"visibility":"show","key":"bPVHE76vaH"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calling compute on our Xarray object triggered the execution on Dask Cluster side.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rkRHbsKUtn"}],"key":"NKk6ZyVvvl"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"You should be able to see how Dask is working on Dask Dashboard.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eXkwvcYRfl"}],"key":"wJPldMZqi8"}],"key":"I8XMtE0aiX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s try a bigger computation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"B8uDefFREh"}],"identifier":"lets-try-a-bigger-computation","label":"Let’s try a bigger computation","html_id":"lets-try-a-bigger-computation","implicit":true,"key":"tLGPYYuenQ"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will re-use the procedure we’ve learned in the previous chunking notebook.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"t9XwyE7yop"}],"key":"NowXmNjcXl"}],"key":"exmAUfEofw"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"### Load data using stackstac (with specific chunk) \nimport stackstac\nimport pystac_client\nimport geopandas as gpd\nfrom shapely.geometry import mapping\nimport numpy as np\nimport warnings\nimport rioxarray\n\nwarnings.filterwarnings(\"ignore\")\nwarnings.simplefilter(\"ignore\", RuntimeWarning)\n\naoi = gpd.read_file('./assets/catchment_outline.geojson', crs=\"EPGS:4326\")\naoi_geojson = mapping(aoi.iloc[0].geometry)\nURL = \"https://earth-search.aws.element84.com/v1\"\ncatalog = pystac_client.Client.open(URL)\nitems = catalog.search(\n    intersects=aoi_geojson,\n    collections=[\"sentinel-2-l2a\"],\n    datetime=\"2019-02-01/2019-03-28\",\n    query= {\"proj:epsg\": dict(eq=32632)}\n).item_collection()\n\nds = stackstac.stack(items,\n                     assets=['red','nir'],\n                     chunksize=(1,2,1024,1024)\n                    )\nds","visibility":"show","key":"F0nMfeeIQD"},{"type":"outputs","id":"yWb2llOZNj0N1J6CwyNf0","children":[],"visibility":"show","key":"yDuSt4VdfN"}],"visibility":"show","key":"ABNCJwxB0i"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"By inspecting any of the variables in the representation above, you’ll see that the data array represents ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Iygr1CUKVr"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"over 188 GiB of data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"laRcaTG1yb"}],"key":"mhNfXo7955"},{"type":"text","value":", which is much more than the available memory on this notebook server or the Dask Local Cluster we created earlier. But thanks to chunking, we can still analyze it!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"otsz3qN9nQ"}],"key":"K9kStt1ClU"}],"key":"Y5BE7CCLDr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"## Computing the NDVI\ndef NDVI(data):\n    red = data.sel(band=\"red\")\n    nir = data.sel(band=\"nir\")\n    ndvi = (nir - red)/(nir + red)\n    return ndvi\n\nndvi_xr = NDVI(ds)\n\n## Clip the data\naoi_utm32 = aoi.to_crs(epsg=32632)\ngeom_utm32 = aoi_utm32.iloc[0]['geometry']\nndvi_xr.rio.write_crs(\"EPSG:32632\", inplace=True)\nndvi_xr.rio.set_nodata(np.nan, inplace=True)\nndvi_xr = ndvi_xr.rio.clip([geom_utm32])\nndvi_xr.rio.set_nodata(np.nan, inplace=True)\n\nndvi_xr = ndvi_xr.groupby(ndvi_xr.time.dt.floor('D')).max(skipna=True)\nndvi_xr = ndvi_xr.chunk(chunks = {'x':'auto', 'y': 'auto'})\nndvi_xr","visibility":"show","key":"uBBrgk6EqA"},{"type":"outputs","id":"Vhf-WYkAVJSsaU2h9qdNm","children":[],"visibility":"show","key":"wAwK9culqR"}],"visibility":"show","key":"yfx35mrh6R"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Perform the same steps as in the previous exercise to convert to a Dataset and clean out problematic attributes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CBrPrv0evb"}],"key":"CiEqMTAIEC"}],"key":"py8ICDDDm4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"ndvi_xr = ndvi_xr.to_dataset(name='data')\n\ndef remove_attrs(obj, to_remove):\n    new = obj.copy()\n    new.attrs = {k: v for k, v in obj.attrs.items() if k not in to_remove}\n    return new\n\ndef encode(obj):\n    object_coords = [name for name, coord in obj.coords.items() if coord.dtype.kind == \"O\"]\n    return obj.drop_vars(object_coords).pipe(remove_attrs, [\"spec\", \"transform\"])\n\nndvi_xr = ndvi_xr.pipe(encode)","key":"lHdwG9lN2Y"},{"type":"outputs","id":"FWUmafJkLEedJ-L9lGB4U","children":[],"key":"dU3hrKSVov"}],"key":"RHbHpc7t1t"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nimport numpy\nwith np.errstate(all=\"ignore\"):\n    ndvi_xr.to_zarr('ndvi.zarr',mode='w')","visibility":"show","key":"yPWyhDVR4Z"},{"type":"outputs","id":"oQFAHTldHLznA_0GUYbXD","children":[],"visibility":"show","key":"J5OnZec6Uo"}],"visibility":"show","key":"TYXSYGRkDA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Close client to terminate local dask cluster","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zfb4Nri1Iq"}],"identifier":"close-client-to-terminate-local-dask-cluster","label":"Close client to terminate local dask cluster","html_id":"close-client-to-terminate-local-dask-cluster","implicit":true,"key":"S33788WQvu"}],"key":"XobdkGKB5t"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zfTfp2AqLJ"},{"type":"inlineCode","value":"Client","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JG1tG3zO5H"},{"type":"text","value":" and associated ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VDyseerXGF"},{"type":"inlineCode","value":"LocalCluster","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J7K0ognVIz"},{"type":"text","value":" object will be automatically closed when your Python session ends. When using Jupyter notebooks, we recommend to close it explicitely whenever you are done with your local Dask cluster.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CbpQoE1aXT"}],"key":"iSNGQMXby7"}],"key":"ShGCrmKVVB"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"client.close()","visibility":"show","key":"nmiSj7chBe"},{"type":"outputs","id":"DwCa7Uc6QnP8yIta4x7QS","children":[],"visibility":"show","key":"m0gzLLeX2n"}],"visibility":"show","key":"zDCT0n4vcz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Conclusion","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UiGntMlKv6"}],"identifier":"conclusion","label":"Conclusion","html_id":"conclusion","implicit":true,"key":"lJ09EvCDlt"}],"key":"oBa9I0sEi5"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In this exercise, we created a Dask cluster on a single machine, which is equivalent to vertical scaling as described in ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uolAMf4h1e"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"2.4 Formats and Performance","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cBWxPdC4kT"}],"key":"Mz1Je5IsAn"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NszR1zQOA4"}],"key":"PVgH3IZYZK"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"However, the speedup is limited to the resources of your single machine. This is where horizontal scaling comes in. By adding resources from other machines, you can expand your computing power! In the case of dask, you can use the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X4EsdBcNVX"},{"type":"link","url":"https://gateway.dask.org/#dask-gateway","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask Gatway","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nlxfAmxBud"}],"urlSource":"https://gateway.dask.org/#dask-gateway","key":"UBsc5pWtjq"},{"type":"text","value":".","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZVVJqNT1jC"},{"type":"break","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"w5bJh6lisD"},{"type":"text","value":"The Pangeo community hosts tutorials using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sVAOfAewcV"},{"type":"link","url":"'https://pangeo-eosc.vm.fedcloud.eu/hub/'","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Pangeo@EOSC","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"rOXzhj8UPS"}],"urlSource":"'https://pangeo-eosc.vm.fedcloud.eu/hub/'","key":"vXLvHn0r8y"},{"type":"text","value":". With the Pangeo EOSC deployment, you can learn how to use Dask Gateway to manage Dask clusters over Kubernetes, allowing us to run our data analysis in parallel, e.g. distribute tasks across multiple workers.\nIf you are a user of HPC center, you can also consider using ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"jtuVVwCiof"},{"type":"link","url":"https://docs.dask.org/en/stable/deploying-hpc.html#high-performance-computers","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Dask-jobque","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"XTpiIBTZQz"}],"urlSource":"https://docs.dask.org/en/stable/deploying-hpc.html#high-performance-computers","key":"IUC5cTRbqb"},{"type":"text","value":" or Dask HPC for this.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B5ozhiTKV7"}],"key":"d9CUj9T6qV"}],"key":"yrQkRNc00B"}],"key":"Svz0rDo7XB"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"2.4 Data chunking with Pangeo","url":"/lectures/formats-and-performance/exercises/chunking","group":"Data formats for achieving scalability"},"next":{"title":"2.4 Formats and Performance","url":"/lectures/formats-and-performance/exercises/energy-consumption","group":"Data formats for achieving scalability"}}},"domain":"http://localhost:3000"},"project":{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-8b59371abc93b45fd2da9eed41a0ca58.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.exercises.data-properties","title":"2.2 Data Discovery \u0026 Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-d417b9b37bc9b6ea44b3df31b00ab1d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-d417b9b37bc9b6ea44b3df31b00ab1d2.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.formats-and-performance.exercises.chunking","title":"2.4 Data chunking with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.dask","title":"2.4 Scaling with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.energy-consumption","title":"2.4 Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-f9c422fdb7b3fa328e761816ac40feaf.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.exercises.validation-pangeo","title":"3.2 Validation of the results with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cubes-and-clouds/build/manifest-3595279D.js";
import * as route0 from "/cubes-and-clouds/build/root-SIO6LUTY.js";
import * as route1 from "/cubes-and-clouds/build/routes/$-PRP77N34.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cubes-and-clouds/build/entry.client-PCJPW7TK.js");</script></body></html>