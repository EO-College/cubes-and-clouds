<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>3.2 Validation of the results with Pangeo - Cubes and Clouds Notebooks</title><meta property="og:title" content="3.2 Validation of the results with Pangeo - Cubes and Clouds Notebooks"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of Cubes and Clouds learning notebooks"/><meta property="og:description" content="Collection of Cubes and Clouds learning notebooks"/><meta name="keywords" content=""/><meta name="image" content="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg"/><meta property="og:image" content="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg"/><link rel="stylesheet" href="/cubes-and-clouds/build/_assets/app-MOQGDXHO.css"/><link rel="stylesheet" href="/cubes-and-clouds/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cubes-and-clouds/favicon.ico"/><link rel="stylesheet" href="/cubes-and-clouds/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cubes-and-clouds/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 dark:text-gray-300 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="Cubes and Clouds Notebooks" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/cubes-and-clouds/">Cubes and Clouds Notebooks</a><a title="How to contribute" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/cubes-and-clouds/contributing">How to contribute</a><a title="Contributors" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30" href="/cubes-and-clouds/contributors">Contributors</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 pl-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Lectures" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/cubes-and-clouds/lectures/readme">Lectures</a><button class="self-stretch flex items-center flex-none px-1 rounded-l-md group hover:bg-slate-300/30 focus-visible:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><a class="myst-made-with-myst flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">Cubes and Clouds learning materials</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/EO-college/cubes-and-clouds" title="GitHub Repository: EO-college/cubes-and-clouds" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/3.2_validation/exercises/32_validation_pangeo.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">3.2 Validation of the results with Pangeo</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="TsJmFOtkoW" class="myst-jp-nb-block relative group/block"><img id="kkwXR3M6CA" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg" alt="Cubes &amp; Clouds logo" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg" class=""/></div><div id="S1HAjNfboK" class="myst-jp-nb-block relative group/block"><img id="fowMOT4VuJ" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/0f8adf2e4ec0feb14584840545a0ae3a.png" alt="Pangeo logo" data-canonical-url="https://raw.githubusercontent.com/pangeo-data/pangeo.io/refs/heads/main/public/Pangeo-assets/pangeo_logo.png" class=""/><p>In this exercise, we focus on the validation of the results we have produced when using the Pangeo ecosystem. In general, the accuracy of a satellite derived product is expressed by comparing it to in-situ measurements. Furthermore, we will compare the resulting snow cover time series to the runoff of the catchment to check the plausibility of the observed relationship.</p><p>The steps involved in this analysis:</p><ul><li><p>Generate Datacube time-series of snowmap,</p></li><li><p>Load <em>in-situ</em> datasets: snow depth station measurements,</p></li><li><p>Pre-process and filter <em>in-situ</em> datasets to match area of interest,</p></li><li><p>Perform validation of snow-depth measurements,</p></li><li><p>Plausibility check with runoff of the catchment</p></li></ul></div><div id="bruloB2FLd" class="myst-jp-nb-block relative group/block"><p>Start by creating the folders and data files needed to complete the exercise.</p></div><div id="y22PXlyRUH" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">!mkdir -p 32_results</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="POtwOA2ohpq1i82roANMB" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="joHkVSwvAr" class="myst-jp-nb-block relative group/block"><h2 id="libraries" class="relative group"><span class="heading-text">Libraries</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#libraries" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="zbGBeFguaN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import json
from datetime import date
import numpy as np
import pandas as pd

import xarray as xr
import rioxarray as rio

import matplotlib.pyplot as plt
import rasterio
from rasterio.plot import show

import geopandas as gpd
import folium

from _32_pangeo_utilities import ( calculate_sca,
                                 station_temporal_filter,
                                 station_spatial_filter,
                                 binarize_snow,
                                 assign_site_snow,
                                 validation_metrics)
import os
import warnings;
warnings.filterwarnings(&#x27;ignore&#x27;);</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="cc4Dfy_HyZkocasi-1b8a" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="m6SpVkvXvE" class="myst-jp-nb-block relative group/block"><h2 id="region-of-interest" class="relative group"><span class="heading-text">Region of Interest</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#region-of-interest" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="uiu2ik4jeG" class="myst-jp-nb-block relative group/block"><p>Load the Val Passiria Catchment, our region of interest. And plot it.</p></div><div id="D46t9B1Fs2" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_outline = gpd.read_file(&#x27;32_data/catchment_outline.geojson&#x27;, crs=&quot;EPGS:4326&quot;)
catchment_outline</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="IofuPtgg4n5FPEY72WFAX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="vxnHaLgxQq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">center_loc = catchment_outline.to_crs(&#x27;+proj=cea&#x27;).centroid.to_crs(epsg=&quot;4326&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FDCW-tXuqv0hWtvtYikq6" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="w35LrmFxAM" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># OpenStreetMap
map = folium.Map(location=[float(center_loc.y.iloc[0]), float(center_loc.x.iloc[0])], tiles=&quot;OpenStreetMap&quot;, zoom_start=9)
geo_j = catchment_outline[&quot;geometry&quot;].to_json()
geo_j = folium.GeoJson(data=geo_j, style_function=lambda x: {&quot;fillColor&quot;: &quot;orange&quot;})
geo_j.add_to(map)
map</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="C0loz3Dh0eAagQM9eYpdW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="UeL3fXSvn1" class="myst-jp-nb-block relative group/block"><h2 id="generate-datacube-of-snowmap" class="relative group"><span class="heading-text">Generate Datacube of Snowmap</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#generate-datacube-of-snowmap" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="zrvLfrPftf" class="myst-jp-nb-block relative group/block"><p>We have prepared the workflow to generate the snow map as a python function <code>calculate_sca()</code>. The <code>calculate_sca()</code> is from <code>_32_pangeo_utilities</code> and is used to reproduce the snow map process graph using the Pangeo software stack.</p></div><div id="JujR1Qfh2L" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">start_date = &quot;2018-02-01&quot;
end_date = &quot;2018-06-30&quot;
bbox = tuple(catchment_outline.bounds.iloc[0])
temporal_extent = [start_date, end_date]
snow_map_cloud_free = calculate_sca(bbox, temporal_extent)
snow_map_cloud_free</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="dv58EAuJX4JyEKuiHqwGO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ghp3urTn02" class="myst-jp-nb-block relative group/block"><h2 id="load-snow-station-in-situ-data" class="relative group"><span class="heading-text">Load snow-station in-situ data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-snow-station-in-situ-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Load the <em>in-situ</em> datasets, snow depth station measurements. They have been compiled in the ClirSnow project and are available here: <cite class="" data-state="closed"><a href="https://doi.org/10.5281/ZENODO.5109574" target="_blank" rel="noreferrer" class="hover-link">Snow Cover in the European Alps</a></cite> with stations in our area of interest.</p><p>We have made the data available for you already. We can load it directly.</p></div><div id="hksdIHFRt4" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># load snow station datasets from zenodo:: https://zenodo.org/record/5109574
station_df = pd.read_csv(&quot;32_data/data_daily_IT_BZ.csv&quot;, parse_dates=[&quot;Date&quot;], date_format=&quot;%d.%m.%y&quot;)
station_df.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="e_NcOOpknq4g5ZuTPElSX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="j8xozgZX99" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># load additional metadata for acessing the station geometries
station_df_meta = pd.read_csv(&quot;32_data/meta_all.csv&quot;)
station_df_meta.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="lzJIZ7xCiQRKV3bmrn4M9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="yZSKpBqqgW" class="myst-jp-nb-block relative group/block"><h2 id="pre-process-and-filter-in-situ-snow-station-measurements" class="relative group"><span class="heading-text">Pre-process and filter <em>in-situ</em> snow station measurements</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#pre-process-and-filter-in-situ-snow-station-measurements" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><h3 id="filter-temporally" class="relative group"><span class="heading-text">Filter Temporally</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filter-temporally" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Filter the in-situ datasets to match the snow-map time series using the function <code>station_temporal_filter()</code> from <code>_32_pangeo_utilities.py</code>, which merges the station dataframe with additional metadata needed for the Lat/Long information and convert them to geometries</p></div><div id="BBLh7lxF4t" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snow_stations = station_temporal_filter(station_daily_df = station_df, 
                                        station_meta_df = station_df_meta,
                                        start_date = start_date,
                                        end_date = end_date)
snow_stations.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="96npp7raHR7Q6Tm8nWfFF" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="YeO97Uhxwn" class="myst-jp-nb-block relative group/block"><h3 id="filter-spatially" class="relative group"><span class="heading-text">Filter Spatially</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#filter-spatially" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Filter the in-situ datasets into the catchment area of interest using <code>station_spatial_filter()</code> from <code>cubes_utilities.py</code>.</p></div><div id="yM3K4SPsJs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations = station_spatial_filter(snow_stations, catchment_outline)
catchment_stations.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="1X0b0ZS7kWN-H-saf8a0O" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tbtGVSBndT" class="myst-jp-nb-block relative group/block"><h3 id="plot-the-filtered-stations" class="relative group"><span class="heading-text">Plot the filtered stations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#plot-the-filtered-stations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Visualize location of snow stations</p></div><div id="tXfAixp8Jp" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">print(&quot;There are&quot;, len(np.unique(catchment_stations.Name)), &quot;unique stations within our catchment area of interest&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Ppx0_2dZUKapdPQol51D0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TJo47dn1UW" class="myst-jp-nb-block relative group/block"><p><strong><em>Quick Hint: Remember the number of stations within the catchment for the final quiz exercise</em></strong></p></div><div id="TijtSZGS48" class="myst-jp-nb-block relative group/block"><h3 id="convert-snow-depth-to-snow-presence" class="relative group"><span class="heading-text">Convert snow depth to snow presence</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#convert-snow-depth-to-snow-presence" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The stations are measuring snow depth. We only need the binary information on the presence of snow (yes, no). We use the <code>binarize_snow()</code>  function from <code>cubes_utilities.py</code> to assign 0 for now snow and 1 for snow in the <strong>snow_presence</strong> column.</p></div><div id="RkRiZ3uKkU" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations = catchment_stations.assign(snow_presence=catchment_stations.apply(binarize_snow, axis=1))
catchment_stations.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ac0X2McApSC6uBr4Irh4x" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="nN0u8r8jE0" class="myst-jp-nb-block relative group/block"><h3 id="save-the-pre-processed-snow-station-measurements" class="relative group"><span class="heading-text">Save the pre-processed snow station measurements</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#save-the-pre-processed-snow-station-measurements" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Save snow stations within catchment as GeoJSON</p></div><div id="AG4F8hw1LK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">with open(&quot;32_results/catchment_stations_pangeo.geojson&quot;, &quot;w&quot;) as file:
    file.write(catchment_stations.to_json())</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="X2I-1X5XTpWW7uAHqwhe-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sNZxp0iGYk" class="myst-jp-nb-block relative group/block"><h2 id="extract-sca-from-the-data-cube-per-station" class="relative group"><span class="heading-text">Extract SCA from the data cube per station</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#extract-sca-from-the-data-cube-per-station" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="VUOjBAvCVb" class="myst-jp-nb-block relative group/block"><h3 id="prepare-snow-station-data-for-usage-in-pangeo" class="relative group"><span class="heading-text">Prepare snow station data for usage in Pangeo</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#prepare-snow-station-data-for-usage-in-pangeo" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Create a buffer of approximately 80 meters (0.00075 degrees) around snow stations and visualize them.</p></div><div id="kVGWlwFhes" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd = gpd.read_file(&quot;32_results/catchment_stations_pangeo.geojson&quot;)

# OpenStreetMap
map = folium.Map(location=[float(center_loc.y.iloc[0]), float(center_loc.x.iloc[0])], tiles=&quot;OpenStreetMap&quot;, zoom_start=10)

# catchment
catchment_layer = folium.FeatureGroup(name=&quot;catchment&quot;, show=True).add_to(map)
folium.GeoJson(data=catchment_outline[&quot;geometry&quot;].to_json(), style_function=lambda x: {&quot;fillColor&quot;: &quot;orange&quot;}).add_to(catchment_layer)

# catchment stations
stations_layer = folium.FeatureGroup(name=&quot;catchment stations&quot;, show=True).add_to(map)

for _, r in catchment_stations_gpd[[&quot;Longitude&quot;, &quot;Latitude&quot;]].drop_duplicates().iterrows():
    # Place the markers with the popup labels and data
    folium.Marker(location=[r[&quot;Latitude&quot;], r[&quot;Longitude&quot;]],
                  popup=&quot;Latitude: &quot; + str(r[&quot;Latitude&quot;]) 
                  + &quot;&lt;br&gt;&quot; 
                  + &quot;Longitude: &quot; + str(r[&quot;Longitude&quot;])
                 ).add_to(stations_layer)
    
# catchment buffer
buffer_layer = folium.FeatureGroup(name=&quot;catchment station buffer&quot;, show=True).add_to(map)
catchment_stations_gpd[&quot;geometry&quot;] = catchment_stations_gpd.geometry.buffer(0.00075)

for _, r in catchment_stations_gpd[[&quot;geometry&quot;]].drop_duplicates().iterrows():
    # Place the markers with the popup labels and data
    folium.GeoJson(data=catchment_stations_gpd[&quot;geometry&quot;].to_json(), style_function=lambda x: {&quot;color&quot;: &quot;#0F7229&quot;, &quot;fillOpacity&quot;: 0}).add_to(buffer_layer)


folium.LayerControl().add_to(map)
map</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="wOAB47xQ_mdHgHg1Dc3oh" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="UbUR3ud9jG" class="myst-jp-nb-block relative group/block"><p>Get the unique geometries for each catchment station buffer</p></div><div id="wqYxVULz5u" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd.geometry.drop_duplicates()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="412hXo3mVwyHidh8unJt-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="C3O9gzeqoT" class="myst-jp-nb-block relative group/block"><h3 id="extract-sca-from-the-data-cube-per-station-1" class="relative group"><span class="heading-text">Extract SCA from the data cube per station</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#extract-sca-from-the-data-cube-per-station-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We extract the SCA value of our data cube at the buffered station locations. Therefore we use the process <code>aggregate_spatial()</code> with the aggregation method <code>median()</code>. This gives us the most common value in the buffer (snow or snowfree).</p></div><div id="Qmz3GXpJor" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snow_map_cloud_free.rio.write_crs(&quot;EPSG:32632&quot;, inplace=True)
snow_map_cloud_free.rio.set_nodata(np.nan, inplace=True)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="0YlOd8bPkiL9CE8mSBqxZ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="TJqEAv7Peg" class="myst-jp-nb-block relative group/block"><h3 id="reduce-the-amount-of-data-by-selecting-a-small-area-of-interest-aoi" class="relative group"><span class="heading-text">Reduce the amount of data by selecting a small Area Of Interest (AOI)</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#reduce-the-amount-of-data-by-selecting-a-small-area-of-interest-aoi" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="UT5z3TR2WS" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd_utm32 = catchment_stations_gpd.to_crs(epsg=32632)
minx, miny, maxx, maxy = catchment_stations_gpd_utm32[[&quot;geometry&quot;]].drop_duplicates().total_bounds</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="mHcjJoAmiop18NQE_XzIq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="B1QSYKAfT3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snowmap_clipped = snow_map_cloud_free.sel(x=slice(minx,maxx), y = slice(maxy, miny))
snowmap_clipped</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZozPdyKLawHGZiUaTqD7k" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gtFTSusmVH" class="myst-jp-nb-block relative group/block"><h3 id="aggregate-to-daily-values" class="relative group"><span class="heading-text">Aggregate to daily values</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#aggregate-to-daily-values" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Data aggregation is a very important step in the analysis. It allows to reduce the amount of data and to make the analysis more efficient. Moreover as in this case we are going to aggregate the date to daily values, this will allow use to compute statistic on the data at the basin scale later on.</p><p>The <code>groupby</code> method allows to group the data by the time dimension, aggregating to the date and removing the time information, once the group is obtained we will aggregate the data by taking the max value.</p></div><div id="ERUzTOkyJw" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">geoms = []
for _, r in catchment_stations_gpd_utm32[[&quot;geometry&quot;]].drop_duplicates().iterrows():
    geoms.append(r[&quot;geometry&quot;])

snowmap_clipped = snow_map_cloud_free.rio.clip(geoms).groupby(snow_map_cloud_free.time.dt.floor(&#x27;D&#x27;)).max(dim=&quot;time&quot;)
snowmap_clipped = snowmap_clipped.rename({&quot;floor&quot;:&quot;time&quot;})</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="xxfTAzW8HWqbavq712NdP" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="yLzDuktIBz" class="myst-jp-nb-block relative group/block"><p>It’s time to persist the data in memory. We will use the persist method to load the data in memory and keep it there until the end of the analysis.</p></div><div id="Dcx76bVvPZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
snowmap_clipped.persist()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="PkBeAlfSPdJRx2lvufSZ-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="LKyNRkte1P" class="myst-jp-nb-block relative group/block"><h3 id="extract-sca-from-the-data-cube-per-station-2" class="relative group"><span class="heading-text">Extract SCA from the data cube per station</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#extract-sca-from-the-data-cube-per-station-2" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We extract the SCA value of our data cube at the buffered station locations. Therefore we use the aggregation method <code>median()</code>. This gives us the most common value in the buffer (snow or snowfree).</p><p><strong>Please note: this step may take around 5 minutes!</strong></p></div><div id="Of9ioGLFVO" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time
x = []
for _, r in catchment_stations_gpd_utm32[[&quot;geometry&quot;]].drop_duplicates().iterrows():
    snowmap_station = snowmap_clipped.rio.clip([r[&quot;geometry&quot;]])
    snowmap_station.persist()
    median = snowmap_station.median([&quot;x&quot;,&quot;y&quot;])
    x.append(median.to_pandas())</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Iq0jtVgxQD-iNQux7Ti0h" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sFbStCkAeg" class="myst-jp-nb-block relative group/block"><p>Save the values into csv files</p></div><div id="qrceddDn8J" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%time

if not os.path.exists(&quot;32_results/snowmap_pangeo/&quot;):
    os.makedirs(&quot;32_results/snowmap_pangeo&quot;)
for idx,r in catchment_stations_gpd_utm32[[&quot;Name&quot;]].drop_duplicates().iterrows():
    print(idx, r[&quot;Name&quot;])
    x[idx].to_csv(&quot;32_results/snowmap_pangeo/&quot; + r[&quot;Name&quot;] + &quot;.csv&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6y1MrBlz568RSUMlUX8lS" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IWuU0tiMPr" class="myst-jp-nb-block relative group/block"><h2 id="combine-station-measurements-and-the-extracted-sca-from-our-data-cube" class="relative group"><span class="heading-text">Combine station measurements and the extracted SCA from our data cube</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#combine-station-measurements-and-the-extracted-sca-from-our-data-cube" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>The <strong>station measurements</strong> are <strong>daily</strong> and all of the stations are combined in <strong>one csv file</strong>.
The <strong>extracted SCA values</strong> are in the best case <strong>six-daily</strong> (Sentinel-2 repeat rate) and also all stations are in <strong>one json file</strong>.
We will need to join the the extracted SCA with the station measurements by station (and time (selecting the corresponding time steps)</p></div><div id="cIadthYI6m" class="myst-jp-nb-block relative group/block"><h3 id="extract-snow-values-from-sca-extracted-at-the-station-location" class="relative group"><span class="heading-text">Extract snow values from SCA extracted at the station location</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#extract-snow-values-from-sca-extracted-at-the-station-location" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s have a look at the data structure first</p></div><div id="V0jZBK4snx" class="myst-jp-nb-block relative group/block"><p>Open the snow covered area time series extracted at the stations. We’ll have a look at it in a second.</p></div><div id="wa6HU4aFHB" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">x = []
for idx,r in catchment_stations_gpd[[&quot;Name&quot;]].drop_duplicates().iterrows():
    print(idx, r[&quot;Name&quot;])
    x.append(pd.read_csv(&quot;32_results/snowmap_pangeo/&quot; + r[&quot;Name&quot;] + &quot;.csv&quot;, parse_dates=[&quot;time&quot;], index_col=&quot;time&quot;))</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Wr0kBGfGB61uXCICezeoY" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="r1iVeJwdZz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dates = x[0].index.tolist()
snow_val_smartino = [y[0] for y in x[0].values]
snow_val_rifiano = [y[0] for y in x[1].values]
snow_val_plata = [y[0] for y in x[2].values]
snow_val_sleonardo = [y[0] for y in x[3].values]
snow_val_scena = [y[0] for y in x[4].values]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Xf250a71Y1gMqIsULZ_mv" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Vu5c6aieh5" class="myst-jp-nb-block relative group/block"><h3 id="match-in-situ-measurements-to-dates-in-sca" class="relative group"><span class="heading-text">Match in-situ measurements to dates in SCA</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#match-in-situ-measurements-to-dates-in-sca" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Let’s have a look at the in-situ measurement data set.</p></div><div id="EwUwJ9rijK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd = gpd.read_file(&quot;32_results/catchment_stations_pangeo.geojson&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="d8Yegtq8TjIqml5haElIc" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="D2xRhOwjwb" class="myst-jp-nb-block relative group/block"><p>Convert column “id” from strings to dates to enable selection by dates</p></div><div id="pdi653hsWG" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd[&quot;id&quot;] = pd.to_datetime(catchment_stations_gpd[&quot;id&quot;])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="--CVSGoKm6CNZdN5dKTYl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="wEhJCCeBpY" class="myst-jp-nb-block relative group/block"><p>We are going to extract each station and keep only the dates that are available in the SCA results.</p></div><div id="m66upi9Lyb" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd_smartino = catchment_stations_gpd.query(&quot;Name == &#x27;S_Martino_in_Passiria_Osservatore&#x27;&quot;)
catchment_stations_gpd_smartino = catchment_stations_gpd_smartino[
    catchment_stations_gpd_smartino.id.isin(dates)
]

catchment_stations_gpd_rifiano = catchment_stations_gpd.query(&quot;Name == &#x27;Rifiano_Beobachter&#x27;&quot;)
catchment_stations_gpd_rifiano = catchment_stations_gpd_rifiano[
    catchment_stations_gpd_rifiano.id.isin(dates)
]

catchment_stations_gpd_plata = catchment_stations_gpd.query(&quot;Name == &#x27;Plata_Osservatore&#x27;&quot;)
catchment_stations_gpd_plata = catchment_stations_gpd_plata[
    catchment_stations_gpd_plata.id.isin(dates)
]

catchment_stations_gpd_sleonardo = catchment_stations_gpd.query(&quot;Name == &#x27;S_Leonardo_in_Passiria_Osservatore&#x27;&quot;)
catchment_stations_gpd_sleonardo = catchment_stations_gpd_sleonardo[
    catchment_stations_gpd_sleonardo.id.isin(dates)
]

catchment_stations_gpd_scena = catchment_stations_gpd.query(&quot;Name == &#x27;Scena_Osservatore&#x27;&quot;)
catchment_stations_gpd_scena = catchment_stations_gpd_scena[
    catchment_stations_gpd_scena.id.isin(dates)
]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="psza73KIsF79AKdcerp4x" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="gmFRe9PFcR" class="myst-jp-nb-block relative group/block"><h3 id="combine-in-situ-measurements-with-sca-results-at-the-stations" class="relative group"><span class="heading-text">Combine in-situ measurements with SCA results at the stations</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#combine-in-situ-measurements-with-sca-results-at-the-stations" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The in situ measurements and the SCA are combined into one data set per station. This will be the basis for the validation.</p></div><div id="O8etiXaVS6" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">smartino_snow = assign_site_snow(catchment_stations_gpd_smartino, snow_val_smartino)
rifiano_snow = assign_site_snow(catchment_stations_gpd_rifiano, snow_val_rifiano)
plata_snow = assign_site_snow(catchment_stations_gpd_plata, snow_val_plata)
sleonardo_snow = assign_site_snow(catchment_stations_gpd_sleonardo, snow_val_sleonardo)
scena_snow = assign_site_snow(catchment_stations_gpd_scena, snow_val_scena)   </code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="elrQecFhKL609Uh94ywaX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="RRd8jUyiXU" class="myst-jp-nb-block relative group/block"><p>Let’s have a look at the SCA extracted at the station Plata Osservatore and it’s in situ measurements.</p></div><div id="BQ2OkY57Wu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd_plata.sample(5)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="QXFGFzaKjit1JlBotHyIg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Tl1BYx4wA5" class="myst-jp-nb-block relative group/block"><p>Display snow presence threshold in in-situ data for Plata Osservatore</p></div><div id="ZQwe293Vbs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_stations_gpd_plata.plot(x=&quot;id&quot;, y=&quot;HS_after_gapfill&quot;,rot=45,kind=&quot;line&quot;,marker=&#x27;o&#x27;)
plt.axhline(y = 0.4, color = &quot;r&quot;, linestyle = &quot;-&quot;)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="QsHsNa4VFPViuEQSTh048" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="h1LgUo2WIs" class="myst-jp-nb-block relative group/block"><h2 id="validate-the-sca-results-with-the-snow-station-measurements" class="relative group"><span class="heading-text">Validate the SCA results with the snow station measurements</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#validate-the-sca-results-with-the-snow-station-measurements" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Now that we have combined the SCA results with the snow station measurements we can start the actual validation. A <strong>confusion matrix</strong> compares the classes of the station data to the classes of the SCA result. The numbers can be used to calculate the accuracy (correctly classified cases / all cases).</p><table class=""><tbody><tr class=""><th class=""></th><th class="">no_snow</th><th class="">snow</th></tr><tr class=""><td class=""><strong>no_snow</strong></td><td class="">correct</td><td class="">error</td></tr><tr class=""><td class=""><strong>snow</strong></td><td class="">error</td><td class="">correct</td></tr></tbody></table></div><div id="ocjzIkxQH0" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import seaborn as sns</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="eXgJmVEHvTEBe-KVJK6GJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="yQrFzIxChN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(10, 6))

fig.suptitle(&quot;Error matrices for snow stations within our selected Catchment&quot;)
sns.heatmap(validation_metrics(smartino_snow)[1], annot=True, xticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], yticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], ax=ax1)
ax1.set_title(&quot;San Martino in Passiria Osservatore&quot;)
ax1.set(xlabel=&quot;Predicted label&quot;, ylabel=&quot;True label&quot;)


sns.heatmap(validation_metrics(rifiano_snow)[1], annot=True, xticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], yticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], ax=ax2)
ax2.set_title(&quot;Rifiano Beobachter&quot;)
ax2.set(xlabel=&quot;Predicted label&quot;, ylabel=&quot;True label&quot;)


sns.heatmap(validation_metrics(plata_snow)[1], annot=True, xticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], yticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], ax=ax3)
ax3.set_title(&quot;Plata Osservatore&quot;)
ax3.set(xlabel=&quot;Predicted label&quot;, ylabel=&quot;True label&quot;)


sns.heatmap(validation_metrics(scena_snow)[1], annot=True, xticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], yticklabels=[&quot;No Snow&quot;, &quot;Snow&quot;], ax=ax4)
ax4.set_title(&quot;Scena Osservatore&quot;)
ax4.set(xlabel=&quot;Predicted label&quot;, ylabel=&quot;True label&quot;)

fig.tight_layout()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="sf05YZgDThkFbkKVaiRWR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xyTuLDrzMJ" class="myst-jp-nb-block relative group/block"><p>The <strong>accuracy</strong> of the snow estimate from the satellite image computation for each station is shown below:</p><table class=""><tbody><tr class=""><th class=""><strong>On-site snow station</strong></th><th class=""><strong>Accuracy</strong></th></tr><tr class=""><td class="">San Martino in Passiria Osservatore</td><td class=""><strong>100.00%</strong></td></tr><tr class=""><td class="">Rifiano Beobachter</td><td class=""><strong>100.00%</strong></td></tr><tr class=""><td class="">Plata Osservatore</td><td class="">92.3%</td></tr><tr class=""><td class="">San Leonardo in Passiria Osservatore</td><td class="">NaN</td></tr><tr class=""><td class="">Scena Osservatore</td><td class=""><strong>100.00%</strong></td></tr></tbody></table></div><div id="yMSjiB7bxP" class="myst-jp-nb-block relative group/block"><p>The fourth station <strong>San Leonardo in Passiria Osservatore</strong> recorded <strong><em>NaNs</em></strong> for snow depths for our selected dates, which could potentially be as a results of malfunctioning on-site equipments. Hence, we are not able to verify for it. But overall, the validation shows a 100% accuracy for stations <strong>San Martino in Passiria Osservatore</strong>, <strong>Rifiano Beobachter</strong> and <strong>Scena Osservatore</strong>, while station <strong>Plata Osservatore</strong> has False Positives decreasing the overall accuracy. This shows a good match between estimated snow values from satellite datasets and on-the ground measurements of the presence of snow.</p></div><div id="CS2yKaX25d" class="myst-jp-nb-block relative group/block"><h2 id="compare-to-discharge-data" class="relative group"><span class="heading-text">Compare to discharge data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#compare-to-discharge-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In addition to computing metrics for validating the data, we also check the plausibility of our results. We compare our results with another measure with a known relationship. In this case, we compare the <strong>snow cover area</strong> time series with the <strong>discharge</strong> time-series at the main outlet of the catchment. We suspect that after snow melting starts, with a temporal lag, the runoff will increase. Let’s see if this holds true.</p></div><div id="bbeZuMMw8N" class="myst-jp-nb-block relative group/block"><p>Load the discharge data at Meran, the main outlet of the catchment. We have prepared this data set for you, it’s extracted from Eurac’s <a target="_blank" rel="noreferrer" href="https://edp-portal.eurac.edu/discovery/9e195271-02ae-40be-b3a7-525f57f53c80" class="link">Environmental Data Platform Alpine Drought Observatory Discharge Hydrological Datasets<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a>).</p></div><div id="tQvghIftP9" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">discharge_ds = pd.read_csv(&#x27;32_data/ADO_DSC_ITH1_0025.csv&#x27;, 
                           sep=&#x27;,&#x27;, index_col=&#x27;Time&#x27;, parse_dates=True)
discharge_ds.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="VOpRwJ_L4d-kkvIxaDJiO" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Zd3YkIaBOF" class="myst-jp-nb-block relative group/block"><p>Load the SCA time series we have generated in a previous exercise. It’s the time series of the aggregated snow cover area percentage for the whole catchment. <strong>Please note: you need to complete the 3.1 exercise before proceeding!</strong></p></div><div id="BUwPD89jjh" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snow_perc_df = pd.read_csv(&quot;../../3.1_data_processing/exercises/31_results/filtered_snow_fraction_pangeo.csv&quot;, 
                          sep=&#x27;,&#x27;, index_col=&#x27;date&#x27;, parse_dates=True)
snow_perc_df.head()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="534liHjQTdilQT9PHJ6pQ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="INqiibFPuD" class="myst-jp-nb-block relative group/block"><p>Let’s plot the relationship between the snow covered area and the discharge in the catchment.</p></div><div id="wfMq7FRd3B" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">start_date = date(2018, 2, 1)
end_date = date(2018, 6, 30)
# filter discharge data to start and end dates
discharge_ds = discharge_ds.loc[start_date:end_date]

ax1 = discharge_ds.discharge_m3_s.plot(label=&#x27;Discharge&#x27;, xlabel=&#x27;&#x27;, ylabel=&#x27;Discharge (m$^3$/s)&#x27;)
ax2 = snow_perc_df[&quot;SCA&quot;].plot(marker=&#x27;o&#x27;, secondary_y=True, label=&#x27;SCA&#x27;, xlabel=&#x27;&#x27;, ylabel=&#x27;Snow cover area (%)&#x27;)
ax1.legend(loc=&#x27;center left&#x27;, bbox_to_anchor=(0, 0.6))
ax2.legend(loc=&#x27;center left&#x27;, bbox_to_anchor=(0, 0.5))
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="h-nzBXk_tHgKQdjggpEuX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="l7eWh3M8pO" class="myst-jp-nb-block relative group/block"><p>The relationship looks as expected! Once the snow cover decreases the runoff increases!</p></div><div class="myst-backmatter-parts"></div><section id="references" class="myst-bibliography article-grid subgrid-gap col-screen"><div><header class="myst-bibliography-header text-lg font-semibold text-stone-900 dark:text-white group">References<a class="no-underline text-inherit hover:text-inherit ml-2 select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#references" title="Link to References" aria-label="Link to References">¶</a></header></div><div class="myst-bibliography-list pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"><ol><li class="myst-bibliography-item break-words" id="cite-https://doi.org/10.5281/zenodo.5109574">Matiu, M., Crespi, A., Bertoldi, G., Carmagnola, C. M., Marty, C., Morin, S., Schöner, W., Cat Berro, D., Chiogna, G., De Gregorio, L., Kotlarski, S., Majone, B., Resch, G., Terzago, S., Valt, M., Beozzo, W., Cianfarra, P., Gouttevin, I., Marcolini, G., … Weilguni, V. (2021). <i>Snow cover in the European Alps: Station observations of snow depth and depth of snowfall</i>. Zenodo. <a target="_blank" rel="noreferrer" href="https://doi.org/10.5281/ZENODO.5109574">10.5281/ZENODO.5109574</a></li></ol></div></section></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cubes-and-clouds/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-CH4FVTDV.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/root-SIO6LUTY.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-FAHZZXAC.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/routes/$-PRP77N34.js"/><script>window.__remixContext = {"url":"/lectures/validation/exercises/validation-pangeo","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.8.0","options":{"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-f037615388415d0c8ef725a0df4d02ff.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.exercises.data-properties","title":"2.2 Data Discovery \u0026 Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-8df5642f173051a60dd8129a449f15a7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing OpenEO Lazy Loading","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing OpenEO Reduce","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing OpenEO Filter","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing OpenEO Resample","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing OpenEO Aggregate","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing OpenEO Apply","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-8df5642f173051a60dd8129a449f15a7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing Pangeo Lazy Loading","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing Pangeo Reduce","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing Pangeo Filter","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing Pangeo Resample","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing Pangeo Aggregate","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing Pangeo Apply","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.formats-and-performance.exercises.chunking","title":"2.4 Data Chunking with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.dask","title":"2.4 Scaling with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.energy-consumption","title":"2.4 Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing OpenEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing STAC","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing OpenEO Platform","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-b0a45c8762605d70d439c476d3523b10.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.exercises.validation-pangeo","title":"3.2 Validation of the results with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cubes-and-clouds"},"routes/$":{"config":{"version":3,"myst":"1.8.0","options":{"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-f037615388415d0c8ef725a0df4d02ff.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.exercises.data-properties","title":"2.2 Data Discovery \u0026 Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-8df5642f173051a60dd8129a449f15a7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing OpenEO Lazy Loading","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing OpenEO Reduce","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing OpenEO Filter","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing OpenEO Resample","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing OpenEO Aggregate","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing OpenEO Apply","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-8df5642f173051a60dd8129a449f15a7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing Pangeo Lazy Loading","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing Pangeo Reduce","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing Pangeo Filter","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing Pangeo Resample","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing Pangeo Aggregate","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing Pangeo Apply","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.formats-and-performance.exercises.chunking","title":"2.4 Data Chunking with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.dask","title":"2.4 Scaling with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.energy-consumption","title":"2.4 Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing OpenEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing STAC","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing OpenEO Platform","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-b0a45c8762605d70d439c476d3523b10.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.exercises.validation-pangeo","title":"3.2 Validation of the results with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}]},"page":{"version":3,"kind":"Notebook","sha256":"d863ef085ebc0ab5bc966c4d37167f30143315aca1a6722706a74d0429b05f35","slug":"lectures.validation.exercises.validation-pangeo","location":"/lectures/3.2_validation/exercises/32_validation_pangeo.ipynb","dependencies":[],"frontmatter":{"title":"3.2 Validation of the results with Pangeo","content_includes_title":false,"kernelspec":{"name":"conda-env-cubes-and-clouds-cubes-and-clouds-pangeo-py","display_name":"cubes-and-clouds-cubes-and-clouds-pangeo","language":"python"},"github":"https://github.com/EO-college/cubes-and-clouds","subject":"Cubes and Clouds learning materials","numbering":{"title":{"offset":3}},"source_url":"https://github.com/EO-college/cubes-and-clouds/blob/main/lectures/3.2_validation/exercises/32_validation_pangeo.ipynb","edit_url":"https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/3.2_validation/exercises/32_validation_pangeo.ipynb","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","exports":[{"format":"ipynb","filename":"32_validation_pangeo.ipynb","url":"/cubes-and-clouds/build/32_validation_pangeo-ad94c74fa8474b629e2b7ed7330ceea0.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","children":[{"type":"image","style":{"float":"center","marginRight":"10px","marginLeft":"10px","maxHeight":"250px"},"url":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","alt":"Cubes \u0026 Clouds logo","key":"kkwXR3M6CA","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg"}],"key":"aSclEf1Bfg"}],"key":"TsJmFOtkoW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px","maxHeight":"80px"},"url":"/cubes-and-clouds/build/0f8adf2e4ec0feb14584840545a0ae3a.png","alt":"Pangeo logo","key":"fowMOT4VuJ","urlSource":"https://raw.githubusercontent.com/pangeo-data/pangeo.io/refs/heads/main/public/Pangeo-assets/pangeo_logo.png"}],"key":"xhb2wIfx1W"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"In this exercise, we focus on the validation of the results we have produced when using the Pangeo ecosystem. In general, the accuracy of a satellite derived product is expressed by comparing it to in-situ measurements. Furthermore, we will compare the resulting snow cover time series to the runoff of the catchment to check the plausibility of the observed relationship.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ivf91WTOR2"}],"key":"BXSA4FV3Zi"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The steps involved in this analysis:","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fZZnCb2AV2"}],"key":"s6wTC5ng3A"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Generate Datacube time-series of snowmap,","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kjPVgGcOzO"}],"key":"laKfSWQ3cl"}],"key":"PUHCj0al0i"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Load ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Tn07RdcNYg"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"in-situ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"u9xCPQ0E5p"}],"key":"jn7HlsPgSU"},{"type":"text","value":" datasets: snow depth station measurements,","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GowOb7hjU5"}],"key":"fOfhhQBt2B"}],"key":"xTgFrmTDrj"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Pre-process and filter ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"J9xsrnwotY"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"in-situ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"KMN4ttyl5v"}],"key":"WC5Oty1oty"},{"type":"text","value":" datasets to match area of interest,","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"fMJrklHfbB"}],"key":"K43Sd3YckH"}],"key":"RVylKjYrhM"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Perform validation of snow-depth measurements,","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"GI68OXxNxy"}],"key":"CdVrKRh7U9"}],"key":"UboLlevZk1"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Plausibility check with runoff of the catchment","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"Fldzx8aNou"}],"key":"Y5fN7zK7ch"}],"key":"gTLRMy61JF"}],"key":"fLX7s5NbIm"}],"key":"S1HAjNfboK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Start by creating the folders and data files needed to complete the exercise.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CW2HzOk8i8"}],"key":"aFs0edHn66"}],"key":"bruloB2FLd"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"!mkdir -p 32_results","visibility":"show","key":"V4ecouw1di"},{"type":"outputs","id":"POtwOA2ohpq1i82roANMB","children":[],"visibility":"show","key":"bfpQUIYqxa"}],"visibility":"show","key":"y22PXlyRUH"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zwcxLsTKjW"}],"identifier":"libraries","label":"Libraries","html_id":"libraries","implicit":true,"key":"yuWieRovTy"}],"key":"joHkVSwvAr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import json\nfrom datetime import date\nimport numpy as np\nimport pandas as pd\n\nimport xarray as xr\nimport rioxarray as rio\n\nimport matplotlib.pyplot as plt\nimport rasterio\nfrom rasterio.plot import show\n\nimport geopandas as gpd\nimport folium\n\nfrom _32_pangeo_utilities import ( calculate_sca,\n                                 station_temporal_filter,\n                                 station_spatial_filter,\n                                 binarize_snow,\n                                 assign_site_snow,\n                                 validation_metrics)\nimport os\nimport warnings;\nwarnings.filterwarnings('ignore');","visibility":"show","key":"wDOcchgvKO"},{"type":"outputs","id":"cc4Dfy_HyZkocasi-1b8a","children":[],"visibility":"show","key":"VIrIpyeeKL"}],"visibility":"show","key":"zbGBeFguaN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Region of Interest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"baAciPDLzN"}],"identifier":"region-of-interest","label":"Region of Interest","html_id":"region-of-interest","implicit":true,"key":"sZCfHTgG7u"}],"key":"m6SpVkvXvE"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the Val Passiria Catchment, our region of interest. And plot it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZoASBjZHhB"}],"key":"rJc3xUjAxj"}],"key":"uiu2ik4jeG"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_outline = gpd.read_file('32_data/catchment_outline.geojson', crs=\"EPGS:4326\")\ncatchment_outline","visibility":"show","key":"eB42cXaHTq"},{"type":"outputs","id":"IofuPtgg4n5FPEY72WFAX","children":[],"visibility":"show","key":"dOB2HZZDNV"}],"visibility":"show","key":"D46t9B1Fs2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"center_loc = catchment_outline.to_crs('+proj=cea').centroid.to_crs(epsg=\"4326\")","visibility":"show","key":"llVVciarJu"},{"type":"outputs","id":"FDCW-tXuqv0hWtvtYikq6","children":[],"visibility":"show","key":"z4WBkfzQmG"}],"visibility":"show","key":"vxnHaLgxQq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# OpenStreetMap\nmap = folium.Map(location=[float(center_loc.y.iloc[0]), float(center_loc.x.iloc[0])], tiles=\"OpenStreetMap\", zoom_start=9)\ngeo_j = catchment_outline[\"geometry\"].to_json()\ngeo_j = folium.GeoJson(data=geo_j, style_function=lambda x: {\"fillColor\": \"orange\"})\ngeo_j.add_to(map)\nmap","visibility":"show","key":"K5q2PsHzjK"},{"type":"outputs","id":"C0loz3Dh0eAagQM9eYpdW","children":[],"visibility":"show","key":"z0wkhhIsik"}],"visibility":"show","key":"w35LrmFxAM"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Generate Datacube of Snowmap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u8n1RYNk3k"}],"identifier":"generate-datacube-of-snowmap","label":"Generate Datacube of Snowmap","html_id":"generate-datacube-of-snowmap","implicit":true,"key":"KdegBt3mvc"}],"visibility":"show","key":"UeL3fXSvn1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We have prepared the workflow to generate the snow map as a python function ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gC82UBCHxI"},{"type":"inlineCode","value":"calculate_sca()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Pk0UWi9I5b"},{"type":"text","value":". The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qhD6IbXSxj"},{"type":"inlineCode","value":"calculate_sca()","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fduZDuH4N4"},{"type":"text","value":" is from ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fFnUTJwMUP"},{"type":"inlineCode","value":"_32_pangeo_utilities","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nFB1An5dLj"},{"type":"text","value":" and is used to reproduce the snow map process graph using the Pangeo software stack.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"T1Uggz66F2"}],"key":"E2ePsMlJ2u"}],"key":"zrvLfrPftf"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"start_date = \"2018-02-01\"\nend_date = \"2018-06-30\"\nbbox = tuple(catchment_outline.bounds.iloc[0])\ntemporal_extent = [start_date, end_date]\nsnow_map_cloud_free = calculate_sca(bbox, temporal_extent)\nsnow_map_cloud_free","visibility":"show","key":"mgu0l1tuMq"},{"type":"outputs","id":"dv58EAuJX4JyEKuiHqwGO","children":[],"visibility":"show","key":"zHjZy5nRYR"}],"visibility":"show","key":"JujR1Qfh2L"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load snow-station in-situ data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vKky1G8UCS"}],"identifier":"load-snow-station-in-situ-data","label":"Load snow-station in-situ data","html_id":"load-snow-station-in-situ-data","implicit":true,"key":"c3KNkxtANI"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Load the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AXCheLmJqw"},{"type":"emphasis","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"in-situ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"K6fMA3gs5c"}],"key":"UZ4obGpnjA"},{"type":"text","value":" datasets, snow depth station measurements. They have been compiled in the ClirSnow project and are available here: ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cY7yANrSwx"},{"type":"cite","url":"https://zenodo.org/record/5109574","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Snow Cover in the European Alps","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"L7PLA5GIUB"}],"kind":"narrative","label":"https://doi.org/10.5281/zenodo.5109574","identifier":"https://zenodo.org/record/5109574","enumerator":"1","key":"SpEe0LkFUK"},{"type":"text","value":" with stations in our area of interest.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"HO16XmoQRs"}],"key":"ibbQtAyoUn"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"We have made the data available for you already. We can load it directly.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"jyRpdNPOsT"}],"key":"NxqrJk6TsV"}],"visibility":"show","key":"ghp3urTn02"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# load snow station datasets from zenodo:: https://zenodo.org/record/5109574\nstation_df = pd.read_csv(\"32_data/data_daily_IT_BZ.csv\", parse_dates=[\"Date\"], date_format=\"%d.%m.%y\")\nstation_df.head()","visibility":"show","key":"gk9fKp16GP"},{"type":"outputs","id":"e_NcOOpknq4g5ZuTPElSX","children":[],"visibility":"show","key":"dApiu46RNK"}],"visibility":"show","key":"hksdIHFRt4"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# load additional metadata for acessing the station geometries\nstation_df_meta = pd.read_csv(\"32_data/meta_all.csv\")\nstation_df_meta.head()","visibility":"show","key":"WOJrqGoYXk"},{"type":"outputs","id":"lzJIZ7xCiQRKV3bmrn4M9","children":[],"visibility":"show","key":"boSbj1kut9"}],"visibility":"show","key":"j8xozgZX99"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pre-process and filter ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JWAepMiCup"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"in-situ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CBLNgNiPEz"}],"key":"VxkpbcyvSl"},{"type":"text","value":" snow station measurements","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dImx5N6De5"}],"identifier":"pre-process-and-filter-in-situ-snow-station-measurements","label":"Pre-process and filter in-situ snow station measurements","html_id":"pre-process-and-filter-in-situ-snow-station-measurements","implicit":true,"key":"emqQpAXRkF"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Filter Temporally","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"j1zF1TqRgj"}],"identifier":"filter-temporally","label":"Filter Temporally","html_id":"filter-temporally","implicit":true,"key":"h8T1qYw57w"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Filter the in-situ datasets to match the snow-map time series using the function ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"VJNYiHWama"},{"type":"inlineCode","value":"station_temporal_filter()","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"HyNqLUxRhw"},{"type":"text","value":" from ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"CXbRpbMQzu"},{"type":"inlineCode","value":"_32_pangeo_utilities.py","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"uaMkxDgvZd"},{"type":"text","value":", which merges the station dataframe with additional metadata needed for the Lat/Long information and convert them to geometries","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Krd6kTx8XM"}],"key":"PyNd1M2TDm"}],"visibility":"show","key":"yZSKpBqqgW"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snow_stations = station_temporal_filter(station_daily_df = station_df, \n                                        station_meta_df = station_df_meta,\n                                        start_date = start_date,\n                                        end_date = end_date)\nsnow_stations.head()","visibility":"show","key":"Og6xxfBMy7"},{"type":"outputs","id":"96npp7raHR7Q6Tm8nWfFF","children":[],"visibility":"show","key":"id7uPsPljJ"}],"visibility":"show","key":"BBLh7lxF4t"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter Spatially","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kEQrKgjrYj"}],"identifier":"filter-spatially","label":"Filter Spatially","html_id":"filter-spatially","implicit":true,"key":"WA61IKveff"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Filter the in-situ datasets into the catchment area of interest using ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"tzvk1qsN8v"},{"type":"inlineCode","value":"station_spatial_filter()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Qdz2C8SwVU"},{"type":"text","value":" from ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"idKhcZbg4O"},{"type":"inlineCode","value":"cubes_utilities.py","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"niNqstdpMB"},{"type":"text","value":".","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"w3dWcnsJOq"}],"key":"zHCnkKmkGJ"}],"key":"YeO97Uhxwn"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations = station_spatial_filter(snow_stations, catchment_outline)\ncatchment_stations.head()","visibility":"show","key":"lSypuOdfZV"},{"type":"outputs","id":"1X0b0ZS7kWN-H-saf8a0O","children":[],"visibility":"show","key":"f41ZHYB80e"}],"visibility":"show","key":"yM3K4SPsJs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the filtered stations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gyNoZUPGkH"}],"identifier":"plot-the-filtered-stations","label":"Plot the filtered stations","html_id":"plot-the-filtered-stations","implicit":true,"key":"dNeun6T9G4"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Visualize location of snow stations","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"br5mH4TMQd"}],"key":"Gwbb2oyqR8"}],"key":"tbtGVSBndT"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"print(\"There are\", len(np.unique(catchment_stations.Name)), \"unique stations within our catchment area of interest\")","visibility":"show","key":"OIxZoBkV4E"},{"type":"outputs","id":"Ppx0_2dZUKapdPQol51D0","children":[],"visibility":"show","key":"hZ2SlVck7U"}],"visibility":"show","key":"tXfAixp8Jp"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Quick Hint: Remember the number of stations within the catchment for the final quiz exercise","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i948KWLj1d"}],"key":"R2UJmQALG1"}],"key":"nlUWxjSSbV"}],"key":"Qmiqs4veFS"}],"key":"TJo47dn1UW"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert snow depth to snow presence","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tY5PMcP1c7"}],"identifier":"convert-snow-depth-to-snow-presence","label":"Convert snow depth to snow presence","html_id":"convert-snow-depth-to-snow-presence","implicit":true,"key":"s4y0LznSNs"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The stations are measuring snow depth. We only need the binary information on the presence of snow (yes, no). We use the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"db0FtHNOFM"},{"type":"inlineCode","value":"binarize_snow()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AEhFMFEYc7"},{"type":"text","value":"  function from ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fqmiV7Nld2"},{"type":"inlineCode","value":"cubes_utilities.py","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QMbWHAZLgu"},{"type":"text","value":" to assign 0 for now snow and 1 for snow in the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NqlzTMHM03"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"snow_presence","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"rdoVq7AKnT"}],"key":"pBChbOYjoH"},{"type":"text","value":" column.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sQQwKJRrS1"}],"key":"SDh47541RB"}],"visibility":"show","key":"TijtSZGS48"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations = catchment_stations.assign(snow_presence=catchment_stations.apply(binarize_snow, axis=1))\ncatchment_stations.head()","visibility":"show","key":"Lt0w04wp1c"},{"type":"outputs","id":"ac0X2McApSC6uBr4Irh4x","children":[],"visibility":"show","key":"RWqeSmiFCc"}],"visibility":"show","key":"RkRiZ3uKkU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Save the pre-processed snow station measurements","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xvxGH08UzY"}],"identifier":"save-the-pre-processed-snow-station-measurements","label":"Save the pre-processed snow station measurements","html_id":"save-the-pre-processed-snow-station-measurements","implicit":true,"key":"ZZ29o7Ci83"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Save snow stations within catchment as GeoJSON","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Qzs3fqdSJl"}],"key":"bki8P7mfPj"}],"key":"nN0u8r8jE0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"with open(\"32_results/catchment_stations_pangeo.geojson\", \"w\") as file:\n    file.write(catchment_stations.to_json())","visibility":"show","key":"A6VHFQmc7z"},{"type":"outputs","id":"X2I-1X5XTpWW7uAHqwhe-","children":[],"visibility":"show","key":"cXRkd6a3Ug"}],"visibility":"show","key":"AG4F8hw1LK"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract SCA from the data cube per station","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ba1XHgovK1"}],"identifier":"extract-sca-from-the-data-cube-per-station","label":"Extract SCA from the data cube per station","html_id":"extract-sca-from-the-data-cube-per-station","implicit":true,"key":"Cn9DJ6qumX"}],"visibility":"show","key":"sNZxp0iGYk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prepare snow station data for usage in Pangeo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kVspsq2ShG"}],"identifier":"prepare-snow-station-data-for-usage-in-pangeo","label":"Prepare snow station data for usage in Pangeo","html_id":"prepare-snow-station-data-for-usage-in-pangeo","implicit":true,"key":"BHTN20JfmT"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Create a buffer of approximately 80 meters (0.00075 degrees) around snow stations and visualize them.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"nlPe8M5Uf4"}],"key":"Tsa3TCEsom"}],"key":"VUOjBAvCVb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd = gpd.read_file(\"32_results/catchment_stations_pangeo.geojson\")\n\n# OpenStreetMap\nmap = folium.Map(location=[float(center_loc.y.iloc[0]), float(center_loc.x.iloc[0])], tiles=\"OpenStreetMap\", zoom_start=10)\n\n# catchment\ncatchment_layer = folium.FeatureGroup(name=\"catchment\", show=True).add_to(map)\nfolium.GeoJson(data=catchment_outline[\"geometry\"].to_json(), style_function=lambda x: {\"fillColor\": \"orange\"}).add_to(catchment_layer)\n\n# catchment stations\nstations_layer = folium.FeatureGroup(name=\"catchment stations\", show=True).add_to(map)\n\nfor _, r in catchment_stations_gpd[[\"Longitude\", \"Latitude\"]].drop_duplicates().iterrows():\n    # Place the markers with the popup labels and data\n    folium.Marker(location=[r[\"Latitude\"], r[\"Longitude\"]],\n                  popup=\"Latitude: \" + str(r[\"Latitude\"]) \n                  + \"\u003cbr\u003e\" \n                  + \"Longitude: \" + str(r[\"Longitude\"])\n                 ).add_to(stations_layer)\n    \n# catchment buffer\nbuffer_layer = folium.FeatureGroup(name=\"catchment station buffer\", show=True).add_to(map)\ncatchment_stations_gpd[\"geometry\"] = catchment_stations_gpd.geometry.buffer(0.00075)\n\nfor _, r in catchment_stations_gpd[[\"geometry\"]].drop_duplicates().iterrows():\n    # Place the markers with the popup labels and data\n    folium.GeoJson(data=catchment_stations_gpd[\"geometry\"].to_json(), style_function=lambda x: {\"color\": \"#0F7229\", \"fillOpacity\": 0}).add_to(buffer_layer)\n\n\nfolium.LayerControl().add_to(map)\nmap","visibility":"show","key":"CSy6ZD6vzh"},{"type":"outputs","id":"wOAB47xQ_mdHgHg1Dc3oh","children":[],"visibility":"show","key":"djoesSIpcA"}],"visibility":"show","key":"kVGWlwFhes"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get the unique geometries for each catchment station buffer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KcFLrf5ht5"}],"key":"mFcyVX4Ly2"}],"key":"UbUR3ud9jG"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd.geometry.drop_duplicates()","visibility":"show","key":"w6z09GsqzX"},{"type":"outputs","id":"412hXo3mVwyHidh8unJt-","children":[],"visibility":"show","key":"wS5LysePmB"}],"visibility":"show","key":"wqYxVULz5u"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract SCA from the data cube per station","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yx5Y8A8TfR"}],"identifier":"extract-sca-from-the-data-cube-per-station","label":"Extract SCA from the data cube per station","html_id":"extract-sca-from-the-data-cube-per-station-1","implicit":true,"key":"J7v7J0zcjQ"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We extract the SCA value of our data cube at the buffered station locations. Therefore we use the process ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RomIqWwG0S"},{"type":"inlineCode","value":"aggregate_spatial()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"h7g2Lh8MyP"},{"type":"text","value":" with the aggregation method ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"X9a6gJ1B5J"},{"type":"inlineCode","value":"median()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eBsaA1fgYx"},{"type":"text","value":". This gives us the most common value in the buffer (snow or snowfree).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"nOKM8yvYeB"}],"key":"VTvsqCUcWW"}],"key":"C3O9gzeqoT"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snow_map_cloud_free.rio.write_crs(\"EPSG:32632\", inplace=True)\nsnow_map_cloud_free.rio.set_nodata(np.nan, inplace=True)","visibility":"show","key":"T6IyLsbUsF"},{"type":"outputs","id":"0YlOd8bPkiL9CE8mSBqxZ","children":[],"visibility":"show","key":"EZK6yejpgl"}],"visibility":"show","key":"Qmz3GXpJor"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Reduce the amount of data by selecting a small Area Of Interest (AOI)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vzw5bc8ijB"}],"identifier":"reduce-the-amount-of-data-by-selecting-a-small-area-of-interest-aoi","label":"Reduce the amount of data by selecting a small Area Of Interest (AOI)","html_id":"reduce-the-amount-of-data-by-selecting-a-small-area-of-interest-aoi","implicit":true,"key":"EFMMGtIIs4"}],"key":"TJqEAv7Peg"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd_utm32 = catchment_stations_gpd.to_crs(epsg=32632)\nminx, miny, maxx, maxy = catchment_stations_gpd_utm32[[\"geometry\"]].drop_duplicates().total_bounds","visibility":"show","key":"c4Mw58SqgB"},{"type":"outputs","id":"mHcjJoAmiop18NQE_XzIq","children":[],"visibility":"show","key":"W2OdAWdXos"}],"visibility":"show","key":"UT5z3TR2WS"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_clipped = snow_map_cloud_free.sel(x=slice(minx,maxx), y = slice(maxy, miny))\nsnowmap_clipped","visibility":"show","key":"sW4PSFcilF"},{"type":"outputs","id":"ZozPdyKLawHGZiUaTqD7k","children":[],"visibility":"show","key":"DFPBiIX66U"}],"visibility":"show","key":"B1QSYKAfT3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Aggregate to daily values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iLC1RmoBGW"}],"identifier":"aggregate-to-daily-values","label":"Aggregate to daily values","html_id":"aggregate-to-daily-values","implicit":true,"key":"LberOv3ph7"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Data aggregation is a very important step in the analysis. It allows to reduce the amount of data and to make the analysis more efficient. Moreover as in this case we are going to aggregate the date to daily values, this will allow use to compute statistic on the data at the basin scale later on.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"a9R8BpdbH3"}],"key":"iVmNP6a5Rb"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wT4JJSJQv6"},{"type":"inlineCode","value":"groupby","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"GTfCkTU8H7"},{"type":"text","value":" method allows to group the data by the time dimension, aggregating to the date and removing the time information, once the group is obtained we will aggregate the data by taking the max value.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"K3Xnqe3pK4"}],"key":"ExSS8XgB5D"}],"key":"gtFTSusmVH"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"geoms = []\nfor _, r in catchment_stations_gpd_utm32[[\"geometry\"]].drop_duplicates().iterrows():\n    geoms.append(r[\"geometry\"])\n\nsnowmap_clipped = snow_map_cloud_free.rio.clip(geoms).groupby(snow_map_cloud_free.time.dt.floor('D')).max(dim=\"time\")\nsnowmap_clipped = snowmap_clipped.rename({\"floor\":\"time\"})","visibility":"show","key":"vVPryGhumv"},{"type":"outputs","id":"xxfTAzW8HWqbavq712NdP","children":[],"visibility":"show","key":"In83ETBOMf"}],"visibility":"show","key":"ERUzTOkyJw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It’s time to persist the data in memory. We will use the persist method to load the data in memory and keep it there until the end of the analysis.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kaJisesxvm"}],"key":"X4P8R1lSGQ"}],"key":"yLzDuktIBz"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nsnowmap_clipped.persist()","visibility":"show","key":"cdE6aM3uC7"},{"type":"outputs","id":"PkBeAlfSPdJRx2lvufSZ-","children":[],"visibility":"show","key":"YVxLfhXTZq"}],"visibility":"show","key":"Dcx76bVvPZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract SCA from the data cube per station","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"P3oKxFv8LD"}],"identifier":"extract-sca-from-the-data-cube-per-station","label":"Extract SCA from the data cube per station","html_id":"extract-sca-from-the-data-cube-per-station-2","implicit":true,"key":"qDCuPfLtwv"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We extract the SCA value of our data cube at the buffered station locations. Therefore we use the aggregation method ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xbFZ5cjno5"},{"type":"inlineCode","value":"median()","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"poZBNjN8zO"},{"type":"text","value":". This gives us the most common value in the buffer (snow or snowfree).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AhLTRto4eM"}],"key":"SAmavOSxzD"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Please note: this step may take around 5 minutes!","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wfheFzaNQh"}],"key":"KQIEYSzYou"}],"key":"Yd3tFMhSTS"}],"key":"LKyNRkte1P"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\nx = []\nfor _, r in catchment_stations_gpd_utm32[[\"geometry\"]].drop_duplicates().iterrows():\n    snowmap_station = snowmap_clipped.rio.clip([r[\"geometry\"]])\n    snowmap_station.persist()\n    median = snowmap_station.median([\"x\",\"y\"])\n    x.append(median.to_pandas())","visibility":"show","key":"mm5OFDusen"},{"type":"outputs","id":"Iq0jtVgxQD-iNQux7Ti0h","children":[],"visibility":"show","key":"yjD9QZKWbR"}],"visibility":"show","key":"Of9ioGLFVO"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Save the values into csv files","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wWIwBlIt8w"}],"key":"IU7pAa3Rki"}],"visibility":"show","key":"sFbStCkAeg"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%time\n\nif not os.path.exists(\"32_results/snowmap_pangeo/\"):\n    os.makedirs(\"32_results/snowmap_pangeo\")\nfor idx,r in catchment_stations_gpd_utm32[[\"Name\"]].drop_duplicates().iterrows():\n    print(idx, r[\"Name\"])\n    x[idx].to_csv(\"32_results/snowmap_pangeo/\" + r[\"Name\"] + \".csv\")","visibility":"show","key":"hP2C76BTnc"},{"type":"outputs","id":"6y1MrBlz568RSUMlUX8lS","children":[],"visibility":"show","key":"CtJXz77RJq"}],"visibility":"show","key":"qrceddDn8J"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Combine station measurements and the extracted SCA from our data cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SZ5xSrtQSL"}],"identifier":"combine-station-measurements-and-the-extracted-sca-from-our-data-cube","label":"Combine station measurements and the extracted SCA from our data cube","html_id":"combine-station-measurements-and-the-extracted-sca-from-our-data-cube","implicit":true,"key":"iFHJ2i9TOj"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"cwLcjpn5r2"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"station measurements","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JyaNvmG5H1"}],"key":"lkpxpcs8G5"},{"type":"text","value":" are ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lwmQreN1I4"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"daily","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lmLgiwatzv"}],"key":"d333sPmDav"},{"type":"text","value":" and all of the stations are combined in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"s6hO2qO7CO"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"one csv file","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LkW79wI5cs"}],"key":"jzSpkF5q2s"},{"type":"text","value":".\nThe ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"nqH4B6H8IF"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"extracted SCA values","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"hA1VqxxM9I"}],"key":"sHZECnON8e"},{"type":"text","value":" are in the best case ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ZmMLbyj0K3"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"six-daily","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YXoKtDaiRA"}],"key":"oKjYqTfyxk"},{"type":"text","value":" (Sentinel-2 repeat rate) and also all stations are in ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xwpmiMZC1V"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"one json file","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"OpmLi3o21p"}],"key":"OwnofZNUVE"},{"type":"text","value":".\nWe will need to join the the extracted SCA with the station measurements by station (and time (selecting the corresponding time steps)","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JVPBKCMwwV"}],"key":"NXx2fi2KGn"}],"visibility":"show","key":"IWuU0tiMPr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract snow values from SCA extracted at the station location","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rE3yDyJGkb"}],"identifier":"extract-snow-values-from-sca-extracted-at-the-station-location","label":"Extract snow values from SCA extracted at the station location","html_id":"extract-snow-values-from-sca-extracted-at-the-station-location","implicit":true,"key":"xLOk8GomiH"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Let’s have a look at the data structure first","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TojWsPDKXs"}],"key":"KAZhUmyJWO"}],"key":"cIadthYI6m"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Open the snow covered area time series extracted at the stations. We’ll have a look at it in a second.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"frd1mEplYf"}],"key":"j9MOcidu4K"}],"key":"V0jZBK4snx"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"x = []\nfor idx,r in catchment_stations_gpd[[\"Name\"]].drop_duplicates().iterrows():\n    print(idx, r[\"Name\"])\n    x.append(pd.read_csv(\"32_results/snowmap_pangeo/\" + r[\"Name\"] + \".csv\", parse_dates=[\"time\"], index_col=\"time\"))","visibility":"show","key":"fWgmHDqK1G"},{"type":"outputs","id":"Wr0kBGfGB61uXCICezeoY","children":[],"visibility":"show","key":"SFtc77lDjh"}],"visibility":"show","key":"wa6HU4aFHB"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"dates = x[0].index.tolist()\nsnow_val_smartino = [y[0] for y in x[0].values]\nsnow_val_rifiano = [y[0] for y in x[1].values]\nsnow_val_plata = [y[0] for y in x[2].values]\nsnow_val_sleonardo = [y[0] for y in x[3].values]\nsnow_val_scena = [y[0] for y in x[4].values]","visibility":"show","key":"E5nehcAxrW"},{"type":"outputs","id":"Xf250a71Y1gMqIsULZ_mv","children":[],"visibility":"show","key":"tcP6URRMr0"}],"visibility":"show","key":"r1iVeJwdZz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Match in-situ measurements to dates in SCA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VltplgcLfK"}],"identifier":"match-in-situ-measurements-to-dates-in-sca","label":"Match in-situ measurements to dates in SCA","html_id":"match-in-situ-measurements-to-dates-in-sca","implicit":true,"key":"Earv49p80H"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Let’s have a look at the in-situ measurement data set.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"uKwOjjgS3T"}],"key":"wulFcQ7GCs"}],"key":"Vu5c6aieh5"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd = gpd.read_file(\"32_results/catchment_stations_pangeo.geojson\")","visibility":"show","key":"RahV7SkkJj"},{"type":"outputs","id":"d8Yegtq8TjIqml5haElIc","children":[],"visibility":"show","key":"zSUBpTFdjb"}],"visibility":"show","key":"EwUwJ9rijK"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert column “id” from strings to dates to enable selection by dates","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kl5VdKPewV"}],"key":"VIE6cMda0b"}],"visibility":"show","key":"D2xRhOwjwb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd[\"id\"] = pd.to_datetime(catchment_stations_gpd[\"id\"])","visibility":"show","key":"mNIq01ZMsq"},{"type":"outputs","id":"--CVSGoKm6CNZdN5dKTYl","children":[],"visibility":"show","key":"nHejZgvqAz"}],"visibility":"show","key":"pdi653hsWG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We are going to extract each station and keep only the dates that are available in the SCA results.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HFYiH2Wcms"}],"key":"Wq4lC9IKaY"}],"key":"wEhJCCeBpY"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd_smartino = catchment_stations_gpd.query(\"Name == 'S_Martino_in_Passiria_Osservatore'\")\ncatchment_stations_gpd_smartino = catchment_stations_gpd_smartino[\n    catchment_stations_gpd_smartino.id.isin(dates)\n]\n\ncatchment_stations_gpd_rifiano = catchment_stations_gpd.query(\"Name == 'Rifiano_Beobachter'\")\ncatchment_stations_gpd_rifiano = catchment_stations_gpd_rifiano[\n    catchment_stations_gpd_rifiano.id.isin(dates)\n]\n\ncatchment_stations_gpd_plata = catchment_stations_gpd.query(\"Name == 'Plata_Osservatore'\")\ncatchment_stations_gpd_plata = catchment_stations_gpd_plata[\n    catchment_stations_gpd_plata.id.isin(dates)\n]\n\ncatchment_stations_gpd_sleonardo = catchment_stations_gpd.query(\"Name == 'S_Leonardo_in_Passiria_Osservatore'\")\ncatchment_stations_gpd_sleonardo = catchment_stations_gpd_sleonardo[\n    catchment_stations_gpd_sleonardo.id.isin(dates)\n]\n\ncatchment_stations_gpd_scena = catchment_stations_gpd.query(\"Name == 'Scena_Osservatore'\")\ncatchment_stations_gpd_scena = catchment_stations_gpd_scena[\n    catchment_stations_gpd_scena.id.isin(dates)\n]","visibility":"show","key":"N9oQEWMLna"},{"type":"outputs","id":"psza73KIsF79AKdcerp4x","children":[],"visibility":"show","key":"ywhoAfEJdd"}],"visibility":"show","key":"m66upi9Lyb"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Combine in-situ measurements with SCA results at the stations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RELaBQe4LQ"}],"identifier":"combine-in-situ-measurements-with-sca-results-at-the-stations","label":"Combine in-situ measurements with SCA results at the stations","html_id":"combine-in-situ-measurements-with-sca-results-at-the-stations","implicit":true,"key":"ZWVg1egV5F"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The in situ measurements and the SCA are combined into one data set per station. This will be the basis for the validation.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Wljx94Yfpw"}],"key":"S6JDTlcnL1"}],"visibility":"show","key":"gmFRe9PFcR"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"smartino_snow = assign_site_snow(catchment_stations_gpd_smartino, snow_val_smartino)\nrifiano_snow = assign_site_snow(catchment_stations_gpd_rifiano, snow_val_rifiano)\nplata_snow = assign_site_snow(catchment_stations_gpd_plata, snow_val_plata)\nsleonardo_snow = assign_site_snow(catchment_stations_gpd_sleonardo, snow_val_sleonardo)\nscena_snow = assign_site_snow(catchment_stations_gpd_scena, snow_val_scena)   ","visibility":"show","key":"JDAv468xN0"},{"type":"outputs","id":"elrQecFhKL609Uh94ywaX","children":[],"visibility":"show","key":"nOUisN1uuz"}],"visibility":"show","key":"O8etiXaVS6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s have a look at the SCA extracted at the station Plata Osservatore and it’s in situ measurements.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hKcgd5Eziq"}],"key":"c1FElh6uM1"}],"key":"RRd8jUyiXU"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd_plata.sample(5)","visibility":"show","key":"EPDVVJKq1m"},{"type":"outputs","id":"QXFGFzaKjit1JlBotHyIg","children":[],"visibility":"show","key":"gW4nePrqnl"}],"visibility":"show","key":"BQ2OkY57Wu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Display snow presence threshold in in-situ data for Plata Osservatore","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pGgDlTO6TX"}],"key":"cJV5Wr0I6h"}],"key":"Tl1BYx4wA5"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_stations_gpd_plata.plot(x=\"id\", y=\"HS_after_gapfill\",rot=45,kind=\"line\",marker='o')\nplt.axhline(y = 0.4, color = \"r\", linestyle = \"-\")\nplt.show()","visibility":"show","key":"IlwQkWTOXO"},{"type":"outputs","id":"QsHsNa4VFPViuEQSTh048","children":[],"visibility":"show","key":"ROnDb0ugtC"}],"visibility":"show","key":"ZQwe293Vbs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Validate the SCA results with the snow station measurements","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GdbxbLCYwJ"}],"identifier":"validate-the-sca-results-with-the-snow-station-measurements","label":"Validate the SCA results with the snow station measurements","html_id":"validate-the-sca-results-with-the-snow-station-measurements","implicit":true,"key":"B8vrCsDtLP"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Now that we have combined the SCA results with the snow station measurements we can start the actual validation. A ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"LxuP3qDjNl"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"confusion matrix","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"DnaayR5FF2"}],"key":"iKC0Z3eUWd"},{"type":"text","value":" compares the classes of the station data to the classes of the SCA result. The numbers can be used to calculate the accuracy (correctly classified cases / all cases).","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"x8rxVCl35S"}],"key":"uxKOc6aeSk"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[],"key":"PRr8zRWiHI"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"no_snow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Dj7RySHZGA"}],"key":"BafWWkTEon"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"snow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iqDyvMBG84"}],"key":"BPGdkBzqM6"}],"key":"pYEnHRsOs9"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"no_snow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"AqQMw9kAwV"}],"key":"i53KC85q6f"}],"key":"kYroLKnjOR"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"correct","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"O2fYwlOJQB"}],"key":"QUWTEBB5Lq"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"error","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Wvn72axkOT"}],"key":"N7exJBJF4H"}],"key":"DExPnQukVx"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"snow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"n5zQdgT0c9"}],"key":"OsRf6X67Mv"}],"key":"qcV4vqwhmA"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"error","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"fQxjnzoYOc"}],"key":"XS0KvnkMF4"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"correct","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"cYUrqr7pGK"}],"key":"eQdGTCxgGZ"}],"key":"Dhqk4yrcBS"}],"key":"PLuEJzHsLd"}],"key":"h1LgUo2WIs"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import seaborn as sns","visibility":"show","key":"fbzIMblrCl"},{"type":"outputs","id":"eXgJmVEHvTEBe-KVJK6GJ","children":[],"visibility":"show","key":"yTEGB2fYpt"}],"visibility":"show","key":"ocjzIkxQH0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(2, 2, figsize=(10, 6))\n\nfig.suptitle(\"Error matrices for snow stations within our selected Catchment\")\nsns.heatmap(validation_metrics(smartino_snow)[1], annot=True, xticklabels=[\"No Snow\", \"Snow\"], yticklabels=[\"No Snow\", \"Snow\"], ax=ax1)\nax1.set_title(\"San Martino in Passiria Osservatore\")\nax1.set(xlabel=\"Predicted label\", ylabel=\"True label\")\n\n\nsns.heatmap(validation_metrics(rifiano_snow)[1], annot=True, xticklabels=[\"No Snow\", \"Snow\"], yticklabels=[\"No Snow\", \"Snow\"], ax=ax2)\nax2.set_title(\"Rifiano Beobachter\")\nax2.set(xlabel=\"Predicted label\", ylabel=\"True label\")\n\n\nsns.heatmap(validation_metrics(plata_snow)[1], annot=True, xticklabels=[\"No Snow\", \"Snow\"], yticklabels=[\"No Snow\", \"Snow\"], ax=ax3)\nax3.set_title(\"Plata Osservatore\")\nax3.set(xlabel=\"Predicted label\", ylabel=\"True label\")\n\n\nsns.heatmap(validation_metrics(scena_snow)[1], annot=True, xticklabels=[\"No Snow\", \"Snow\"], yticklabels=[\"No Snow\", \"Snow\"], ax=ax4)\nax4.set_title(\"Scena Osservatore\")\nax4.set(xlabel=\"Predicted label\", ylabel=\"True label\")\n\nfig.tight_layout()","visibility":"show","key":"tTwI2p61nC"},{"type":"outputs","id":"sf05YZgDThkFbkKVaiRWR","children":[],"visibility":"show","key":"OL5sCeEfO2"}],"visibility":"show","key":"yQrFzIxChN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JhwbkOcoHl"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"accuracy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JOZkoH1Ljz"}],"key":"gHEz64U62Q"},{"type":"text","value":" of the snow estimate from the satellite image computation for each station is shown below:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iAmc8bdz3C"}],"key":"IfcFrEPjTm"},{"type":"table","position":{"start":{"line":4,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"On-site snow station","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"f81aWn5XZV"}],"key":"hUquhTUKoF"}],"key":"NsbHxQHHBI"},{"type":"tableCell","header":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Accuracy","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"OCq1QhjLCx"}],"key":"UFLz4yVTYP"}],"key":"eDtR6bnVCl"}],"key":"KUed3mywXM"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"San Martino in Passiria Osservatore","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"P7Ayyf5JZH"}],"key":"bBcn3AMWfx"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"100.00%","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"oSCsQyMw4N"}],"key":"eW2u7ASJx2"}],"key":"gIcVrlj7yM"}],"key":"OLQ2ILvStZ"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Rifiano Beobachter","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"okkgvhLprg"}],"key":"aDWvVej5m1"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"100.00%","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"UFePST4PYn"}],"key":"kCTBOGxq2Z"}],"key":"WwiHXRMXdO"}],"key":"MLz4w918bc"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Plata Osservatore","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"lhAxoOGFWx"}],"key":"GHsfJjiBp5"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"92.3%","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NxoJsJpwKm"}],"key":"bX5rsmR2iN"}],"key":"GpTuumTNFT"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"San Leonardo in Passiria Osservatore","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"GNTKRpteLw"}],"key":"g2sDvcBHpb"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"NaN","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"F5FJF0ehkz"}],"key":"VC5YCFIPee"}],"key":"KRO7hiDTJ7"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Scena Osservatore","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"LQXGzok5xe"}],"key":"cWb0LtOcoZ"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"100.00%","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"mY0zn1nTBH"}],"key":"yEhi1FSQap"}],"key":"K39zJpF3NI"}],"key":"GIp4sxaXS5"}],"key":"ZOkIbahPgK"}],"key":"xyTuLDrzMJ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The fourth station ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kCjpu5IaYS"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"San Leonardo in Passiria Osservatore","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eorPW5moOd"}],"key":"d0HFeCr2ir"},{"type":"text","value":" recorded ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G8FmmH1FvD"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"NaNs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o0H0O4455c"}],"key":"DrtW01jbrD"}],"key":"U0s9NoEKzb"},{"type":"text","value":" for snow depths for our selected dates, which could potentially be as a results of malfunctioning on-site equipments. Hence, we are not able to verify for it. But overall, the validation shows a 100% accuracy for stations ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MIuKaWlO4C"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"San Martino in Passiria Osservatore","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"G9FlJUiFp9"}],"key":"XyaFY5qQyv"},{"type":"text","value":", ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nkSU7EK4CJ"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Rifiano Beobachter","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SLDB8Vkgep"}],"key":"D1vDOT9ipp"},{"type":"text","value":" and ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iEi23l2tTG"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Scena Osservatore","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"baSFhVym2x"}],"key":"vaI5Uf26E8"},{"type":"text","value":", while station ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QRsN84bAgg"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plata Osservatore","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Hk5mtGr9GA"}],"key":"oceCJWe7Lr"},{"type":"text","value":" has False Positives decreasing the overall accuracy. This shows a good match between estimated snow values from satellite datasets and on-the ground measurements of the presence of snow.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vOC1m2mLtH"}],"key":"b6ncjZ3flO"}],"key":"yMSjiB7bxP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compare to discharge data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OurpTNATrn"}],"identifier":"compare-to-discharge-data","label":"Compare to discharge data","html_id":"compare-to-discharge-data","implicit":true,"key":"MUzBNsDA6M"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In addition to computing metrics for validating the data, we also check the plausibility of our results. We compare our results with another measure with a known relationship. In this case, we compare the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"stzVoyVn6d"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"snow cover area","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sCGWS813CS"}],"key":"myeedjiKY9"},{"type":"text","value":" time series with the ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"NX9BvOuPUY"},{"type":"strong","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"discharge","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"USETbZzYH0"}],"key":"ETQULuCjJn"},{"type":"text","value":" time-series at the main outlet of the catchment. We suspect that after snow melting starts, with a temporal lag, the runoff will increase. Let’s see if this holds true.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"pRMXgzvbu6"}],"key":"JBzYKNO4RQ"}],"key":"CS2yKaX25d"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the discharge data at Meran, the main outlet of the catchment. We have prepared this data set for you, it’s extracted from Eurac’s ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tOmqAIyufk"},{"type":"link","url":"https://edp-portal.eurac.edu/discovery/9e195271-02ae-40be-b3a7-525f57f53c80","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Environmental Data Platform Alpine Drought Observatory Discharge Hydrological Datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IRC1ISQiSU"}],"urlSource":"https://edp-portal.eurac.edu/discovery/9e195271-02ae-40be-b3a7-525f57f53c80","key":"D6Ntk3rnNR"},{"type":"text","value":").","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EOQ5HwF1dI"}],"key":"I4y3jEjhDP"}],"key":"bbeZuMMw8N"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"discharge_ds = pd.read_csv('32_data/ADO_DSC_ITH1_0025.csv', \n                           sep=',', index_col='Time', parse_dates=True)\ndischarge_ds.head()","visibility":"show","key":"HnRKqZmdBj"},{"type":"outputs","id":"VOpRwJ_L4d-kkvIxaDJiO","children":[],"visibility":"show","key":"T2Uodletvk"}],"visibility":"show","key":"tQvghIftP9"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the SCA time series we have generated in a previous exercise. It’s the time series of the aggregated snow cover area percentage for the whole catchment. ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cYJQpLZGhk"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Please note: you need to complete the 3.1 exercise before proceeding!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O67duX0OlL"}],"key":"fErY4D6UfL"}],"key":"G3k1MxdEAC"}],"key":"Zd3YkIaBOF"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snow_perc_df = pd.read_csv(\"../../3.1_data_processing/exercises/31_results/filtered_snow_fraction_pangeo.csv\", \n                          sep=',', index_col='date', parse_dates=True)\nsnow_perc_df.head()","visibility":"show","key":"IqAyfunVnU"},{"type":"outputs","id":"534liHjQTdilQT9PHJ6pQ","children":[],"visibility":"show","key":"oXNICDBKSt"}],"visibility":"show","key":"BUwPD89jjh"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s plot the relationship between the snow covered area and the discharge in the catchment.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H9AUjK0kQk"}],"key":"qLIxmFnQzX"}],"key":"INqiibFPuD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"start_date = date(2018, 2, 1)\nend_date = date(2018, 6, 30)\n# filter discharge data to start and end dates\ndischarge_ds = discharge_ds.loc[start_date:end_date]\n\nax1 = discharge_ds.discharge_m3_s.plot(label='Discharge', xlabel='', ylabel='Discharge (m$^3$/s)')\nax2 = snow_perc_df[\"SCA\"].plot(marker='o', secondary_y=True, label='SCA', xlabel='', ylabel='Snow cover area (%)')\nax1.legend(loc='center left', bbox_to_anchor=(0, 0.6))\nax2.legend(loc='center left', bbox_to_anchor=(0, 0.5))\nplt.show()","visibility":"show","key":"tIknRINEmB"},{"type":"outputs","id":"h-nzBXk_tHgKQdjggpEuX","children":[],"visibility":"show","key":"Ds0BKK9fqq"}],"visibility":"show","key":"wfMq7FRd3B"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The relationship looks as expected! Once the snow cover decreases the runoff increases!","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lCeQ2Xi02G"}],"key":"syHfkJhaQw"}],"key":"l7eWh3M8pO"}],"key":"sqLjUlbcS5"},"references":{"cite":{"order":["https://doi.org/10.5281/zenodo.5109574"],"data":{"https://doi.org/10.5281/zenodo.5109574":{"label":"https://doi.org/10.5281/zenodo.5109574","enumerator":"1","doi":"10.5281/ZENODO.5109574","html":"Matiu, M., Crespi, A., Bertoldi, G., Carmagnola, C. M., Marty, C., Morin, S., Schöner, W., Cat Berro, D., Chiogna, G., De Gregorio, L., Kotlarski, S., Majone, B., Resch, G., Terzago, S., Valt, M., Beozzo, W., Cianfarra, P., Gouttevin, I., Marcolini, G., … Weilguni, V. (2021). \u003ci\u003eSnow cover in the European Alps: Station observations of snow depth and depth of snowfall\u003c/i\u003e. Zenodo. \u003ca target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.5281/ZENODO.5109574\"\u003e10.5281/ZENODO.5109574\u003c/a\u003e","url":"https://doi.org/10.5281/ZENODO.5109574"}}}},"footer":{"navigation":{"prev":{"title":"3.2 Validation of the results with openEO","url":"/lectures/validation/exercises/validation-openeo","group":"Process \u0026 Share"},"next":{"title":"3.3 Data Sharing","url":"/lectures/data-sharing/data-sharing","group":"Process \u0026 Share"}}},"domain":"http://localhost:3000"},"project":{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-f037615388415d0c8ef725a0df4d02ff.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.exercises.data-properties","title":"2.2 Data Discovery \u0026 Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-8df5642f173051a60dd8129a449f15a7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing OpenEO Lazy Loading","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing OpenEO Reduce","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing OpenEO Filter","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing OpenEO Resample","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing OpenEO Aggregate","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing OpenEO Apply","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-8df5642f173051a60dd8129a449f15a7.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing Pangeo Lazy Loading","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing Pangeo Reduce","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing Pangeo Filter","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing Pangeo Resample","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing Pangeo Aggregate","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing Pangeo Apply","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.formats-and-performance.exercises.chunking","title":"2.4 Data Chunking with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.dask","title":"2.4 Scaling with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.formats-and-performance.exercises.energy-consumption","title":"2.4 Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing OpenEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing STAC","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing OpenEO Platform","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-b0a45c8762605d70d439c476d3523b10.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.exercises.validation-pangeo","title":"3.2 Validation of the results with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cubes-and-clouds/build/manifest-3595279D.js";
import * as route0 from "/cubes-and-clouds/build/root-SIO6LUTY.js";
import * as route1 from "/cubes-and-clouds/build/routes/$-PRP77N34.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cubes-and-clouds/build/entry.client-PCJPW7TK.js");</script></body></html>