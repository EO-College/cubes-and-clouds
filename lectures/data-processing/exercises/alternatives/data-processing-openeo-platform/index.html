<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>3.1 Data Processing - Cubes and Clouds Notebooks</title><meta property="og:title" content="3.1 Data Processing - Cubes and Clouds Notebooks"/><meta name="generator" content="mystmd"/><meta name="description" content="Collection of Cubes and Clouds learning notebooks"/><meta property="og:description" content="Collection of Cubes and Clouds learning notebooks"/><meta name="keywords" content=""/><meta name="image" content="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg"/><meta property="og:image" content="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg"/><link rel="stylesheet" href="/cubes-and-clouds/build/_assets/app-OIHP3NGU.css"/><link rel="stylesheet" href="/cubes-and-clouds/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="/cubes-and-clouds/favicon.ico"/><link rel="stylesheet" href="/cubes-and-clouds/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block lg:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/cubes-and-clouds/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] lg:hidden hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="myst-fm-block-subject flex-none pr-2 smallcaps">Cubes and Clouds learning materials</div><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/EO-college/cubes-and-clouds" title="GitHub Repository: EO-college/cubes-and-clouds" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">3.1 Data Processing</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="A1FzogML2n" class="myst-jp-nb-block relative group/block"><img id="MNeJiVReIn" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg" alt="Cubes &amp; Clouds logo" data-canonical-url="https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg" class=""/></div><div id="KwGc0LLDIt" class="myst-jp-nb-block relative group/block"><h1 id="id-3-1-data-processing" class="relative group"><span class="heading-text">3.1 Data Processing</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#id-3-1-data-processing" title="Link to this Section" aria-label="Link to this Section">¶</a></h1><img id="N0GXoLJ8ex" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/7d92286654718ed077e8b148b8c89bdd.png" alt="openEO logo" data-canonical-url="https://openeo.org/images/openeo_logo.png" class=""/><h2 id="snow-cover-mapping-with-openeo-platform" class="relative group"><span class="heading-text">Snow Cover mapping with openEO Platform</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#snow-cover-mapping-with-openeo-platform" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><img id="MRMbWwmS4L" style="margin-left:auto;margin-right:auto" src="/cubes-and-clouds/build/92d102b54c80489ce55057f3d8108d83.svg" alt="openEO Platform logo" data-canonical-url="https://openeo.cloud/wp-content/themes/openeo_platform/images/logo-pages.svg" class=""/><p>In this exercise we will build a complete EO workflow on a cloud platform; from data access to obtaining the result. In this example we will analyse snow cover in the Alps.</p><p>We are going to follow these steps in our analysis:</p><ul><li><p>Load satellite collections</p></li><li><p>Specify the spatial, temporal extents and the features we are interested in</p></li><li><p>Process the satellite data to retrieve snow cover information</p></li><li><p>Aggregate information to get catchment statistics over time</p></li><li><p>Visualize and analyse the results</p></li></ul><p>More information on the openEO Python Client: <a target="_blank" rel="noreferrer" href="https://open-eo.github.io/openeo-python-client/index.html" class="link">https://<wbr/>open<wbr/>-eo<wbr/>.github<wbr/>.io<wbr/>/openeo<wbr/>-python<wbr/>-client<wbr/>/index<wbr/>.html<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p></div><div id="F4E4hTAexh" class="myst-jp-nb-block relative group/block"><h2 id="libraries" class="relative group"><span class="heading-text">Libraries</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#libraries" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="g6Cqmixh1o" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">%%capture
pip install openeo rioxarray geopandas leafmap h5netcdf netcdf4 fiona</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="nHl9Dbyagiy5MT46xGQO9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="xEXM9ATzqW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># platform libraries
import openeo

# utility libraries
from datetime import date
import numpy as np
import xarray as xr
import rioxarray
import json
import pandas as pd
import matplotlib.pyplot as plt
import geopandas as gpd
import leafmap.foliumap as leafmap</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="rW3rqSiRHCbhUZ9rjaucH" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="GINjNwSSt2" class="myst-jp-nb-block relative group/block"><h2 id="login" class="relative group"><span class="heading-text">Login</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#login" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>Connect to the copernicus dataspace ecosystem.</p></div><div id="Pn8GIDeFeg" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">conn = openeo.connect(&#x27;https://openeo.cloud/&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="BURTlqElsECGdK98UMRCd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ViCug5MBhB" class="myst-jp-nb-block relative group/block"><p>And login</p></div><div id="fzy6SxT80P" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">conn.authenticate_oidc()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="oluMhDBWWLyS9q0-sJv3O" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div><div><div class="p-2.5">Loading...</div></div><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>Authenticated using device code flow.
</span></code></pre></div></div><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>&lt;Connection to &#x27;https://openeocloud.vito.be/openeo/1.0.0/&#x27; with OidcBearerAuth&gt;</span></code></div></div></div><div id="dwOZAHwhel" class="myst-jp-nb-block relative group/block"><p>Check if the login worked.</p></div><div id="V9Fv87983g" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">conn.describe_account()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="PBwCNwPeiBbatSFTBDmgn" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;info&#x27;: {&#x27;oidc_userinfo&#x27;: {&#x27;eduperson_entitlement&#x27;: [&#x27;urn:mace:egi.eu:group:vo.openeo.cloud:role=member#aai.egi.eu&#x27;,
    &#x27;urn:mace:egi.eu:group:vo.openeo.cloud:role=vm_operator#aai.egi.eu&#x27;,
    &#x27;urn:mace:egi.eu:res:ggus.eu&#x27;,
    &#x27;urn:mace:egi.eu:res:gocdb#aai.egi.eu&#x27;,
    &#x27;urn:mace:egi.eu:group:vo.openeo.cloud:role=employee#aai.egi.eu&#x27;,
    &#x27;urn:mace:egi.eu:group:dev.intertwin.eu:role=member#aai.egi.eu&#x27;,
    &#x27;urn:mace:egi.eu:group:vo.openeo.cloud:role=early_adopter#aai.egi.eu&#x27;,
    &#x27;urn:mace:egi.eu:res:rcauth#aai.egi.eu&#x27;],
   &#x27;email&#x27;: &#x27;michele.claus@eurac.edu&#x27;,
   &#x27;email_verified&#x27;: True,
   &#x27;sub&#x27;: &#x27;28860add33a3a705c0092d54ae94177752ba9fa4bf00a25b24864ea95b9e0025@egi.eu&#x27;,
   &#x27;voperson_verified_email&#x27;: [&#x27;michele.claus@eurac.edu&#x27;]}},
 &#x27;name&#x27;: &#x27;michele.claus@eurac.edu&#x27;,
 &#x27;user_id&#x27;: &#x27;28860add33a3a705c0092d54ae94177752ba9fa4bf00a25b24864ea95b9e0025@egi.eu&#x27;}</span></code></div></div></div><div id="wIkueDgLqP" class="myst-jp-nb-block relative group/block"><h2 id="region-of-interest" class="relative group"><span class="heading-text">Region of Interest</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#region-of-interest" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="fZKK6fUxZh" class="myst-jp-nb-block relative group/block"><p>Load the catchment area.</p></div><div id="WVCfGQbqv2" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_outline = gpd.read_file(&#x27;../31_data/catchment_outline.geojson&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FJipgE9fZHkK0_x_Vzazm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="FpteZ17zGZ" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">center = (float(catchment_outline.centroid.y), float(catchment_outline.centroid.x))
m = leafmap.Map(center=center, zoom=10)
m.add_vector(&#x27;../31_data/catchment_outline.geojson&#x27;, layer_name=&quot;catchment&quot;)
m</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="tfbDzXAJcj6zCbQzdGlUR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span>libpoppler.so.140: cannot open shared object file: No such file or directory
libpoppler.so.140: cannot open shared object file: No such file or directory
libpoppler.so.140: cannot open shared object file: No such file or directory
libpoppler.so.140: cannot open shared object file: No such file or directory
</span></code></pre></div></div><div><div class="p-2.5">Loading...</div></div></div></div><div id="hXnLHjImTx" class="myst-jp-nb-block relative group/block"><h2 id="inspect-metadata" class="relative group"><span class="heading-text">Inspect Metadata</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#inspect-metadata" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We need to set the following configurations to define the content of the data cube we want to access:</p><ul><li><p>dataset name</p></li><li><p>band names</p></li><li><p>time range</p></li><li><p>the area of interest specifed via bounding box coordinates</p></li><li><p>spatial resolution</p></li></ul><p>To select the correct dataset we can first list all the available datasets.</p></div><div id="QO0xtQwnCF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">conn.list_collections()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="YiO38WFZkNaNkUD60DjaJ" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="D20LKfirYU" class="myst-jp-nb-block relative group/block"><p>We want to use the Sentinel-2 L2A product. It’s name is <code>&#x27;SENTINEL2_L2A&#x27;</code>.</p><p>We get the metadata for this collection as follows.</p></div><div id="Zj3xRPb6J3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">conn.describe_collection(&quot;SENTINEL2_L2A&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="rFmGB_le99QUN3uxi7KN7" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="bIr7iP7IqT" class="myst-jp-nb-block relative group/block"><h2 id="define-a-workflow" class="relative group"><span class="heading-text">Define a workflow</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#define-a-workflow" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We will define our workflow now. And chain all the processes together we need for analyzing the snow cover in the catchment.</p></div><div id="bqZIY4G9om" class="myst-jp-nb-block relative group/block"><h3 id="define-the-data-cube" class="relative group"><span class="heading-text">Define the data cube</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#define-the-data-cube" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We define all extents of our data cube. We use the catchment as spatial extent. As a time range we will focus on the snow melting season 2018, in particular from Febraury to June 2018.</p></div><div id="QqYNqs8Ito" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">bbox = catchment_outline.bounds.iloc[0]
bbox</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="fKi3LOEYP0o_vXfp7miDf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>minx    11.020833
miny    46.653599
maxx    11.366667
maxy    46.954167
Name: 0, dtype: float64</span></code></div></div></div><div id="RMjVvlkDSv" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">from openeo.processes import lte
collection      = &#x27;SENTINEL2_L2A&#x27;
spatial_extent  = {&#x27;west&#x27;:bbox[0],&#x27;east&#x27;:bbox[2],&#x27;south&#x27;:bbox[1],&#x27;north&#x27;:bbox[3],&#x27;crs&#x27;:4326}
temporal_extent = [&quot;2022-02-01&quot;, &quot;2022-06-30&quot;]
bands           = [&#x27;B03&#x27;, &#x27;B11&#x27;]
properties={&quot;eo:cloud_cover&quot;: lambda x: lte(x, 90)}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="NoJGJkTkuXJsGy85XfTA_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="pGcV2g4Tmq" class="myst-jp-nb-block relative group/block"><h3 id="load-the-data-cube" class="relative group"><span class="heading-text">Load the data cube</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#load-the-data-cube" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We have defined the extents we are interested in. Now we use these definitions to load the data cube.</p></div><div id="vfEi4v6eD7" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">s2 = conn.load_collection(collection,
                          spatial_extent=spatial_extent,
                          bands=bands,
                          temporal_extent=temporal_extent,
                          properties=properties)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Oq7cyc1uX7hFRpTmd-EF_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="qnS9KGphee" class="myst-jp-nb-block relative group/block"><h3 id="ndsi-normalized-difference-snow-index" class="relative group"><span class="heading-text">NDSI - Normalized Difference Snow Index</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#ndsi-normalized-difference-snow-index" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>The Normalized Difference Snow Index (NDSI) is computed as:</p><div id="yCyInrN3yX" class="flex my-5 group"><div class="flex-grow overflow-x-auto overflow-y-hidden"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>N</mi><mi>D</mi><mi>S</mi><mi>I</mi><mo>=</mo><mfrac><mrow><mi>G</mi><mi>R</mi><mi>E</mi><mi>E</mi><mi>N</mi><mo>−</mo><mi>S</mi><mi>W</mi><mi>I</mi><mi>R</mi></mrow><mrow><mi>G</mi><mi>R</mi><mi>E</mi><mi>E</mi><mi>N</mi><mo>+</mo><mi>S</mi><mi>W</mi><mi>I</mi><mi>R</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">NDSI = \frac {GREEN - SWIR} {GREEN +SWIR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">GREEN</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">GREEN</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div><div class="relative self-center flex-none pl-2 m-0 text-right select-none"><a class="no-underline text-inherit hover:text-inherit text-inherit hover:text-inherit select-none hover:underline" href="#yCyInrN3yX" title="Link to this Equation" aria-label="Link to this Equation">(<!-- -->1<!-- -->)</a></div></div><p>We have created a Sentinel-2 data cube with bands B03 (green), B11 (SWIR) and the cloud mask (CLM). We will use the green and SWIR band to calculate a the NDSI. This process is reducing the band dimension of the data cube to generate new information, the NDSI.</p></div><div id="RcE0OPxKEa" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">green = s2.band(&quot;B03&quot;)
swir = s2.band(&quot;B11&quot;)
ndsi = (green - swir) / (green + swir)
ndsi</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="jDLJorzOblrrNUPNqZe6q" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="JN0J2pd0ez" class="myst-jp-nb-block relative group/block"><h3 id="creating-the-snow-map" class="relative group"><span class="heading-text">Creating the Snow Map</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#creating-the-snow-map" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>So far we have a timeseries of NDSI values. We are intereseted in the presence of snow though. Ideally in a binary classification: snow and no snow.
To achieve this we are setting a threshold of 0.42 on the NDSI. This gives us a binary snow map.</p></div><div id="VRkPAYNDQc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snowmap = ( ndsi &gt; 0.42 ) * 1.0
snowmap</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="PDqjn0oYTjmmx1R4vkMnT" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="GAqD6P5kv2" class="myst-jp-nb-block relative group/block"><h3 id="creating-a-cloud-mask" class="relative group"><span class="heading-text">Creating a cloud mask</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#creating-a-cloud-mask" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We are going to use “SCL” band for creating a cloud mask and then applying it to the NDSI.
<code>8 = cloud medium probability</code>, <code>9 = cloud high probability</code>, <code>3 = cloud shadow</code></p><p>Here is more information on the Scene Classification <a target="_blank" rel="noreferrer" href="https://sentinels.copernicus.eu/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm-overview" class="link">https://<wbr/>sentinels<wbr/>.copernicus<wbr/>.eu<wbr/>/web<wbr/>/sentinel<wbr/>/technical<wbr/>-guides<wbr/>/sentinel<wbr/>-2<wbr/>-msi<wbr/>/level<wbr/>-2a<wbr/>/algorithm<wbr/>-overview<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="external-link-icon"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"></path></svg></a></p><table class=""><tbody><tr class=""><th class="">Value</th><th class="">Label</th></tr><tr class=""><td class="">0</td><td class="">NO_DATA</td></tr><tr class=""><td class="">1</td><td class="">SATURATED_OR_DEFECTIVE</td></tr><tr class=""><td class="">2</td><td class="">CAST_SHADOWS</td></tr><tr class=""><td class="">3</td><td class="">CLOUD_SHADOWS</td></tr><tr class=""><td class="">4</td><td class="">VEGETATION</td></tr><tr class=""><td class="">5</td><td class="">NOT_VEGETATED</td></tr><tr class=""><td class="">6</td><td class="">WATER</td></tr><tr class=""><td class="">7</td><td class="">UNCLASSIFIED</td></tr><tr class=""><td class="">8</td><td class="">CLOUD_MEDIUM_PROBABILITY</td></tr><tr class=""><td class="">9</td><td class="">CLOUD_HIGH_PROBABILITY</td></tr><tr class=""><td class="">10</td><td class="">THIN_CIRRUS</td></tr><tr class=""><td class="">11</td><td class="">SNOW or ICE</td></tr></tbody></table></div><div id="H0nt6rHf3s" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">scl_cube =conn.load_collection(
    &quot;SENTINEL2_L2A&quot;,
    spatial_extent=spatial_extent,
    bands=[&quot;SCL&quot;],
    temporal_extent=temporal_extent,
    max_cloud_cover=90,
    
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="F8JqhJ72niAQrwErgA9uE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IMZ51ky2OY" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">scl_band = scl_cube.band(&quot;SCL&quot;)
cloud_mask = ( (scl_band == 8) | (scl_band == 9) | (scl_band == 3) ) * 1.0
cloud_mask</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="mEmYv2_GTxj-BBWTrMiAz" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="rs84rY2tds" class="myst-jp-nb-block relative group/block"><p>The SCL layer has a ground sample distance of 20 meter while the other bands have 10 meter GSD</p></div><div id="oAjdZq36rQ" class="myst-jp-nb-block relative group/block"><h3 id="applying-the-cloud-mask-to-the-snowmap" class="relative group"><span class="heading-text">Applying the cloud mask to the snowmap</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#applying-the-cloud-mask-to-the-snowmap" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>We will mask out all pixels that are covered by clouds. This will result in: 0 = no_snow, 1 = snow, 2 = cloud</p></div><div id="mj1A6vlZsE" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snowmap_cloudfree = snowmap.mask(cloud_mask,replacement=2) # replacement is null by default
snowmap_cloudfree</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="6SZUIlI0HMjDPc-sCMc8u" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="eFwOuDeO1m" class="myst-jp-nb-block relative group/block"><h3 id="mask-polygon-from-bounding-box-to-shape" class="relative group"><span class="heading-text">Mask Polygon: From Bounding Box to Shape</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#mask-polygon-from-bounding-box-to-shape" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Filter to the exact outline of the catchment: this should mask out the pixels outside of the catchment.</p></div><div id="kX3BQ2XlRC" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">catchment_outline[&#x27;geometry&#x27;][0]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Aak2OsphCgp2-jfDidd0h" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="i2quwd8FmF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snowmap_cloudfree_masked = snowmap_cloudfree.mask_polygon(catchment_outline[&#x27;geometry&#x27;][0])</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="8Wi8xP7mRx_bqB685qPEl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="lv5kqi6Y0B" class="myst-jp-nb-block relative group/block"><h4 id="visualize-one-time-step-of-the-timeseries" class="relative group"><span class="heading-text">Visualize one time step of the timeseries</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#visualize-one-time-step-of-the-timeseries" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Let’s download the whole image time series as a netcdf file to have a look how our first results look like</p></div><div id="Pxe6c4tF7n" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">snowmap_cloudfree_1d = snowmap_cloudfree_masked.filter_temporal(&#x27;2022-02-10&#x27;, &#x27;2022-02-12&#x27;)
snowmap_cloudfree_1d.download(&#x27;results/snowmap_cloudfree_1d.nc&#x27;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="CY-KkXdWG62NetdrV4HUE" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="FIrmcptZPz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">xr.open_dataarray(&#x27;results/snowmap_cloudfree_1d.nc&#x27;,decode_coords=&quot;all&quot;)[0].plot.imshow()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="P112AKPkqqHw4dWHMKwJD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cubes-and-clouds/build/6118594476326eed3a2fc128451b45d1.png" alt="&lt;Figure size 640x480 with 2 Axes&gt;"/></div></div></div><div id="ErUt5DHjJo" class="myst-jp-nb-block relative group/block"><h2 id="calculate-catchment-statistics" class="relative group"><span class="heading-text">Calculate Catchment Statistics</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#calculate-catchment-statistics" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>We are looking at a region over time. We need to make sure that the information content meets our expected quality. Therefore, we calculate the <strong>cloud percentage</strong> for the catchment for each timestep. We use this information to filter the timeseries. All timesteps that have a cloud coverage of over 25% will be discarded.</p><p>Ultimately we are interested in the <strong>snow covered area (SCA)</strong> within the catchment. We count all snow covered pixels within the catchment for each time step. Multiplied by the pixel size that would be the snow covered area. Divided the pixel count by the total number of pixels in the catchment is the percentage of pixels covered with snow. We will use this number.</p><p>Get number of pixels in catchment: total, clouds, snow.</p></div><div id="vP4qLd1n3l" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># number of all pixels
n_catchment = ((snowmap_cloudfree &gt; -1) * 1.0).add_dimension(name=&quot;bands&quot;,type=&quot;bands&quot;,label=&quot;n_catchment&quot;)

# number of cloud pixels (no function needed, mask already created before)
n_cloud = cloud_mask.add_dimension(name=&quot;bands&quot;,type=&quot;bands&quot;,label=&quot;n_cloud&quot;)

# number of snow pixels
n_snow = ((snowmap_cloudfree == 1) * 1.0).add_dimension(name=&quot;bands&quot;,type=&quot;bands&quot;,label=&quot;n_snow&quot;)

# combine the binary data cubes into one data cube
n_catchment_cloud_snow = n_catchment.merge_cubes(n_cloud).merge_cubes(n_snow)

# aggregate to catchment
n_pixels = n_catchment_cloud_snow.aggregate_spatial(geometries = catchment_outline[&#x27;geometry&#x27;][0], reducer = &#x27;sum&#x27;)
n_pixels</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZO90cG7_04-rUACwOMj2B" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="qSaOYFdlGW" class="myst-jp-nb-block relative group/block"><p>Create batch job to start processing on the backend.</p></div><div id="PIl6G7ZPDK" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a batch job
n_pixels_json = n_pixels.save_result(format=&quot;JSON&quot;)
job = n_pixels_json.create_job(title=&quot;n_pixels_json&quot;)
job.start_job()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="HuP2Kl5m0RB4TaMknHWgV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="IsfDsCtx7V" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">job.status()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="yoiVtcWHlKA8ymnfGf3D-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>&#x27;finished&#x27;</span></code></div></div></div><div id="Dwz4SzDVdq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">if job.status() == &quot;finished&quot;:
    results = job.get_results()
    results.download_files(&quot;results_openeo_platform/&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="65F7H6eUr6-cirC8f6cD2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="sNnM4uZF8v" class="myst-jp-nb-block relative group/block"><p>Load the result. It contains the number of pixels in the catchment, clouds and snow.</p><p>We can calculate the percentages of cloud and snow pixels in the catchment.</p></div><div id="fVA1x90kCu" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">with open(&quot;results_openeo_platform/timeseries.json&quot;,&quot;r&quot;) as file:
    n_pixels_json = json.load(file)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="5Dz4Zycp9X-OYdEsYxKdg" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IyCBhcOHQc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># check the first 5 entries
list(n_pixels_json.items())[:3] # careful unsorted dates due to JSON format</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="pFctrnDyH7PkCv8e8niOl" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>[(&#x27;2022-05-18T00:00:00Z&#x27;, [[4201607, 2116387, 176298]]),
 (&#x27;2022-05-16T00:00:00Z&#x27;, [[4201607, 3180590, 127431]]),
 (&#x27;2022-05-31T00:00:00Z&#x27;, [[4201607, 3342522, 4679]])]</span></code></div></div></div><div id="USTL62V6yW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># Create a Pandas DataFrame to contain the values
dates = [k for k in n_pixels_json]
n_catchment_vals = [n_pixels_json[k][0][0] for k in n_pixels_json]
n_cloud_vals = [n_pixels_json[k][0][1] for k in n_pixels_json]
n_snow_vals = [n_pixels_json[k][0][2] for k in n_pixels_json]

data = {
        &quot;time&quot;:pd.to_datetime(dates),
        &quot;n_catchment_vals&quot;:n_catchment_vals,
        &quot;n_cloud_vals&quot;:n_cloud_vals,
        &quot;n_snow_vals&quot;:n_snow_vals
       }
df = pd.DataFrame(data=data).set_index(&quot;time&quot;)
# Sort the values by date
df = df.sort_values(axis=0,by=&quot;time&quot;)
df[:3]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="y-gEh6sez6MsXyeCi_ZKG" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="lTeEwYGxvl" class="myst-jp-nb-block relative group/block"><p>Divide the number of cloudy pixels by the number of total pixels = cloud percentage</p></div><div id="zknmgTB88e" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">perc_cloud = df[&quot;n_cloud_vals&quot;].values / df[&quot;n_catchment_vals&quot;].values * 100
df[&quot;perc_cloud&quot;] = perc_cloud
df[:3]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="sSiEdEgMt4y8FVwB7XH-J" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="IoV0auOYJe" class="myst-jp-nb-block relative group/block"><p>Plot the timeseries and the cloud threshold of 25%. If the cloud cover is higher the timestep will be excluded later on.</p><p>Plot the <strong>cloud percentage</strong> with the threshold.</p></div><div id="N2qmRfN76s" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df.plot(y=&quot;perc_cloud&quot;,rot=45,kind=&quot;line&quot;,marker=&#x27;o&#x27;)
plt.axhline(y = 25, color = &quot;r&quot;, linestyle = &quot;-&quot;)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="nGxT9EayvSH1Y6rJMLjqD" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cubes-and-clouds/build/cdc1367607d51e9f17d861775c5832d8.png" alt="&lt;Figure size 640x480 with 1 Axes&gt;"/></div></div></div><div id="IqBi7V40tN" class="myst-jp-nb-block relative group/block"><p>Divide the number of snow pixels by the number of total pixels = snow percentage</p></div><div id="I5LHcmUcAX" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">perc_snow = df[&quot;n_snow_vals&quot;].values / df[&quot;n_catchment_vals&quot;].values * 100
df[&quot;perc_snow&quot;] = perc_snow
df[:3]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="W_vIurxLbVs6blA7JebgR" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div><div class="p-2.5">Loading...</div></div></div></div><div id="gPXSyj9H5q" class="myst-jp-nb-block relative group/block"><p>Plot the <strong>unfiltered snow percentage</strong></p></div><div id="axPzwVOpfk" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df.plot(y=&quot;perc_snow&quot;,rot=45,kind=&quot;line&quot;,marker=&#x27;o&#x27;)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="1wf79Ztvu24znRQEqYKxW" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cubes-and-clouds/build/be02a959b90f86cbaf12a0579f4739c7.png" alt="&lt;Figure size 640x480 with 1 Axes&gt;"/></div></div></div><div id="f56elteYrW" class="myst-jp-nb-block relative group/block"><p>Keep only the dates with cloud coverage less than the threshold</p></div><div id="ueHb1kMVNP" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df_filtered = df.loc[df[&quot;perc_cloud&quot;]&lt;25]</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="WCnmPKnRbpeYrWNaZWfjM" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="O50j0gh381" class="myst-jp-nb-block relative group/block"><p>Plot the <strong>cloud filtered snow percentage</strong></p></div><div id="bgprzgFF4o" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df_filtered.plot(y=&quot;perc_snow&quot;,rot=45,kind=&quot;line&quot;,marker=&#x27;o&#x27;)
plt.show()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="PruAHwwJG4Kk9bVd6sgK-" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-image"><img src="/cubes-and-clouds/build/af6cdb9321fcb9b3b393886a4453e64b.png" alt="&lt;Figure size 640x480 with 1 Axes&gt;"/></div></div></div><div id="WM9PEgMsfG" class="myst-jp-nb-block relative group/block"><p>Save the <strong>cloud filtered snow percentage</strong></p></div><div id="hWa6Rj8tm4" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">df_filtered.to_csv(&quot;results_openeo_platform/filtered_snow_perc.csv&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="_kzk44hPQn59D56ptZVNm" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div class="myst-backmatter-parts"></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="/cubes-and-clouds/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-7UUHRSK3.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/root-EDJFWIEV.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/_shared/chunk-ECLX7DIY.js"/><link rel="modulepreload" href="/cubes-and-clouds/build/routes/$-AD65NCUT.js"/><script>window.__remixContext = {"url":"/lectures/data-processing/exercises/alternatives/data-processing-openeo-platform","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.8.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-7fdd5441a500f71e7768c16c436630a4.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-2119b9c807d1f17cc7f470fa5aec644a.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-2119b9c807d1f17cc7f470fa5aec644a.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-1d5768ecb07be2db128bbf9df8314e78.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Additional materials","level":2},{"slug":"lectures.master-asi-conae.s2-sca","title":"Sentinel-2 snow cover area (SCA) time series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.master-asi-conae.test.s1","title":"S1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.s2-snowcover-test","title":"Sentinel-2 snow cover","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.test-s1-s3","title":"Sentinel-1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.s3-ndsi","title":"List all the available dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/cubes-and-clouds"},"routes/$":{"config":{"version":3,"myst":"1.8.0","options":{"hide_toc":true,"hide_footer_links":true,"folders":true},"nav":[],"actions":[],"projects":[{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-7fdd5441a500f71e7768c16c436630a4.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-2119b9c807d1f17cc7f470fa5aec644a.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-2119b9c807d1f17cc7f470fa5aec644a.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-1d5768ecb07be2db128bbf9df8314e78.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Additional materials","level":2},{"slug":"lectures.master-asi-conae.s2-sca","title":"Sentinel-2 snow cover area (SCA) time series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.master-asi-conae.test.s1","title":"S1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.s2-snowcover-test","title":"Sentinel-2 snow cover","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.test-s1-s3","title":"Sentinel-1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.s3-ndsi","title":"List all the available dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}]},"page":{"version":3,"kind":"Notebook","sha256":"65127bce63b357dd26c64222f6b407da9af06e78455074e338a9459d0db8ccaf","slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","location":"/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb","dependencies":[],"frontmatter":{"title":"3.1 Data Processing","content_includes_title":true,"kernelspec":{"name":"openeo","display_name":"OpenEO","language":"python"},"github":"https://github.com/EO-college/cubes-and-clouds","subject":"Cubes and Clouds learning materials","numbering":{"title":{"offset":3}},"source_url":"https://github.com/EO-college/cubes-and-clouds/blob/main/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb","edit_url":"https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","exports":[{"format":"ipynb","filename":"31_data_processing_openEO_Platform.ipynb","url":"/cubes-and-clouds/build/31_data_processing_o-9bdd76236fadedbd3783eefe76b47832.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","children":[{"type":"image","style":{"float":"center","marginRight":"10px","marginLeft":"10px","maxHeight":"250px"},"url":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","alt":"Cubes \u0026 Clouds logo","key":"MNeJiVReIn","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg"}],"key":"nHWf4atgXE"}],"key":"A1FzogML2n"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"3.1 Data Processing","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FtZa6n7egD"}],"identifier":"id-3-1-data-processing","label":"3.1 Data Processing","html_id":"id-3-1-data-processing","implicit":true,"key":"Yvawigj6FG"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px","maxHeight":"100px"},"url":"/cubes-and-clouds/build/7d92286654718ed077e8b148b8c89bdd.png","alt":"openEO logo","key":"N0GXoLJ8ex","urlSource":"https://openeo.org/images/openeo_logo.png"}],"key":"LJOFpsD3A9"},{"type":"heading","depth":2,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Snow Cover mapping with openEO Platform","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"tOGVP02CCq"}],"identifier":"snow-cover-mapping-with-openeo-platform","label":"Snow Cover mapping with openEO Platform","html_id":"snow-cover-mapping-with-openeo-platform","implicit":true,"key":"TC92KDBtw8"},{"type":"paragraph","position":{"start":{"line":8,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px","maxHeight":"100px"},"url":"/cubes-and-clouds/build/92d102b54c80489ce55057f3d8108d83.svg","alt":"openEO Platform logo","key":"MRMbWwmS4L","urlSource":"https://openeo.cloud/wp-content/themes/openeo_platform/images/logo-pages.svg"}],"key":"mpQIfAmw4V"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"In this exercise we will build a complete EO workflow on a cloud platform; from data access to obtaining the result. In this example we will analyse snow cover in the Alps.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"CsrXUBAa76"}],"key":"ZLW4EjXska"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"We are going to follow these steps in our analysis:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"XMYDX6F7HS"}],"key":"Ok7ooeSPn9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":16,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Load satellite collections","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"qWEoGswnnE"}],"key":"SXgudexo3e"}],"key":"NWPscnZyun"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Specify the spatial, temporal extents and the features we are interested in","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"rg5uH0nOMk"}],"key":"LHuSomameq"}],"key":"IAeYC2qh6M"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Process the satellite data to retrieve snow cover information","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"MGcNJSgYGQ"}],"key":"xzbkfWHKYM"}],"key":"nufrugz343"},{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Aggregate information to get catchment statistics over time","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"KUA0B3gdAO"}],"key":"c1NuoppJSL"}],"key":"NMfTWCK8vL"},{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Visualize and analyse the results","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"rxNVKJPd08"}],"key":"VmSX5sLShO"}],"key":"NHSrhlIlZr"}],"key":"pfmifBoFVX"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"More information on the openEO Python Client: ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"OxIGDPdrl4"},{"type":"link","url":"https://open-eo.github.io/openeo-python-client/index.html","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"https://​open​-eo​.github​.io​/openeo​-python​-client​/index​.html","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"IbFgrkclbK"}],"urlSource":"https://open-eo.github.io/openeo-python-client/index.html","key":"bmhPyMp1Jp"}],"key":"RRvabCtgU5"}],"key":"KwGc0LLDIt"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o8I2UXAImk"}],"identifier":"libraries","label":"Libraries","html_id":"libraries","implicit":true,"key":"kZU2GJGUND"}],"visibility":"show","key":"F4E4hTAexh"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%capture\npip install openeo rioxarray geopandas leafmap h5netcdf netcdf4 fiona","visibility":"show","key":"bp5HnHOEJJ"},{"type":"outputs","id":"nHl9Dbyagiy5MT46xGQO9","children":[],"visibility":"show","key":"G0sG1iywqJ"}],"visibility":"show","key":"g6Cqmixh1o"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# platform libraries\nimport openeo\n\n# utility libraries\nfrom datetime import date\nimport numpy as np\nimport xarray as xr\nimport rioxarray\nimport json\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport leafmap.foliumap as leafmap","visibility":"show","key":"siPoLA047v"},{"type":"outputs","id":"rW3rqSiRHCbhUZ9rjaucH","children":[],"visibility":"show","key":"Ao6Bn2pyt7"}],"visibility":"show","key":"xEXM9ATzqW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Login","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bCEaHQOpxo"}],"identifier":"login","label":"Login","html_id":"login","implicit":true,"key":"kGX4TFzGV0"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Connect to the copernicus dataspace ecosystem.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lLrZBd3zhU"}],"key":"SJT47AVleb"}],"key":"GINjNwSSt2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn = openeo.connect('https://openeo.cloud/')","visibility":"show","key":"vUOmb7sJL3"},{"type":"outputs","id":"BURTlqElsECGdK98UMRCd","children":[],"visibility":"show","key":"NQtMZxTbIe"}],"visibility":"show","key":"Pn8GIDeFeg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"And login","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OGkWVkZgOC"}],"key":"rxLJaPRfSx"}],"key":"ViCug5MBhB"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.authenticate_oidc()","visibility":"show","key":"HvApvlIR61"},{"type":"outputs","id":"oluMhDBWWLyS9q0-sJv3O","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"Visit \u003ca href=\"https://aai.egi.eu/device?user_code=AZQV-GRXD\" title=\"Authenticate at https://aai.egi.eu/device?user_code=AZQV-GRXD\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://aai.egi.eu/device?user_code=AZQV-GRXD\u003c/a\u003e \u003ca href=\"#\" onclick=\"navigator.clipboard.writeText('https://aai.egi.eu/device?user_code=AZQV-GRXD');return false;\" title=\"Copy authentication URL to clipboard\"\u003e\u0026#128203;\u003c/a\u003e to authenticate.","content_type":"text/html"}}},"children":[],"key":"gyy6ijgyhJ"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"✅ Authorized successfully","content_type":"text/html"}}},"children":[],"key":"zZF2Vm2tum"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Authenticated using device code flow.\n"},"children":[],"key":"aLsyun9tpU"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"\u003cConnection to 'https://openeocloud.vito.be/openeo/1.0.0/' with OidcBearerAuth\u003e","content_type":"text/plain"}}},"children":[],"key":"E7gQD3ZXPm"}],"visibility":"show","key":"Wu2Rj4ZIf7"}],"visibility":"show","key":"fzy6SxT80P"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check if the login worked.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RpVVv5jZ5T"}],"key":"AWmGHuGTdX"}],"key":"dwOZAHwhel"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.describe_account()","visibility":"show","key":"TCLHvcYQtm"},{"type":"outputs","id":"PBwCNwPeiBbatSFTBDmgn","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"{'info': {'oidc_userinfo': {'eduperson_entitlement': ['urn:mace:egi.eu:group:vo.openeo.cloud:role=member#aai.egi.eu',\n    'urn:mace:egi.eu:group:vo.openeo.cloud:role=vm_operator#aai.egi.eu',\n    'urn:mace:egi.eu:res:ggus.eu',\n    'urn:mace:egi.eu:res:gocdb#aai.egi.eu',\n    'urn:mace:egi.eu:group:vo.openeo.cloud:role=employee#aai.egi.eu',\n    'urn:mace:egi.eu:group:dev.intertwin.eu:role=member#aai.egi.eu',\n    'urn:mace:egi.eu:group:vo.openeo.cloud:role=early_adopter#aai.egi.eu',\n    'urn:mace:egi.eu:res:rcauth#aai.egi.eu'],\n   'email': 'michele.claus@eurac.edu',\n   'email_verified': True,\n   'sub': '28860add33a3a705c0092d54ae94177752ba9fa4bf00a25b24864ea95b9e0025@egi.eu',\n   'voperson_verified_email': ['michele.claus@eurac.edu']}},\n 'name': 'michele.claus@eurac.edu',\n 'user_id': '28860add33a3a705c0092d54ae94177752ba9fa4bf00a25b24864ea95b9e0025@egi.eu'}","content_type":"text/plain"}}},"children":[],"key":"DmeGIHEZIf"}],"visibility":"show","key":"UfwNYH7pQP"}],"visibility":"show","key":"V9Fv87983g"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Region of Interest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lloGlDSvWg"}],"identifier":"region-of-interest","label":"Region of Interest","html_id":"region-of-interest","implicit":true,"key":"Cglc4MeCSH"}],"key":"wIkueDgLqP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the catchment area.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R1GyBtilD6"}],"key":"jbbylLpOxP"}],"key":"fZKK6fUxZh"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_outline = gpd.read_file('../31_data/catchment_outline.geojson')","visibility":"show","key":"WTiQUwwans"},{"type":"outputs","id":"FJipgE9fZHkK0_x_Vzazm","children":[],"visibility":"show","key":"omdzSR2RPI"}],"visibility":"show","key":"WVCfGQbqv2"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"center = (float(catchment_outline.centroid.y), float(catchment_outline.centroid.x))\nm = leafmap.Map(center=center, zoom=10)\nm.add_vector('../31_data/catchment_outline.geojson', layer_name=\"catchment\")\nm","visibility":"show","key":"Rm0mcnqTLh"},{"type":"outputs","id":"tfbDzXAJcj6zCbQzdGlUR","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"libpoppler.so.140: cannot open shared object file: No such file or directory\nlibpoppler.so.140: cannot open shared object file: No such file or directory\nlibpoppler.so.140: cannot open shared object file: No such file or directory\nlibpoppler.so.140: cannot open shared object file: No such file or directory\n"},"children":[],"key":"WwCJb6OjXi"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/html":{"content":"\u003ciframe srcdoc=\"\u0026lt;!DOCTYPE html\u0026gt;\n\u0026lt;html\u0026gt;\n\u0026lt;head\u0026gt;\n    \n    \u0026lt;meta http-equiv=\u0026quot;content-type\u0026quot; content=\u0026quot;text/html; charset=UTF-8\u0026quot; /\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://code.jquery.com/jquery-3.7.1.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;script src=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css\u0026quot;/\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css\u0026quot;/\u0026gt;\n    \n            \u0026lt;meta name=\u0026quot;viewport\u0026quot; content=\u0026quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no\u0026quot; /\u0026gt;\n            \u0026lt;style\u0026gt;\n                #map_1571a3e1e5da6342c5d630e20404d416 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            \u0026lt;/style\u0026gt;\n\n            \u0026lt;style\u0026gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            \u0026lt;/style\u0026gt;\n\n            \u0026lt;style\u0026gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            \u0026lt;/style\u0026gt;\n\n            \u0026lt;script\u0026gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            \u0026lt;/script\u0026gt;\n\n        \n    \u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.css\u0026quot;/\u0026gt;\n    \u0026lt;script src=\u0026quot;https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n    \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css\u0026quot;/\u0026gt;\n    \n                    \u0026lt;style\u0026gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    \u0026lt;/style\u0026gt;\n            \n\u0026lt;/head\u0026gt;\n\u0026lt;body\u0026gt;\n    \n    \n            \u0026lt;div class=\u0026quot;folium-map\u0026quot; id=\u0026quot;map_1571a3e1e5da6342c5d630e20404d416\u0026quot; \u0026gt;\u0026lt;/div\u0026gt;\n        \n\u0026lt;/body\u0026gt;\n\u0026lt;script\u0026gt;\n    \n    \n            var map_1571a3e1e5da6342c5d630e20404d416 = L.map(\n                \u0026quot;map_1571a3e1e5da6342c5d630e20404d416\u0026quot;,\n                {\n                    center: [46.79856263096177, 11.177346530561929],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  \u0026quot;zoom\u0026quot;: 10,\n  \u0026quot;zoomControl\u0026quot;: true,\n  \u0026quot;preferCanvas\u0026quot;: false,\n  \u0026quot;drawExport\u0026quot;: false,\n  \u0026quot;layersControl\u0026quot;: true,\n}\n\n                }\n            );\n            L.control.scale().addTo(map_1571a3e1e5da6342c5d630e20404d416);\n\n            \n\n        \n    \n            var tile_layer_f6187c6239208a86a5484e26dc9decc0 = L.tileLayer(\n                \u0026quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png\u0026quot;,\n                {\n  \u0026quot;minZoom\u0026quot;: 0,\n  \u0026quot;maxZoom\u0026quot;: 24,\n  \u0026quot;maxNativeZoom\u0026quot;: 24,\n  \u0026quot;noWrap\u0026quot;: false,\n  \u0026quot;attribution\u0026quot;: \u0026quot;\\u0026copy; \\u003ca href=\\\u0026quot;https://www.openstreetmap.org/copyright\\\u0026quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors\u0026quot;,\n  \u0026quot;subdomains\u0026quot;: \u0026quot;abc\u0026quot;,\n  \u0026quot;detectRetina\u0026quot;: false,\n  \u0026quot;tms\u0026quot;: false,\n  \u0026quot;opacity\u0026quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_f6187c6239208a86a5484e26dc9decc0.addTo(map_1571a3e1e5da6342c5d630e20404d416);\n        \n    \n            L.control.fullscreen(\n                {\n  \u0026quot;position\u0026quot;: \u0026quot;topleft\u0026quot;,\n  \u0026quot;title\u0026quot;: \u0026quot;Full Screen\u0026quot;,\n  \u0026quot;titleCancel\u0026quot;: \u0026quot;Exit Full Screen\u0026quot;,\n  \u0026quot;forceSeparateButton\u0026quot;: false,\n}\n            ).addTo(map_1571a3e1e5da6342c5d630e20404d416);\n        \n    \n\n            var geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375 = {\n  \u0026quot;collapsed\u0026quot;: true,\n  \u0026quot;position\u0026quot;: \u0026quot;topleft\u0026quot;,\n  \u0026quot;defaultMarkGeocode\u0026quot;: true,\n  \u0026quot;zoom\u0026quot;: 11,\n  \u0026quot;provider\u0026quot;: \u0026quot;nominatim\u0026quot;,\n  \u0026quot;providerOptions\u0026quot;: {\n},\n};\n\n            // note: geocoder name should start with lowercase\n            var geocoderName_geocoder_dff680a4b9bbb218f1e830f686958375 = geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[\u0026quot;provider\u0026quot;];\n\n            var customGeocoder_geocoder_dff680a4b9bbb218f1e830f686958375 = L.Control.Geocoder[ geocoderName_geocoder_dff680a4b9bbb218f1e830f686958375 ](\n                geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[\u0026#x27;providerOptions\u0026#x27;]\n            );\n            geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[\u0026quot;geocoder\u0026quot;] = customGeocoder_geocoder_dff680a4b9bbb218f1e830f686958375;\n\n            L.Control.geocoder(\n                geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375\n            ).on(\u0026#x27;markgeocode\u0026#x27;, function(e) {\n                var zoom = geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[\u0026#x27;zoom\u0026#x27;] || map_1571a3e1e5da6342c5d630e20404d416.getZoom();\n                map_1571a3e1e5da6342c5d630e20404d416.setView(e.geocode.center, zoom);\n            }).addTo(map_1571a3e1e5da6342c5d630e20404d416);\n\n        \n    \n            map_1571a3e1e5da6342c5d630e20404d416.fitBounds(\n                [[46.79856263096177, 11.177346530561929], [46.79856263096177, 11.177346530561929]],\n                {\u0026quot;maxZoom\u0026quot;: 10}\n            );\n        \n    \n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;color\u0026quot;: \u0026quot;#3388ff\u0026quot;, \u0026quot;fillOpacity\u0026quot;: 0, \u0026quot;opacity\u0026quot;: 1, \u0026quot;weight\u0026quot;: 2};\n            }\n        }\n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {\u0026quot;fillOpacity\u0026quot;: 0, \u0026quot;weight\u0026quot;: 4};\n            }\n        }\n\n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_onEachFeature(feature, layer) {\n\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === \u0026quot;function\u0026quot;){\n                        const highlightStyle = geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_2f5a92bdc9c8d638b71f00cbbadcf391 = L.geoJson(null, {\n                onEachFeature: geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_onEachFeature,\n            \n                style: geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_styler,\n            ...{\n}\n        });\n\n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_add (data) {\n            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391\n                .addData(data);\n        }\n            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_add({\u0026quot;bbox\u0026quot;: [11.020833333333357, 46.653599378797765, 11.366666666666694, 46.954166666666694], \u0026quot;features\u0026quot;: [{\u0026quot;bbox\u0026quot;: [11.020833333333357, 46.653599378797765, 11.366666666666694, 46.954166666666694], \u0026quot;geometry\u0026quot;: {\u0026quot;coordinates\u0026quot;: [[[11.075, 46.72916666666669], [11.072575547960094, 46.728813340928845], [11.069091118706622, 46.72535332573787], [11.048285590277802, 46.724646674262175], [11.042024739583358, 46.73087632921009], [11.041666666666691, 46.733333333333356], [11.038123575846377, 46.73424241807728], [11.0375, 46.74583333333336], [11.03664923773874, 46.74914923773874], [11.030017428927975, 46.75085076226131], [11.028599378797768, 46.756377156575546], [11.025567287868947, 46.76028951009117], [11.0244327121311, 46.76471048990888], [11.02140062120228, 46.7686228434245], [11.020833333333357, 46.77083333333336], [11.024291653103322, 46.77172071668839], [11.025567287868947, 46.781377156575545], [11.032766045464435, 46.78945617675784], [11.033900621202282, 46.79387715657555], [11.036932712131101, 46.79778951009117], [11.038067287868948, 46.80221048990888], [11.042586263020858, 46.80762905544707], [11.052210489908878, 46.808900621202284], [11.06028951009117, 46.816099378797766], [11.06471048990888, 46.81723395453562], [11.068622843424503, 46.820266045464436], [11.073043823242212, 46.82140062120228], [11.077974107530407, 46.82522176106773], [11.079733954535614, 46.83010389539933], [11.071295166015648, 46.83957451714412], [11.0744327121311, 46.843622843424505], [11.075567287868948, 46.846579996744815], [11.071400621202281, 46.85195617675784], [11.070266045464434, 46.859321424696205], [11.082766045464435, 46.872789510091174], [11.084041680230058, 46.882445949978326], [11.089710489908878, 46.88390062120228], [11.09995964898006, 46.89319695366756], [11.096400621202282, 46.89778951009117], [11.095266045464435, 46.91343722873266], [11.103599378797767, 46.92278951009117], [11.104166666666691, 46.929166666666696], [11.114924452039954, 46.92951999240454], [11.11875, 46.9333187527127], [11.12328694661461, 46.92881334092885], [11.139924452039956, 46.92951999240454], [11.143408881293428, 46.93298000759551], [11.148288302951414, 46.933691067165825], [11.157980007595512, 46.94340888129343], [11.158691406250025, 46.948290337456626], [11.16424221462676, 46.953813340928846], [11.166666666666693, 46.954166666666694], [11.167024739583358, 46.95170966254343], [11.172575547960095, 46.94618665907121], [11.177424452039956, 46.94548000759551], [11.180908881293428, 46.94201999240454], [11.185757785373289, 46.94131334092884], [11.189242214626761, 46.937853325737876], [11.194123670789956, 46.93714192708336], [11.199646674262178, 46.93159111870662], [11.200353325737872, 46.9100755479601], [11.204519992404538, 46.90587972005211], [11.203813340928845, 46.901742214626765], [11.199646674262178, 46.89754638671877], [11.200353325737872, 46.89340888129343], [11.203813340928845, 46.889924452039956], [11.204519992404538, 46.8850755479601], [11.21248609754777, 46.877084011501765], [11.208686659071207, 46.87325778537329], [11.208333333333359, 46.85833333333336], [11.210543823242213, 46.85776604546444], [11.214456176757839, 46.85473395453562], [11.231377156575547, 46.85359937879777], [11.239456176757837, 46.846400621202285], [11.260543823242212, 46.845266045464435], [11.26458333333336, 46.84213528103301], [11.26875, 46.84536471896704], [11.272789510091172, 46.842233954535615], [11.323043823242214, 46.84109937879777], [11.331122843424506, 46.83390062120228], [11.343877156575548, 46.83276604546444], [11.347789510091172, 46.82973395453561], [11.35331590440541, 46.82831590440541], [11.354733954535616, 46.82278951009117], [11.357766045464437, 46.818877156575546], [11.358900621202284, 46.81445617675784], [11.36609937879777, 46.80637715657554], [11.366666666666694, 46.80416666666669], [11.365779283311658, 46.80070834689673], [11.356122843424506, 46.7994327121311], [11.35208333333336, 46.796301947699675], [11.347916666666693, 46.799531385633706], [11.343877156575548, 46.79640062120228], [11.339456176757839, 46.79526604546444], [11.335543823242213, 46.79223395453562], [11.321806165907145, 46.79101189507381], [11.31306728786895, 46.781377156575545], [11.311932712131103, 46.776956176757835], [11.304733954535617, 46.76887715657555], [11.30359937879777, 46.76445617675784], [11.30056728786895, 46.760543823242216], [11.299149237738742, 46.75501742892798], [11.293622843424505, 46.753599378797766], [11.289710489908881, 46.75056728786895], [11.279166666666693, 46.75], [11.278813340928846, 46.73924221462676], [11.27464667426218, 46.73504638671878], [11.275353325737873, 46.73090888129343], [11.283319430881102, 46.722917344835096], [11.27951999240454, 46.71909111870662], [11.278813340928846, 46.705908881293425], [11.275353325737873, 46.702424452039956], [11.275, 46.7], [11.274032253689262, 46.69622938368058], [11.267413330078151, 46.691099378797766], [11.260289510091171, 46.69223395453562], [11.25491333007815, 46.69640062120228], [11.251956176757838, 46.695266045464436], [11.248043823242213, 46.69223395453562], [11.239456176757837, 46.691099378797766], [11.235543823242214, 46.68806728786895], [11.218622843424505, 46.6869327121311], [11.21471048990888, 46.683900621202284], [11.197789510091171, 46.68276604546443], [11.193877156575546, 46.679733954535614], [11.184220716688394, 46.67845831976999], [11.182413736979193, 46.671416219075546], [11.173043823242214, 46.66306728786895], [11.168622843424505, 46.6619327121311], [11.159270562065997, 46.653599378797765], [11.154985215928845, 46.655143907335095], [11.154166666666692, 46.65833333333336], [11.15085076226131, 46.65918409559464], [11.15, 46.6625], [11.150353325737871, 46.66909111870662], [11.155876329210095, 46.67464192708336], [11.160757785373288, 46.67535332573787], [11.166668023003497, 46.68123406304256], [11.162853325737872, 46.685075547960096], [11.162146674262178, 46.68992445203995], [11.15451999240454, 46.69757554796009], [11.153813340928846, 46.702424452039956], [11.148290337456622, 46.70797526041669], [11.143408881293428, 46.708686659071205], [11.139924452039956, 46.71214667426218], [11.122575547960095, 46.712853325737875], [11.119091118706622, 46.71631334092884], [11.11424221462676, 46.71701999240454], [11.110757785373288, 46.72048000759551], [11.10174221462676, 46.72118665907121], [11.098257785373288, 46.724646674262175], [11.085075547960095, 46.72535332573787], [11.081591118706623, 46.728813340928845], [11.075, 46.72916666666669]]], \u0026quot;type\u0026quot;: \u0026quot;Polygon\u0026quot;}, \u0026quot;id\u0026quot;: \u0026quot;0\u0026quot;, \u0026quot;properties\u0026quot;: {\u0026quot;COAST\u0026quot;: 0, \u0026quot;DIST_MAIN\u0026quot;: 334.5, \u0026quot;DIST_SINK\u0026quot;: 334.5, \u0026quot;ENDO\u0026quot;: 0, \u0026quot;HYBAS_ID\u0026quot;: 2090516090, \u0026quot;MAIN_BAS\u0026quot;: 2090012980, \u0026quot;NEXT_DOWN\u0026quot;: 2090516950, \u0026quot;NEXT_SINK\u0026quot;: 2090012980, \u0026quot;ORDER\u0026quot;: 3, \u0026quot;PFAF_ID\u0026quot;: 214040804, \u0026quot;SORT\u0026quot;: 10988, \u0026quot;SUB_AREA\u0026quot;: 419.1, \u0026quot;UP_AREA\u0026quot;: 419.2}, \u0026quot;type\u0026quot;: \u0026quot;Feature\u0026quot;}], \u0026quot;type\u0026quot;: \u0026quot;FeatureCollection\u0026quot;});\n\n        \n    \n    geo_json_2f5a92bdc9c8d638b71f00cbbadcf391.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(\u0026#x27;div\u0026#x27;);\n    \n    let handleObject = feature =\u0026gt; {\n        if (feature === null) {\n            return \u0026#x27;\u0026#x27;;\n        } else if (typeof(feature)==\u0026#x27;object\u0026#x27;) {\n            return JSON.stringify(feature);\n        } else {\n            return feature;\n        }\n    }\n    let fields = [\u0026quot;HYBAS_ID\u0026quot;, \u0026quot;NEXT_DOWN\u0026quot;, \u0026quot;NEXT_SINK\u0026quot;, \u0026quot;MAIN_BAS\u0026quot;, \u0026quot;DIST_SINK\u0026quot;, \u0026quot;DIST_MAIN\u0026quot;, \u0026quot;SUB_AREA\u0026quot;, \u0026quot;UP_AREA\u0026quot;, \u0026quot;PFAF_ID\u0026quot;, \u0026quot;ENDO\u0026quot;, \u0026quot;COAST\u0026quot;, \u0026quot;ORDER\u0026quot;, \u0026quot;SORT\u0026quot;];\n    let aliases = [\u0026quot;HYBAS_ID\u0026quot;, \u0026quot;NEXT_DOWN\u0026quot;, \u0026quot;NEXT_SINK\u0026quot;, \u0026quot;MAIN_BAS\u0026quot;, \u0026quot;DIST_SINK\u0026quot;, \u0026quot;DIST_MAIN\u0026quot;, \u0026quot;SUB_AREA\u0026quot;, \u0026quot;UP_AREA\u0026quot;, \u0026quot;PFAF_ID\u0026quot;, \u0026quot;ENDO\u0026quot;, \u0026quot;COAST\u0026quot;, \u0026quot;ORDER\u0026quot;, \u0026quot;SORT\u0026quot;];\n    let table = \u0026#x27;\u0026lt;table\u0026gt;\u0026#x27; +\n        String(\n        fields.map(\n        (v,i)=\u0026gt;\n        `\u0026lt;tr\u0026gt;\n            \u0026lt;th\u0026gt;${aliases[i]}\u0026lt;/th\u0026gt;\n            \n            \u0026lt;td\u0026gt;${handleObject(layer.feature.properties[v])}\u0026lt;/td\u0026gt;\n        \u0026lt;/tr\u0026gt;`).join(\u0026#x27;\u0026#x27;))\n    +\u0026#x27;\u0026lt;/table\u0026gt;\u0026#x27;;\n    div.innerHTML=table;\n    \n    return div\n    }\n    ,{\n  \u0026quot;sticky\u0026quot;: true,\n  \u0026quot;className\u0026quot;: \u0026quot;foliumtooltip\u0026quot;,\n});\n                     \n    \n            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391.addTo(map_1571a3e1e5da6342c5d630e20404d416);\n        \n    \n            map_1571a3e1e5da6342c5d630e20404d416.fitBounds(\n                [[46.653599378797765, 11.020833333333357], [46.954166666666694, 11.366666666666694]],\n                {}\n            );\n        \n    \n            var layer_control_7b74684099edefb3d805479d016dafd7_layers = {\n                base_layers : {\n                    \u0026quot;openstreetmap\u0026quot; : tile_layer_f6187c6239208a86a5484e26dc9decc0,\n                },\n                overlays :  {\n                    \u0026quot;catchment\u0026quot; : geo_json_2f5a92bdc9c8d638b71f00cbbadcf391,\n                },\n            };\n            let layer_control_7b74684099edefb3d805479d016dafd7 = L.control.layers(\n                layer_control_7b74684099edefb3d805479d016dafd7_layers.base_layers,\n                layer_control_7b74684099edefb3d805479d016dafd7_layers.overlays,\n                {\n  \u0026quot;position\u0026quot;: \u0026quot;topright\u0026quot;,\n  \u0026quot;collapsed\u0026quot;: true,\n  \u0026quot;autoZIndex\u0026quot;: true,\n}\n            ).addTo(map_1571a3e1e5da6342c5d630e20404d416);\n\n        \n\u0026lt;/script\u0026gt;\n\u0026lt;/html\u0026gt;\" width=\"100%\" height=\"600\"style=\"border:none !important;\" \"allowfullscreen\" \"webkitallowfullscreen\" \"mozallowfullscreen\"\u003e\u003c/iframe\u003e","content_type":"text/html"},"text/plain":{"content":"\u003cleafmap.foliumap.Map at 0x7f583cb70c50\u003e","content_type":"text/plain"}}},"children":[],"key":"FGQsIfGtuv"}],"visibility":"show","key":"ITiiuPd56W"}],"visibility":"show","key":"FpteZ17zGZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect Metadata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bahlIxjbE8"}],"identifier":"inspect-metadata","label":"Inspect Metadata","html_id":"inspect-metadata","implicit":true,"key":"QFM75T5OpR"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We need to set the following configurations to define the content of the data cube we want to access:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"sdcEVeb5cz"}],"key":"rEwvSJVRSp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"dataset name","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NR1m603crx"}],"key":"g9CxLkdhYn"}],"key":"MDJUFOFqMy"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"band names","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zWBrPYS7dK"}],"key":"VBlWwXJdxh"}],"key":"NCSMO5o2JL"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"time range","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qThBItLdjQ"}],"key":"RGECSvXn8K"}],"key":"KylefqAhbm"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the area of interest specifed via bounding box coordinates","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"oU2nUOlitz"}],"key":"xafTooUf0z"}],"key":"TizMaHXo1J"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"spatial resolution","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"lkyzj23fg3"}],"key":"Vvqb3FFxrp"}],"key":"wrUR60jQsI"}],"key":"Mwpi6vbYI6"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"To select the correct dataset we can first list all the available datasets.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"yX9rEdZ2V1"}],"key":"SklLIsMYpC"}],"key":"hXnLHjImTx"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.list_collections()","visibility":"show","key":"UFamdfYpVO"},{"type":"outputs","id":"YiO38WFZkNaNkUD60DjaJ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"7ef9c16b4f9c1481b322f138f9bbbddb","path":"/cubes-and-clouds/build/7ef9c16b4f9c1481b322f138f9bbbddb.html"},"text/plain":{"content_type":"text/plain","hash":"7fc383766c7a4c4eb1e62a67a779b829","path":"/cubes-and-clouds/build/7fc383766c7a4c4eb1e62a67a779b829.txt"}}},"children":[],"key":"UNMGIwe7ga"}],"visibility":"show","key":"INULe6PuRy"}],"visibility":"show","key":"QO0xtQwnCF"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We want to use the Sentinel-2 L2A product. It’s name is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"p47f6EDvLQ"},{"type":"inlineCode","value":"'SENTINEL2_L2A'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dl8owd2DpX"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QIMrAxcuin"}],"key":"rziVH7j79o"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We get the metadata for this collection as follows.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"vngY5uituZ"}],"key":"ktD6ChnhxY"}],"key":"D20LKfirYU"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.describe_collection(\"SENTINEL2_L2A\")","visibility":"show","key":"DUTe6rR1IH"},{"type":"outputs","id":"rFmGB_le99QUN3uxi7KN7","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-collection')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-collection\u003e\n        \u003cscript type=\"application/json\"\u003e{\"mapOptions\": {}, \"data\": {\"cube:dimensions\": {\"bands\": {\"type\": \"bands\", \"values\": [\"B01\", \"B02\", \"B03\", \"B04\", \"B05\", \"B06\", \"B07\", \"B08\", \"B8A\", \"B09\", \"B11\", \"B12\", \"AOT\", \"SCL\", \"SNW\", \"CLD\", \"CLP\", \"CLM\", \"sunAzimuthAngles\", \"sunZenithAngles\", \"viewAzimuthMean\", \"viewZenithMean\", \"dataMask\", \"relativeAzimuthAngles\", \"viewZenithAngles\"]}, \"t\": {\"extent\": [\"2015-07-06T00:00:00Z\", null], \"type\": \"temporal\"}, \"x\": {\"axis\": \"x\", \"extent\": [-180, 180], \"reference_system\": {\"$schema\": \"https://proj.org/schemas/v0.2/projjson.schema.json\", \"area\": \"World\", \"bbox\": {\"east_longitude\": 180, \"north_latitude\": 90, \"south_latitude\": -90, \"west_longitude\": -180}, \"coordinate_system\": {\"axis\": [{\"abbreviation\": \"Lat\", \"direction\": \"north\", \"name\": \"Geodetic latitude\", \"unit\": \"degree\"}, {\"abbreviation\": \"Lon\", \"direction\": \"east\", \"name\": \"Geodetic longitude\", \"unit\": \"degree\"}], \"subtype\": \"ellipsoidal\"}, \"datum\": {\"ellipsoid\": {\"inverse_flattening\": 298.257223563, \"name\": \"WGS 84\", \"semi_major_axis\": 6378137}, \"name\": \"World Geodetic System 1984\", \"type\": \"GeodeticReferenceFrame\"}, \"id\": {\"authority\": \"OGC\", \"code\": \"Auto42001\", \"version\": \"1.3\"}, \"name\": \"AUTO 42001 (Universal Transverse Mercator)\", \"type\": \"GeodeticCRS\"}, \"step\": 10, \"type\": \"spatial\"}, \"y\": {\"axis\": \"y\", \"extent\": [-56, 83], \"reference_system\": {\"$schema\": \"https://proj.org/schemas/v0.2/projjson.schema.json\", \"area\": \"World\", \"bbox\": {\"east_longitude\": 180, \"north_latitude\": 90, \"south_latitude\": -90, \"west_longitude\": -180}, \"coordinate_system\": {\"axis\": [{\"abbreviation\": \"Lat\", \"direction\": \"north\", \"name\": \"Geodetic latitude\", \"unit\": \"degree\"}, {\"abbreviation\": \"Lon\", \"direction\": \"east\", \"name\": \"Geodetic longitude\", \"unit\": \"degree\"}], \"subtype\": \"ellipsoidal\"}, \"datum\": {\"ellipsoid\": {\"inverse_flattening\": 298.257223563, \"name\": \"WGS 84\", \"semi_major_axis\": 6378137}, \"name\": \"World Geodetic System 1984\", \"type\": \"GeodeticReferenceFrame\"}, \"id\": {\"authority\": \"OGC\", \"code\": \"Auto42001\", \"version\": \"1.3\"}, \"name\": \"AUTO 42001 (Universal Transverse Mercator)\", \"type\": \"GeodeticCRS\"}, \"step\": 10, \"type\": \"spatial\"}}, \"description\": \"[Sentinel-2 Level 2A](https://docs.terrascope.be/#/DataProducts/Sentinel-2/Level2A/Level2A) product, processed from L1C by Sen2Cor. \\n Use the [Terrascope viewer](https://viewer.terrascope.be/?language=nl\u0026bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045\u0026overlay=false\u0026bgLayer=MapBox\u0026date=2019-02-25T03:17:15.000Z\u0026layer=CGS_S2_RADIOMETRY) to explore the data. \\n\\n \", \"extent\": {\"spatial\": {\"bbox\": [[-180, -56, 180, 83], [-180, -56, 180, 83]]}, \"temporal\": {\"interval\": [[\"2015-07-06T00:00:00Z\", null], [\"2016-11-01T00:00:00Z\", null]]}}, \"id\": \"SENTINEL2_L2A\", \"keywords\": [\"VITO\", \"TERRASCOPE\", \"COPERNICUS\", \"ESA\", \"Orthoimagery\", \"Sentinel-2\", \"MSI\", \"Level-2A\", \"Radiometry\", \"Plant Resource\", \"TOC\"], \"license\": \"proprietary\", \"links\": [{\"href\": \"https://sentinel.esa.int/documents/247904/690755/Sentinel_Data_Legal_Notice\", \"rel\": \"license\"}, {\"href\": \"https://services.terrascope.be/catalogue/description?collection=urn:eop:VITO:TERRASCOPE_S2_TOC_V2\", \"rel\": \"alternate\"}, {\"href\": \"https://viewer.terrascope.be/?language=nl\u0026bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045\u0026overlay=false\u0026bgLayer=MapBox\u0026date=2019-02-25T03:17:15.000Z\u0026layer=CGS_S2_RADIOMETRY\", \"rel\": \"alternate\"}, {\"href\": \"https://services.terrascope.be/wmts/v2\", \"rel\": \"wmts\", \"wmts:layer\": \"CGS_S2_RADIOMETRY\"}, {\"href\": \"https://services.sentinel-hub.com/ogc/wmts/7d34803f-511c-4caf-9438-6d72f32c8174\", \"rel\": \"wmts\", \"wmts:dimensions\": {\"warnings\": true}, \"wmts:layer\": \"TRUE-COLOR\"}, {\"href\": \"https://docs.sentinel-hub.com/api/latest/api/process/\", \"rel\": \"about\", \"title\": \"Details about running Evalscripts\", \"type\": \"text/html\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/true_color/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"True Color\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate True Color imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/false_color_infrared/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"False color\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate False color imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/swir-rgb/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"SWIR\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate Short Wave Infrared (SWIR) RGB Composite\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/false-color-urban-rgb/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"False Color Urban\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate False Color Urban imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndvi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDVI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDVI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndmi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDMI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDMI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndwi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDWI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDWI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndsi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDSI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDSI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/scene-classification/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"Scene Classification\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate Scene Classification imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://sentinels.copernicus.eu/documents/247904/690755/Sentinel_Data_Legal_Notice\", \"rel\": \"license\", \"title\": \"License\", \"type\": \"application/pdf\"}, {\"href\": \"./sentinel-2-l2a\", \"rel\": \"about\", \"title\": \"Website describing the collection\", \"type\": \"text/html\"}, {\"href\": \"https://openeocloud.vito.be/openeo/1.0.0/collections\", \"rel\": \"root\"}, {\"href\": \"https://openeocloud.vito.be/openeo/1.0.0/collections\", \"rel\": \"parent\"}, {\"href\": \"https://openeocloud.vito.be/openeo/1.0.0/collections/SENTINEL2_L2A\", \"rel\": \"self\"}], \"providers\": [{\"name\": \"VITO, on behalf of the Belgian Science Policy Office (BELSPO).\", \"roles\": [\"producer\", \"licensor\"], \"url\": \"https://terrascope.be\"}, {\"description\": \"Europe since November 2016, Global since January 2017\", \"name\": \"Sentinel Hub\", \"roles\": [\"processor\"], \"url\": \"https://services.sentinel-hub.com\"}], \"stac_extensions\": [\"https://stac-extensions.github.io/datacube/v2.2.0/schema.json\", \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"], \"stac_version\": \"0.9.0\", \"summaries\": {\"bands\": [{\"eo:common_name\": \"coastal aerosol\", \"name\": \"B01\"}, {\"eo:center_wavelength\": 0.4966, \"eo:common_name\": \"blue\", \"name\": \"B02\"}, {\"eo:center_wavelength\": 0.56, \"eo:common_name\": \"green\", \"name\": \"B03\"}, {\"eo:center_wavelength\": 0.6645, \"eo:common_name\": \"red\", \"name\": \"B04\"}, {\"eo:common_name\": \"rededge\", \"name\": \"B05\"}, {\"eo:common_name\": \"rededge\", \"name\": \"B06\"}, {\"eo:common_name\": \"rededge\", \"name\": \"B07\"}, {\"eo:center_wavelength\": 0.8351, \"eo:common_name\": \"nir\", \"name\": \"B08\"}, {\"name\": \"B8A\"}, {\"eo:center_wavelength\": 0.9451, \"eo:common_name\": \"nir09\", \"name\": \"B09\"}, {\"eo:common_name\": \"swir\", \"name\": \"B11\"}, {\"eo:common_name\": \"swir\", \"name\": \"B12\"}, {\"name\": \"AOT\"}, {\"name\": \"SCL\"}, {\"name\": \"SNW\"}, {\"name\": \"CLD\"}, {\"name\": \"CLP\"}, {\"name\": \"CLM\"}, {\"name\": \"sunAzimuthAngles\"}, {\"name\": \"sunZenithAngles\"}, {\"name\": \"viewAzimuthMean\"}, {\"name\": \"viewZenithMean\"}, {\"name\": \"dataMask\"}, {\"name\": \"relativeAzimuthAngles\"}, {\"name\": \"viewZenithAngles\"}], \"constellation\": [\"Sentinel-2\"], \"eo:bands\": [{\"aliases\": [\"TOC-B01_60M\"], \"common_name\": \"coastal aerosol\", \"gsd\": 60, \"name\": \"B01\", \"type\": \"int16\", \"wavelength_nm\": 442.7}, {\"aliases\": [\"TOC-B02_10M\"], \"center_wavelength\": 0.4966, \"common_name\": \"blue\", \"gsd\": 10, \"name\": \"B02\", \"type\": \"int16\", \"wavelength_nm\": 496.6}, {\"aliases\": [\"TOC-B03_10M\"], \"center_wavelength\": 0.56, \"common_name\": \"green\", \"gsd\": 10, \"name\": \"B03\", \"type\": \"int16\", \"wavelength_nm\": 560}, {\"aliases\": [\"TOC-B04_10M\"], \"center_wavelength\": 0.6645, \"common_name\": \"red\", \"gsd\": 10, \"name\": \"B04\", \"type\": \"int16\", \"wavelength_nm\": 664.5}, {\"aliases\": [\"TOC-B05_20M\"], \"common_name\": \"rededge\", \"gsd\": 20, \"name\": \"B05\", \"type\": \"int16\", \"wavelength_nm\": 704.1}, {\"aliases\": [\"TOC-B06_20M\"], \"common_name\": \"rededge\", \"gsd\": 20, \"name\": \"B06\", \"type\": \"int16\", \"wavelength_nm\": 740.5}, {\"aliases\": [\"TOC-B07_20M\"], \"common_name\": \"rededge\", \"gsd\": 20, \"name\": \"B07\", \"type\": \"int16\", \"wavelength_nm\": 782.8}, {\"aliases\": [\"TOC-B08_10M\"], \"center_wavelength\": 0.8351, \"common_name\": \"nir\", \"gsd\": 10, \"name\": \"B08\", \"type\": \"int16\", \"wavelength_nm\": 835.1}, {\"aliases\": [\"TOC-B8A_20M\"], \"gsd\": 20, \"name\": \"B8A\", \"type\": \"int16\", \"wavelength_nm\": 864.7}, {\"center_wavelength\": 0.9451, \"common_name\": \"nir09\", \"data_type\": \"uint16\", \"full_width_half_max\": 0.02, \"name\": \"B09\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [60, 60]}, \"statistics\": {\"maximum\": [4000], \"minimum\": [0]}}, {\"aliases\": [\"TOC-B11_20M\"], \"common_name\": \"swir\", \"gsd\": 20, \"name\": \"B11\", \"type\": \"int16\", \"wavelength_nm\": 1613.7}, {\"aliases\": [\"TOC-B12_20M\"], \"common_name\": \"swir\", \"gsd\": 20, \"name\": \"B12\", \"type\": \"int16\", \"wavelength_nm\": 2202.4}, {\"data_type\": \"float32\", \"description\": \"Aerosol Optical Thickness map, based on Sen2Cor processor\", \"name\": \"AOT\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [10, 10]}, \"statistics\": {\"maximum\": [0.6], \"minimum\": [0]}}, {\"aliases\": [\"SCENECLASSIFICATION_20M\"], \"gsd\": 20, \"name\": \"SCL\"}, {\"data_type\": \"uint8\", \"description\": \"Snow probability, based on Sen2Cor processor\", \"name\": \"SNW\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [20, 20]}, \"statistics\": {\"maximum\": [100], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"Cloud probability, based on Sen2Cor processor\", \"name\": \"CLD\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [20, 20]}, \"statistics\": {\"maximum\": [100], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"Cloud probability, based on s2cloudless\", \"name\": \"CLP\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [160, 160]}, \"statistics\": {\"maximum\": [255], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"Cloud masks\", \"name\": \"CLM\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [160, 160]}, \"statistics\": [0, 1, 255]}, {\"data_type\": \"float32\", \"description\": \"Sun azimuth angle\", \"name\": \"sunAzimuthAngles\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [5000, 5000]}, \"statistics\": {\"maximum\": [200], \"minimum\": [30]}}, {\"aliases\": [\"SZA_60M\"], \"gsd\": 60, \"name\": \"sunZenithAngles\"}, {\"data_type\": \"float32\", \"description\": \"Viewing azimuth angle\", \"name\": \"viewAzimuthMean\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [5000, 5000]}, \"statistics\": {\"maximum\": [300], \"minimum\": [90]}}, {\"data_type\": \"float32\", \"description\": \"Viewing zenith angle\", \"name\": \"viewZenithMean\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [5000, 5000]}, \"statistics\": {\"maximum\": [12], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"The mask of data/no data pixels.\", \"name\": \"dataMask\", \"statistics\": {\"maximum\": [1], \"minimum\": [0]}}, {\"aliases\": [\"RAA_60M\"], \"gsd\": 60, \"name\": \"relativeAzimuthAngles\"}, {\"aliases\": [\"VZA_60M\", \"viewZenithApproximate\"], \"gsd\": 60, \"name\": \"viewZenithAngles\"}], \"eo:cloud_cover\": {\"maximum\": 100, \"minimum\": 0}, \"eo:gsd\": [10, 20, 60], \"federation:backends\": [\"vito\"], \"instruments\": [\"MSI\"], \"platform\": [\"Sentinel-2A\", \"Sentinel-2B\"], \"raster:bands\": [{\"name\": \"B01\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B02\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B03\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B04\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B05\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B06\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B07\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B08\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B8A\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B11\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B12\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"SCL\"}, {\"name\": \"relativeAzimuthAngles\"}, {\"name\": \"sunZenithAngles\"}, {\"name\": \"viewZenithAngles\"}]}, \"title\": \"Sentinel-2 top of canopy last 2 years over Europe + selected areas, by Terrascope.\"}}\u003c/script\u003e\n    \u003c/openeo-collection\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"{'cube:dimensions': {'bands': {'type': 'bands',\n   'values': ['B01',\n    'B02',\n    'B03',\n    'B04',\n    'B05',\n    'B06',\n    'B07',\n    'B08',\n    'B8A',\n    'B09',\n    'B11',\n    'B12',\n    'AOT',\n    'SCL',\n    'SNW',\n    'CLD',\n    'CLP',\n    'CLM',\n    'sunAzimuthAngles',\n    'sunZenithAngles',\n    'viewAzimuthMean',\n    'viewZenithMean',\n    'dataMask',\n    'relativeAzimuthAngles',\n    'viewZenithAngles']},\n  't': {'extent': ['2015-07-06T00:00:00Z', None], 'type': 'temporal'},\n  'x': {'axis': 'x',\n   'extent': [-180, 180],\n   'reference_system': {'$schema': 'https://proj.org/schemas/v0.2/projjson.schema.json',\n    'area': 'World',\n    'bbox': {'east_longitude': 180,\n     'north_latitude': 90,\n     'south_latitude': -90,\n     'west_longitude': -180},\n    'coordinate_system': {'axis': [{'abbreviation': 'Lat',\n       'direction': 'north',\n       'name': 'Geodetic latitude',\n       'unit': 'degree'},\n      {'abbreviation': 'Lon',\n       'direction': 'east',\n       'name': 'Geodetic longitude',\n       'unit': 'degree'}],\n     'subtype': 'ellipsoidal'},\n    'datum': {'ellipsoid': {'inverse_flattening': 298.257223563,\n      'name': 'WGS 84',\n      'semi_major_axis': 6378137},\n     'name': 'World Geodetic System 1984',\n     'type': 'GeodeticReferenceFrame'},\n    'id': {'authority': 'OGC', 'code': 'Auto42001', 'version': '1.3'},\n    'name': 'AUTO 42001 (Universal Transverse Mercator)',\n    'type': 'GeodeticCRS'},\n   'step': 10,\n   'type': 'spatial'},\n  'y': {'axis': 'y',\n   'extent': [-56, 83],\n   'reference_system': {'$schema': 'https://proj.org/schemas/v0.2/projjson.schema.json',\n    'area': 'World',\n    'bbox': {'east_longitude': 180,\n     'north_latitude': 90,\n     'south_latitude': -90,\n     'west_longitude': -180},\n    'coordinate_system': {'axis': [{'abbreviation': 'Lat',\n       'direction': 'north',\n       'name': 'Geodetic latitude',\n       'unit': 'degree'},\n      {'abbreviation': 'Lon',\n       'direction': 'east',\n       'name': 'Geodetic longitude',\n       'unit': 'degree'}],\n     'subtype': 'ellipsoidal'},\n    'datum': {'ellipsoid': {'inverse_flattening': 298.257223563,\n      'name': 'WGS 84',\n      'semi_major_axis': 6378137},\n     'name': 'World Geodetic System 1984',\n     'type': 'GeodeticReferenceFrame'},\n    'id': {'authority': 'OGC', 'code': 'Auto42001', 'version': '1.3'},\n    'name': 'AUTO 42001 (Universal Transverse Mercator)',\n    'type': 'GeodeticCRS'},\n   'step': 10,\n   'type': 'spatial'}},\n 'description': '[Sentinel-2 Level 2A](https://docs.terrascope.be/#/DataProducts/Sentinel-2/Level2A/Level2A) product, processed from L1C by Sen2Cor. \\n Use the [Terrascope viewer](https://viewer.terrascope.be/?language=nl\u0026bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045\u0026overlay=false\u0026bgLayer=MapBox\u0026date=2019-02-25T03:17:15.000Z\u0026layer=CGS_S2_RADIOMETRY) to explore the data. \\n\\n ',\n 'extent': {'spatial': {'bbox': [[-180, -56, 180, 83], [-180, -56, 180, 83]]},\n  'temporal': {'interval': [['2015-07-06T00:00:00Z', None],\n    ['2016-11-01T00:00:00Z', None]]}},\n 'id': 'SENTINEL2_L2A',\n 'keywords': ['VITO',\n  'TERRASCOPE',\n  'COPERNICUS',\n  'ESA',\n  'Orthoimagery',\n  'Sentinel-2',\n  'MSI',\n  'Level-2A',\n  'Radiometry',\n  'Plant Resource',\n  'TOC'],\n 'license': 'proprietary',\n 'links': [{'href': 'https://sentinel.esa.int/documents/247904/690755/Sentinel_Data_Legal_Notice',\n   'rel': 'license'},\n  {'href': 'https://services.terrascope.be/catalogue/description?collection=urn:eop:VITO:TERRASCOPE_S2_TOC_V2',\n   'rel': 'alternate'},\n  {'href': 'https://viewer.terrascope.be/?language=nl\u0026bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045\u0026overlay=false\u0026bgLayer=MapBox\u0026date=2019-02-25T03:17:15.000Z\u0026layer=CGS_S2_RADIOMETRY',\n   'rel': 'alternate'},\n  {'href': 'https://services.terrascope.be/wmts/v2',\n   'rel': 'wmts',\n   'wmts:layer': 'CGS_S2_RADIOMETRY'},\n  {'href': 'https://services.sentinel-hub.com/ogc/wmts/7d34803f-511c-4caf-9438-6d72f32c8174',\n   'rel': 'wmts',\n   'wmts:dimensions': {'warnings': True},\n   'wmts:layer': 'TRUE-COLOR'},\n  {'href': 'https://docs.sentinel-hub.com/api/latest/api/process/',\n   'rel': 'about',\n   'title': 'Details about running Evalscripts',\n   'type': 'text/html'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/true_color/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'True Color',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate True Color imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/false_color_infrared/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'False color',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate False color imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/swir-rgb/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'SWIR',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate Short Wave Infrared (SWIR) RGB Composite',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/false-color-urban-rgb/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'False Color Urban',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate False Color Urban imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndvi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDVI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDVI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndmi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDMI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDMI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndwi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDWI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDWI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndsi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDSI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDSI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/scene-classification/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'Scene Classification',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate Scene Classification imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://sentinels.copernicus.eu/documents/247904/690755/Sentinel_Data_Legal_Notice',\n   'rel': 'license',\n   'title': 'License',\n   'type': 'application/pdf'},\n  {'href': './sentinel-2-l2a',\n   'rel': 'about',\n   'title': 'Website describing the collection',\n   'type': 'text/html'},\n  {'href': 'https://openeocloud.vito.be/openeo/1.0.0/collections',\n   'rel': 'root'},\n  {'href': 'https://openeocloud.vito.be/openeo/1.0.0/collections',\n   'rel': 'parent'},\n  {'href': 'https://openeocloud.vito.be/openeo/1.0.0/collections/SENTINEL2_L2A',\n   'rel': 'self'}],\n 'providers': [{'name': 'VITO, on behalf of the Belgian Science Policy Office (BELSPO).',\n   'roles': ['producer', 'licensor'],\n   'url': 'https://terrascope.be'},\n  {'description': 'Europe since November 2016, Global since January 2017',\n   'name': 'Sentinel Hub',\n   'roles': ['processor'],\n   'url': 'https://services.sentinel-hub.com'}],\n 'stac_extensions': ['https://stac-extensions.github.io/datacube/v2.2.0/schema.json',\n  'https://stac-extensions.github.io/eo/v1.1.0/schema.json'],\n 'stac_version': '0.9.0',\n 'summaries': {'bands': [{'eo:common_name': 'coastal aerosol', 'name': 'B01'},\n   {'eo:center_wavelength': 0.4966, 'eo:common_name': 'blue', 'name': 'B02'},\n   {'eo:center_wavelength': 0.56, 'eo:common_name': 'green', 'name': 'B03'},\n   {'eo:center_wavelength': 0.6645, 'eo:common_name': 'red', 'name': 'B04'},\n   {'eo:common_name': 'rededge', 'name': 'B05'},\n   {'eo:common_name': 'rededge', 'name': 'B06'},\n   {'eo:common_name': 'rededge', 'name': 'B07'},\n   {'eo:center_wavelength': 0.8351, 'eo:common_name': 'nir', 'name': 'B08'},\n   {'name': 'B8A'},\n   {'eo:center_wavelength': 0.9451, 'eo:common_name': 'nir09', 'name': 'B09'},\n   {'eo:common_name': 'swir', 'name': 'B11'},\n   {'eo:common_name': 'swir', 'name': 'B12'},\n   {'name': 'AOT'},\n   {'name': 'SCL'},\n   {'name': 'SNW'},\n   {'name': 'CLD'},\n   {'name': 'CLP'},\n   {'name': 'CLM'},\n   {'name': 'sunAzimuthAngles'},\n   {'name': 'sunZenithAngles'},\n   {'name': 'viewAzimuthMean'},\n   {'name': 'viewZenithMean'},\n   {'name': 'dataMask'},\n   {'name': 'relativeAzimuthAngles'},\n   {'name': 'viewZenithAngles'}],\n  'constellation': ['Sentinel-2'],\n  'eo:bands': [{'aliases': ['TOC-B01_60M'],\n    'common_name': 'coastal aerosol',\n    'gsd': 60,\n    'name': 'B01',\n    'type': 'int16',\n    'wavelength_nm': 442.7},\n   {'aliases': ['TOC-B02_10M'],\n    'center_wavelength': 0.4966,\n    'common_name': 'blue',\n    'gsd': 10,\n    'name': 'B02',\n    'type': 'int16',\n    'wavelength_nm': 496.6},\n   {'aliases': ['TOC-B03_10M'],\n    'center_wavelength': 0.56,\n    'common_name': 'green',\n    'gsd': 10,\n    'name': 'B03',\n    'type': 'int16',\n    'wavelength_nm': 560},\n   {'aliases': ['TOC-B04_10M'],\n    'center_wavelength': 0.6645,\n    'common_name': 'red',\n    'gsd': 10,\n    'name': 'B04',\n    'type': 'int16',\n    'wavelength_nm': 664.5},\n   {'aliases': ['TOC-B05_20M'],\n    'common_name': 'rededge',\n    'gsd': 20,\n    'name': 'B05',\n    'type': 'int16',\n    'wavelength_nm': 704.1},\n   {'aliases': ['TOC-B06_20M'],\n    'common_name': 'rededge',\n    'gsd': 20,\n    'name': 'B06',\n    'type': 'int16',\n    'wavelength_nm': 740.5},\n   {'aliases': ['TOC-B07_20M'],\n    'common_name': 'rededge',\n    'gsd': 20,\n    'name': 'B07',\n    'type': 'int16',\n    'wavelength_nm': 782.8},\n   {'aliases': ['TOC-B08_10M'],\n    'center_wavelength': 0.8351,\n    'common_name': 'nir',\n    'gsd': 10,\n    'name': 'B08',\n    'type': 'int16',\n    'wavelength_nm': 835.1},\n   {'aliases': ['TOC-B8A_20M'],\n    'gsd': 20,\n    'name': 'B8A',\n    'type': 'int16',\n    'wavelength_nm': 864.7},\n   {'center_wavelength': 0.9451,\n    'common_name': 'nir09',\n    'data_type': 'uint16',\n    'full_width_half_max': 0.02,\n    'name': 'B09',\n    'openeo:gsd': {'unit': 'm', 'value': [60, 60]},\n    'statistics': {'maximum': [4000], 'minimum': [0]}},\n   {'aliases': ['TOC-B11_20M'],\n    'common_name': 'swir',\n    'gsd': 20,\n    'name': 'B11',\n    'type': 'int16',\n    'wavelength_nm': 1613.7},\n   {'aliases': ['TOC-B12_20M'],\n    'common_name': 'swir',\n    'gsd': 20,\n    'name': 'B12',\n    'type': 'int16',\n    'wavelength_nm': 2202.4},\n   {'data_type': 'float32',\n    'description': 'Aerosol Optical Thickness map, based on Sen2Cor processor',\n    'name': 'AOT',\n    'openeo:gsd': {'unit': 'm', 'value': [10, 10]},\n    'statistics': {'maximum': [0.6], 'minimum': [0]}},\n   {'aliases': ['SCENECLASSIFICATION_20M'], 'gsd': 20, 'name': 'SCL'},\n   {'data_type': 'uint8',\n    'description': 'Snow probability, based on Sen2Cor processor',\n    'name': 'SNW',\n    'openeo:gsd': {'unit': 'm', 'value': [20, 20]},\n    'statistics': {'maximum': [100], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'Cloud probability, based on Sen2Cor processor',\n    'name': 'CLD',\n    'openeo:gsd': {'unit': 'm', 'value': [20, 20]},\n    'statistics': {'maximum': [100], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'Cloud probability, based on s2cloudless',\n    'name': 'CLP',\n    'openeo:gsd': {'unit': 'm', 'value': [160, 160]},\n    'statistics': {'maximum': [255], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'Cloud masks',\n    'name': 'CLM',\n    'openeo:gsd': {'unit': 'm', 'value': [160, 160]},\n    'statistics': [0, 1, 255]},\n   {'data_type': 'float32',\n    'description': 'Sun azimuth angle',\n    'name': 'sunAzimuthAngles',\n    'openeo:gsd': {'unit': 'm', 'value': [5000, 5000]},\n    'statistics': {'maximum': [200], 'minimum': [30]}},\n   {'aliases': ['SZA_60M'], 'gsd': 60, 'name': 'sunZenithAngles'},\n   {'data_type': 'float32',\n    'description': 'Viewing azimuth angle',\n    'name': 'viewAzimuthMean',\n    'openeo:gsd': {'unit': 'm', 'value': [5000, 5000]},\n    'statistics': {'maximum': [300], 'minimum': [90]}},\n   {'data_type': 'float32',\n    'description': 'Viewing zenith angle',\n    'name': 'viewZenithMean',\n    'openeo:gsd': {'unit': 'm', 'value': [5000, 5000]},\n    'statistics': {'maximum': [12], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'The mask of data/no data pixels.',\n    'name': 'dataMask',\n    'statistics': {'maximum': [1], 'minimum': [0]}},\n   {'aliases': ['RAA_60M'], 'gsd': 60, 'name': 'relativeAzimuthAngles'},\n   {'aliases': ['VZA_60M', 'viewZenithApproximate'],\n    'gsd': 60,\n    'name': 'viewZenithAngles'}],\n  'eo:cloud_cover': {'maximum': 100, 'minimum': 0},\n  'eo:gsd': [10, 20, 60],\n  'federation:backends': ['vito'],\n  'instruments': ['MSI'],\n  'platform': ['Sentinel-2A', 'Sentinel-2B'],\n  'raster:bands': [{'name': 'B01', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B02', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B03', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B04', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B05', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B06', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B07', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B08', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B8A', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B11', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B12', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'SCL'},\n   {'name': 'relativeAzimuthAngles'},\n   {'name': 'sunZenithAngles'},\n   {'name': 'viewZenithAngles'}]},\n 'title': 'Sentinel-2 top of canopy last 2 years over Europe + selected areas, by Terrascope.'}","content_type":"text/plain"}}},"children":[],"key":"QbPVxQUxig"}],"visibility":"show","key":"cEY5z4qAf1"}],"visibility":"show","key":"Zj3xRPb6J3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define a workflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xPkFyCYqnn"}],"identifier":"define-a-workflow","label":"Define a workflow","html_id":"define-a-workflow","implicit":true,"key":"vJHRvcQ2eT"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will define our workflow now. And chain all the processes together we need for analyzing the snow cover in the catchment.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ANeclODMVk"}],"key":"mzRxAhICKF"}],"key":"bIr7iP7IqT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define the data cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wn2vJywBh3"}],"identifier":"define-the-data-cube","label":"Define the data cube","html_id":"define-the-data-cube","implicit":true,"key":"QeBDapxZzC"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We define all extents of our data cube. We use the catchment as spatial extent. As a time range we will focus on the snow melting season 2018, in particular from Febraury to June 2018.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"u6nJXGFNMa"}],"key":"SdBJ8dWmaQ"}],"key":"bqZIY4G9om"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"bbox = catchment_outline.bounds.iloc[0]\nbbox","visibility":"show","key":"m5KFnfdp8x"},{"type":"outputs","id":"fKi3LOEYP0o_vXfp7miDf","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"minx    11.020833\nminy    46.653599\nmaxx    11.366667\nmaxy    46.954167\nName: 0, dtype: float64","content_type":"text/plain"}}},"children":[],"key":"fa7UXvg3td"}],"visibility":"show","key":"gTP14tOIuS"}],"visibility":"show","key":"QqYNqs8Ito"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from openeo.processes import lte\ncollection      = 'SENTINEL2_L2A'\nspatial_extent  = {'west':bbox[0],'east':bbox[2],'south':bbox[1],'north':bbox[3],'crs':4326}\ntemporal_extent = [\"2022-02-01\", \"2022-06-30\"]\nbands           = ['B03', 'B11']\nproperties={\"eo:cloud_cover\": lambda x: lte(x, 90)}","visibility":"show","key":"FXoexU9Gra"},{"type":"outputs","id":"NoJGJkTkuXJsGy85XfTA_","children":[],"visibility":"show","key":"wiEwKVB22S"}],"visibility":"show","key":"RMjVvlkDSv"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the data cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hIH9QEmreS"}],"identifier":"load-the-data-cube","label":"Load the data cube","html_id":"load-the-data-cube","implicit":true,"key":"jwYIybel7x"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We have defined the extents we are interested in. Now we use these definitions to load the data cube.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"QGOiFbdSeL"}],"key":"fjSD34V0KO"}],"visibility":"show","key":"pGcV2g4Tmq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"s2 = conn.load_collection(collection,\n                          spatial_extent=spatial_extent,\n                          bands=bands,\n                          temporal_extent=temporal_extent,\n                          properties=properties)","visibility":"show","key":"vQBZDFbDt4"},{"type":"outputs","id":"Oq7cyc1uX7hFRpTmd-EF_","children":[],"visibility":"show","key":"hAnjLih0z3"}],"visibility":"show","key":"vfEi4v6eD7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"NDSI - Normalized Difference Snow Index","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HQxJDw8Sgs"}],"identifier":"ndsi-normalized-difference-snow-index","label":"NDSI - Normalized Difference Snow Index","html_id":"ndsi-normalized-difference-snow-index","implicit":true,"key":"UxqVHbdOGr"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The Normalized Difference Snow Index (NDSI) is computed as:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"f1gH3eqz0w"}],"key":"YKwdJpvERP"},{"type":"math","value":"NDSI = \\frac {GREEN - SWIR} {GREEN +SWIR}","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"\u003cspan class=\"katex-display\"\u003e\u003cspan class=\"katex\"\u003e\u003cspan class=\"katex-mathml\"\u003e\u003cmath xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"\u003e\u003csemantics\u003e\u003cmrow\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmi\u003eD\u003c/mi\u003e\u003cmi\u003eS\u003c/mi\u003e\u003cmi\u003eI\u003c/mi\u003e\u003cmo\u003e=\u003c/mo\u003e\u003cmfrac\u003e\u003cmrow\u003e\u003cmi\u003eG\u003c/mi\u003e\u003cmi\u003eR\u003c/mi\u003e\u003cmi\u003eE\u003c/mi\u003e\u003cmi\u003eE\u003c/mi\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e−\u003c/mo\u003e\u003cmi\u003eS\u003c/mi\u003e\u003cmi\u003eW\u003c/mi\u003e\u003cmi\u003eI\u003c/mi\u003e\u003cmi\u003eR\u003c/mi\u003e\u003c/mrow\u003e\u003cmrow\u003e\u003cmi\u003eG\u003c/mi\u003e\u003cmi\u003eR\u003c/mi\u003e\u003cmi\u003eE\u003c/mi\u003e\u003cmi\u003eE\u003c/mi\u003e\u003cmi\u003eN\u003c/mi\u003e\u003cmo\u003e+\u003c/mo\u003e\u003cmi\u003eS\u003c/mi\u003e\u003cmi\u003eW\u003c/mi\u003e\u003cmi\u003eI\u003c/mi\u003e\u003cmi\u003eR\u003c/mi\u003e\u003c/mrow\u003e\u003c/mfrac\u003e\u003c/mrow\u003e\u003cannotation encoding=\"application/x-tex\"\u003eNDSI = \\frac {GREEN - SWIR} {GREEN +SWIR}\u003c/annotation\u003e\u003c/semantics\u003e\u003c/math\u003e\u003c/span\u003e\u003cspan class=\"katex-html\" aria-hidden=\"true\"\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:0.6833em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eN\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.02778em;\"\u003eD\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07847em;\"\u003eI\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003cspan class=\"mrel\"\u003e=\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2778em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"base\"\u003e\u003cspan class=\"strut\" style=\"height:2.1297em;vertical-align:-0.7693em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mopen nulldelimiter\"\u003e\u003c/span\u003e\u003cspan class=\"mfrac\"\u003e\u003cspan class=\"vlist-t vlist-t2\"\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:1.3603em;\"\u003e\u003cspan style=\"top:-2.314em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e+\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.13889em;\"\u003eW\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07847em;\"\u003eI\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.23em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"frac-line\" style=\"border-bottom-width:0.04em;\"\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"top:-3.677em;\"\u003e\u003cspan class=\"pstrut\" style=\"height:3em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord\"\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.10903em;\"\u003eGREEN\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mbin\"\u003e−\u003c/span\u003e\u003cspan class=\"mspace\" style=\"margin-right:0.2222em;\"\u003e\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.05764em;\"\u003eS\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.13889em;\"\u003eW\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.07847em;\"\u003eI\u003c/span\u003e\u003cspan class=\"mord mathnormal\" style=\"margin-right:0.00773em;\"\u003eR\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-s\"\u003e​\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"vlist-r\"\u003e\u003cspan class=\"vlist\" style=\"height:0.7693em;\"\u003e\u003cspan\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"mclose nulldelimiter\"\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e","enumerator":"1","key":"yCyInrN3yX"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We have created a Sentinel-2 data cube with bands B03 (green), B11 (SWIR) and the cloud mask (CLM). We will use the green and SWIR band to calculate a the NDSI. This process is reducing the band dimension of the data cube to generate new information, the NDSI.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"Jz75CizRgr"}],"key":"E19QftsJAz"}],"key":"qnS9KGphee"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"green = s2.band(\"B03\")\nswir = s2.band(\"B11\")\nndsi = (green - swir) / (green + swir)\nndsi","visibility":"show","key":"KDQidualCU"},{"type":"outputs","id":"jDLJorzOblrrNUPNqZe6q","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-model-builder\u003e\n        \u003cscript type=\"application/json\"\u003e{\"id\": \"7fc5b0a2f86048eabfc225a54aa21b67\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}, \"result\": true}}}}, \"result\": true}}}}\u003c/script\u003e\n    \u003c/openeo-model-builder\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"\u003copeneo.rest.datacube.DataCube at 0x7f5824304ad0\u003e","content_type":"text/plain"}}},"children":[],"key":"Xg3csoDKiU"}],"visibility":"show","key":"Z59cBZJAJM"}],"visibility":"show","key":"RcE0OPxKEa"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating the Snow Map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i3eQzhno8H"}],"identifier":"creating-the-snow-map","label":"Creating the Snow Map","html_id":"creating-the-snow-map","implicit":true,"key":"xuo5vrn67A"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"So far we have a timeseries of NDSI values. We are intereseted in the presence of snow though. Ideally in a binary classification: snow and no snow.\nTo achieve this we are setting a threshold of 0.42 on the NDSI. This gives us a binary snow map.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"fbKZNxAV0p"}],"key":"wJS2u9ne8D"}],"key":"JN0J2pd0ez"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap = ( ndsi \u003e 0.42 ) * 1.0\nsnowmap","visibility":"show","key":"ceammARNSK"},{"type":"outputs","id":"PDqjn0oYTjmmx1R4vkMnT","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-model-builder\u003e\n        \u003cscript type=\"application/json\"\u003e{\"id\": \"c91a49164ac44e7f807a0d16853ee936\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}}, \"gt1\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1.0}, \"result\": true}}}}, \"result\": true}}}}\u003c/script\u003e\n    \u003c/openeo-model-builder\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"\u003copeneo.rest.datacube.DataCube at 0x7f5826b858d0\u003e","content_type":"text/plain"}}},"children":[],"key":"b6A5nO37XJ"}],"visibility":"show","key":"XeZ89ZACPX"}],"visibility":"show","key":"VRkPAYNDQc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating a cloud mask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"myTotfQH7x"}],"identifier":"creating-a-cloud-mask","label":"Creating a cloud mask","html_id":"creating-a-cloud-mask","implicit":true,"key":"in8bfvQS6u"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are going to use “SCL” band for creating a cloud mask and then applying it to the NDSI.\n","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"klbwMermhx"},{"type":"inlineCode","value":"8 = cloud medium probability","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"UT0JbQX9gc"},{"type":"text","value":", ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"H1f0lHW9Cr"},{"type":"inlineCode","value":"9 = cloud high probability","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"yD3LocCp4l"},{"type":"text","value":", ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"C4pQcgIWUC"},{"type":"inlineCode","value":"3 = cloud shadow","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vVCsjLmmpu"}],"key":"UfQEQGD8Zm"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Here is more information on the Scene Classification ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"MB8nj80XYe"},{"type":"link","url":"https://sentinels.copernicus.eu/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm-overview","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​sentinels​.copernicus​.eu​/web​/sentinel​/technical​-guides​/sentinel​-2​-msi​/level​-2a​/algorithm​-overview","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"p4ZT9ni0yN"}],"urlSource":"https://sentinels.copernicus.eu/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm-overview","key":"tnBOCSX2cs"}],"key":"IWE3r4Xabv"},{"type":"table","position":{"start":{"line":7,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BsqqpvzjXh"}],"key":"mwGvaBUhFy"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Label","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QMfZlWzGKs"}],"key":"YJVrtAORqs"}],"key":"EIrByY8o0V"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"anl0tDKYDL"}],"key":"S4oIlbKdgm"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"NO_DATA","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FJBTHsOlAT"}],"key":"reGefIJPU2"}],"key":"wGG2X9lIw6"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"1","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"hSvpb8tVwx"}],"key":"eIun8tFiXC"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"SATURATED_OR_DEFECTIVE","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"YFbxjmeimJ"}],"key":"qpNpUKEmv6"}],"key":"uDfz3jjACR"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"hI58SHBIwz"}],"key":"cFOPZoNTPA"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"CAST_SHADOWS","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"BITLRsHn34"}],"key":"QKimlFmZcY"}],"key":"rb3xaAzIPe"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"3","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"T1Qhz5zsF3"}],"key":"UGbwnRCH5a"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"CLOUD_SHADOWS","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"qOUhvj7J73"}],"key":"qMkUmww8BU"}],"key":"EwuggwzLjb"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"akDVyUd9aF"}],"key":"GSKmkvEOY3"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"VEGETATION","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"RwwDHEzP04"}],"key":"xQpbQS00GU"}],"key":"QR8IDTIhqc"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"xVu9YwB8Tl"}],"key":"b9Jy8Qw1yi"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"NOT_VEGETATED","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"TS9gjPKnWY"}],"key":"kFLqXo1gWc"}],"key":"VsDNZvaPhA"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"6","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"VOUYDNmdv6"}],"key":"xtxfHVPysR"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"WATER","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"qdvYCFSI4C"}],"key":"NnSdJVjqdS"}],"key":"mcGQgbY3Jp"},{"type":"tableRow","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"7","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Q0zaGmlTpt"}],"key":"CX6Vw9hjGZ"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"UNCLASSIFIED","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"xnOtrvS6pE"}],"key":"cs1caFcYBo"}],"key":"Hdu0UwxVNw"},{"type":"tableRow","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"8","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"B59PDwswTD"}],"key":"zdeeaYGcOB"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"CLOUD_MEDIUM_PROBABILITY","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"rHHmJVkqpG"}],"key":"ucQkPpLTmJ"}],"key":"IzWTGgijGH"},{"type":"tableRow","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"9","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"LUbvZd1R51"}],"key":"C2VEXDErIX"},{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"CLOUD_HIGH_PROBABILITY","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"l0a8qZ4UQV"}],"key":"DAvOM3zvlr"}],"key":"nvmrPPdcap"},{"type":"tableRow","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"yDMdUGCEtG"}],"key":"RXkqah9oc4"},{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"THIN_CIRRUS","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"JyDIMszxas"}],"key":"dCyDiAQa7q"}],"key":"LQ6FXYcICw"},{"type":"tableRow","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"11","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"ljkAf7kUqX"}],"key":"l2GLFu95Qt"},{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"SNOW or ICE","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"HVV1BSvxyL"}],"key":"uT1K3eNNQL"}],"key":"b8AYYCMP4T"}],"key":"truUtFXuFG"}],"key":"GAqD6P5kv2"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"scl_cube =conn.load_collection(\n    \"SENTINEL2_L2A\",\n    spatial_extent=spatial_extent,\n    bands=[\"SCL\"],\n    temporal_extent=temporal_extent,\n    max_cloud_cover=90,\n    \n)","key":"zy3Un7UODQ"},{"type":"outputs","id":"F8JqhJ72niAQrwErgA9uE","children":[],"key":"jMU1txv9DQ"}],"key":"H0nt6rHf3s"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"scl_band = scl_cube.band(\"SCL\")\ncloud_mask = ( (scl_band == 8) | (scl_band == 9) | (scl_band == 3) ) * 1.0\ncloud_mask","visibility":"show","key":"DRr1FOhaGj"},{"type":"outputs","id":"mEmYv2_GTxj-BBWTrMiAz","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-model-builder\u003e\n        \u003cscript type=\"application/json\"\u003e{\"id\": \"e593972676d24fef90a0f904895b11a4\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"eq1\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": 8}}, \"eq2\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": 9}}, \"or1\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}}, \"eq3\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": 3}}, \"or2\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1.0}, \"result\": true}}}}, \"result\": true}}}}\u003c/script\u003e\n    \u003c/openeo-model-builder\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"\u003copeneo.rest.datacube.DataCube at 0x7f582431a0d0\u003e","content_type":"text/plain"}}},"children":[],"key":"qKhvg1bCuz"}],"visibility":"show","key":"awsKxuSluB"}],"visibility":"show","key":"IMZ51ky2OY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The SCL layer has a ground sample distance of 20 meter while the other bands have 10 meter GSD","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"agTF8JXxkp"}],"key":"GQKL2qtrlE"}],"key":"rs84rY2tds"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Applying the cloud mask to the snowmap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yOWyUWte52"}],"identifier":"applying-the-cloud-mask-to-the-snowmap","label":"Applying the cloud mask to the snowmap","html_id":"applying-the-cloud-mask-to-the-snowmap","implicit":true,"key":"hrgN4ESK7R"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will mask out all pixels that are covered by clouds. This will result in: 0 = no_snow, 1 = snow, 2 = cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"AlWkBSj6Rk"}],"key":"eeWWlZHnqE"}],"key":"oAjdZq36rQ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_cloudfree = snowmap.mask(cloud_mask,replacement=2) # replacement is null by default\nsnowmap_cloudfree","visibility":"show","key":"kBHsj0cFz9"},{"type":"outputs","id":"6SZUIlI0HMjDPc-sCMc8u","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-model-builder\u003e\n        \u003cscript type=\"application/json\"\u003e{\"id\": \"dc45c3f5cc314107adaa3d2db03c234b\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}}, \"gt1\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1.0}, \"result\": true}}}}}, \"loadcollection2\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte2\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension2\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection2\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement3\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"eq1\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 8}}, \"eq2\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 9}}, \"or1\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}}, \"eq3\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 3}}, \"or2\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}}, \"multiply2\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1.0}, \"result\": true}}}}}, \"mask1\": {\"process_id\": \"mask\", \"arguments\": {\"data\": {\"from_node\": \"reducedimension1\"}, \"mask\": {\"from_node\": \"reducedimension2\"}, \"replacement\": 2}, \"result\": true}}}}\u003c/script\u003e\n    \u003c/openeo-model-builder\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"\u003copeneo.rest.datacube.DataCube at 0x7f583cad9f50\u003e","content_type":"text/plain"}}},"children":[],"key":"LvbW2OY3Jx"}],"visibility":"show","key":"kxruRxaCfi"}],"visibility":"show","key":"mj1A6vlZsE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mask Polygon: From Bounding Box to Shape","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DQtqtBdTg0"}],"identifier":"mask-polygon-from-bounding-box-to-shape","label":"Mask Polygon: From Bounding Box to Shape","html_id":"mask-polygon-from-bounding-box-to-shape","implicit":true,"key":"YZivj86DMc"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Filter to the exact outline of the catchment: this should mask out the pixels outside of the catchment.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"bN6PKA2yAn"}],"key":"pPw6Te27fr"}],"key":"eFwOuDeO1m"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_outline['geometry'][0]","visibility":"show","key":"SXh5vYrLYH"},{"type":"outputs","id":"Aak2OsphCgp2-jfDidd0h","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"image/svg+xml":{"content":"\u003csvg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100.0\" height=\"100.0\" viewBox=\"11.007000000000023 46.639766045464434 0.37350000000000527 0.328233954535591\" preserveAspectRatio=\"xMinYMin meet\"\u003e\u003cg transform=\"matrix(1,0,0,-1,0,93.60776604546446)\"\u003e\u003cpath fill-rule=\"evenodd\" fill=\"#66cc99\" stroke=\"#555555\" stroke-width=\"0.007470000000000105\" opacity=\"0.6\" d=\"M 11.075,46.72916666666669 L 11.072575547960094,46.728813340928845 L 11.069091118706622,46.72535332573787 L 11.048285590277802,46.724646674262175 L 11.042024739583358,46.73087632921009 L 11.041666666666691,46.733333333333356 L 11.038123575846377,46.73424241807728 L 11.0375,46.74583333333336 L 11.03664923773874,46.74914923773874 L 11.030017428927975,46.75085076226131 L 11.028599378797768,46.756377156575546 L 11.025567287868947,46.76028951009117 L 11.0244327121311,46.76471048990888 L 11.02140062120228,46.7686228434245 L 11.020833333333357,46.77083333333336 L 11.024291653103322,46.77172071668839 L 11.025567287868947,46.781377156575545 L 11.032766045464435,46.78945617675784 L 11.033900621202282,46.79387715657555 L 11.036932712131101,46.79778951009117 L 11.038067287868948,46.80221048990888 L 11.042586263020858,46.80762905544707 L 11.052210489908878,46.808900621202284 L 11.06028951009117,46.816099378797766 L 11.06471048990888,46.81723395453562 L 11.068622843424503,46.820266045464436 L 11.073043823242212,46.82140062120228 L 11.077974107530407,46.82522176106773 L 11.079733954535614,46.83010389539933 L 11.071295166015648,46.83957451714412 L 11.0744327121311,46.843622843424505 L 11.075567287868948,46.846579996744815 L 11.071400621202281,46.85195617675784 L 11.070266045464434,46.859321424696205 L 11.082766045464435,46.872789510091174 L 11.084041680230058,46.882445949978326 L 11.089710489908878,46.88390062120228 L 11.09995964898006,46.89319695366756 L 11.096400621202282,46.89778951009117 L 11.095266045464435,46.91343722873266 L 11.103599378797767,46.92278951009117 L 11.104166666666691,46.929166666666696 L 11.114924452039954,46.92951999240454 L 11.11875,46.9333187527127 L 11.12328694661461,46.92881334092885 L 11.139924452039956,46.92951999240454 L 11.143408881293428,46.93298000759551 L 11.148288302951414,46.933691067165825 L 11.157980007595512,46.94340888129343 L 11.158691406250025,46.948290337456626 L 11.16424221462676,46.953813340928846 L 11.166666666666693,46.954166666666694 L 11.167024739583358,46.95170966254343 L 11.172575547960095,46.94618665907121 L 11.177424452039956,46.94548000759551 L 11.180908881293428,46.94201999240454 L 11.185757785373289,46.94131334092884 L 11.189242214626761,46.937853325737876 L 11.194123670789956,46.93714192708336 L 11.199646674262178,46.93159111870662 L 11.200353325737872,46.9100755479601 L 11.204519992404538,46.90587972005211 L 11.203813340928845,46.901742214626765 L 11.199646674262178,46.89754638671877 L 11.200353325737872,46.89340888129343 L 11.203813340928845,46.889924452039956 L 11.204519992404538,46.8850755479601 L 11.21248609754777,46.877084011501765 L 11.208686659071207,46.87325778537329 L 11.208333333333359,46.85833333333336 L 11.210543823242213,46.85776604546444 L 11.214456176757839,46.85473395453562 L 11.231377156575547,46.85359937879777 L 11.239456176757837,46.846400621202285 L 11.260543823242212,46.845266045464435 L 11.26458333333336,46.84213528103301 L 11.26875,46.84536471896704 L 11.272789510091172,46.842233954535615 L 11.323043823242214,46.84109937879777 L 11.331122843424506,46.83390062120228 L 11.343877156575548,46.83276604546444 L 11.347789510091172,46.82973395453561 L 11.35331590440541,46.82831590440541 L 11.354733954535616,46.82278951009117 L 11.357766045464437,46.818877156575546 L 11.358900621202284,46.81445617675784 L 11.36609937879777,46.80637715657554 L 11.366666666666694,46.80416666666669 L 11.365779283311658,46.80070834689673 L 11.356122843424506,46.7994327121311 L 11.35208333333336,46.796301947699675 L 11.347916666666693,46.799531385633706 L 11.343877156575548,46.79640062120228 L 11.339456176757839,46.79526604546444 L 11.335543823242213,46.79223395453562 L 11.321806165907145,46.79101189507381 L 11.31306728786895,46.781377156575545 L 11.311932712131103,46.776956176757835 L 11.304733954535617,46.76887715657555 L 11.30359937879777,46.76445617675784 L 11.30056728786895,46.760543823242216 L 11.299149237738742,46.75501742892798 L 11.293622843424505,46.753599378797766 L 11.289710489908881,46.75056728786895 L 11.279166666666693,46.75 L 11.278813340928846,46.73924221462676 L 11.27464667426218,46.73504638671878 L 11.275353325737873,46.73090888129343 L 11.283319430881102,46.722917344835096 L 11.27951999240454,46.71909111870662 L 11.278813340928846,46.705908881293425 L 11.275353325737873,46.702424452039956 L 11.275,46.7 L 11.274032253689262,46.69622938368058 L 11.267413330078151,46.691099378797766 L 11.260289510091171,46.69223395453562 L 11.25491333007815,46.69640062120228 L 11.251956176757838,46.695266045464436 L 11.248043823242213,46.69223395453562 L 11.239456176757837,46.691099378797766 L 11.235543823242214,46.68806728786895 L 11.218622843424505,46.6869327121311 L 11.21471048990888,46.683900621202284 L 11.197789510091171,46.68276604546443 L 11.193877156575546,46.679733954535614 L 11.184220716688394,46.67845831976999 L 11.182413736979193,46.671416219075546 L 11.173043823242214,46.66306728786895 L 11.168622843424505,46.6619327121311 L 11.159270562065997,46.653599378797765 L 11.154985215928845,46.655143907335095 L 11.154166666666692,46.65833333333336 L 11.15085076226131,46.65918409559464 L 11.15,46.6625 L 11.150353325737871,46.66909111870662 L 11.155876329210095,46.67464192708336 L 11.160757785373288,46.67535332573787 L 11.166668023003497,46.68123406304256 L 11.162853325737872,46.685075547960096 L 11.162146674262178,46.68992445203995 L 11.15451999240454,46.69757554796009 L 11.153813340928846,46.702424452039956 L 11.148290337456622,46.70797526041669 L 11.143408881293428,46.708686659071205 L 11.139924452039956,46.71214667426218 L 11.122575547960095,46.712853325737875 L 11.119091118706622,46.71631334092884 L 11.11424221462676,46.71701999240454 L 11.110757785373288,46.72048000759551 L 11.10174221462676,46.72118665907121 L 11.098257785373288,46.724646674262175 L 11.085075547960095,46.72535332573787 L 11.081591118706623,46.728813340928845 L 11.075,46.72916666666669 z\" /\u003e\u003c/g\u003e\u003c/svg\u003e","content_type":"image/svg+xml"},"text/plain":{"content":"\u003cPOLYGON ((11.075 46.729, 11.073 46.729, 11.069 46.725, 11.048 46.725, 11.04...\u003e","content_type":"text/plain"}}},"children":[],"key":"vleGiYGYyx"}],"visibility":"show","key":"CArGQ3N84r"}],"visibility":"show","key":"kX3BQ2XlRC"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_cloudfree_masked = snowmap_cloudfree.mask_polygon(catchment_outline['geometry'][0])","visibility":"show","key":"jhVY3Ln41M"},{"type":"outputs","id":"8Wi8xP7mRx_bqB685qPEl","children":[],"visibility":"show","key":"eIx7DXXnmj"}],"visibility":"show","key":"i2quwd8FmF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize one time step of the timeseries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HYG9irFdi1"}],"identifier":"visualize-one-time-step-of-the-timeseries","label":"Visualize one time step of the timeseries","html_id":"visualize-one-time-step-of-the-timeseries","implicit":true,"key":"pm0jLFdNLp"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Let’s download the whole image time series as a netcdf file to have a look how our first results look like","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"rpKe1sbyJD"}],"key":"XJgPJLNjAd"}],"key":"lv5kqi6Y0B"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_cloudfree_1d = snowmap_cloudfree_masked.filter_temporal('2022-02-10', '2022-02-12')\nsnowmap_cloudfree_1d.download('results/snowmap_cloudfree_1d.nc')","visibility":"show","key":"aLwnrwxHB8"},{"type":"outputs","id":"CY-KkXdWG62NetdrV4HUE","children":[],"visibility":"show","key":"GeWdjxdD7P"}],"visibility":"show","key":"Pxe6c4tF7n"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"xr.open_dataarray('results/snowmap_cloudfree_1d.nc',decode_coords=\"all\")[0].plot.imshow()","visibility":"show","key":"hbRPZD99yJ"},{"type":"outputs","id":"P112AKPkqqHw4dWHMKwJD","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6118594476326eed3a2fc128451b45d1","path":"/cubes-and-clouds/build/6118594476326eed3a2fc128451b45d1.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 2 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"ETUuDt2RAd"}],"visibility":"show","key":"t705u8IKnK"}],"visibility":"show","key":"FIrmcptZPz"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate Catchment Statistics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zhPCzqB8W2"}],"identifier":"calculate-catchment-statistics","label":"Calculate Catchment Statistics","html_id":"calculate-catchment-statistics","implicit":true,"key":"rfXaZU1ROi"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are looking at a region over time. We need to make sure that the information content meets our expected quality. Therefore, we calculate the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FRTPhwSs2X"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"cloud percentage","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a3NAAzW4y9"}],"key":"AnBXQgLDiR"},{"type":"text","value":" for the catchment for each timestep. We use this information to filter the timeseries. All timesteps that have a cloud coverage of over 25% will be discarded.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"x76O3gc2Kp"}],"key":"OKZ5Nl164I"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Ultimately we are interested in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"mk5hcCzgEz"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"snow covered area (SCA)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Zp45Xdz0UZ"}],"key":"SEmzkdmyys"},{"type":"text","value":" within the catchment. We count all snow covered pixels within the catchment for each time step. Multiplied by the pixel size that would be the snow covered area. Divided the pixel count by the total number of pixels in the catchment is the percentage of pixels covered with snow. We will use this number.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"COf36jvziU"}],"key":"c3kDQhQBpm"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Get number of pixels in catchment: total, clouds, snow.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZELAu4q719"}],"key":"ET3HP6KCCP"}],"visibility":"show","key":"ErUt5DHjJo"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# number of all pixels\nn_catchment = ((snowmap_cloudfree \u003e -1) * 1.0).add_dimension(name=\"bands\",type=\"bands\",label=\"n_catchment\")\n\n# number of cloud pixels (no function needed, mask already created before)\nn_cloud = cloud_mask.add_dimension(name=\"bands\",type=\"bands\",label=\"n_cloud\")\n\n# number of snow pixels\nn_snow = ((snowmap_cloudfree == 1) * 1.0).add_dimension(name=\"bands\",type=\"bands\",label=\"n_snow\")\n\n# combine the binary data cubes into one data cube\nn_catchment_cloud_snow = n_catchment.merge_cubes(n_cloud).merge_cubes(n_snow)\n\n# aggregate to catchment\nn_pixels = n_catchment_cloud_snow.aggregate_spatial(geometries = catchment_outline['geometry'][0], reducer = 'sum')\nn_pixels","visibility":"show","key":"cRdx7ViwGO"},{"type":"outputs","id":"ZO90cG7_04-rUACwOMj2B","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-model-builder\u003e\n        \u003cscript type=\"application/json\"\u003e{\"id\": \"32883f97222c46b7b5a602b35fc55025\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}}, \"gt1\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1.0}, \"result\": true}}}}}, \"loadcollection2\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte2\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension2\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection2\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement3\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"eq1\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 8}}, \"eq2\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 9}}, \"or1\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}}, \"eq3\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 3}}, \"or2\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}}, \"multiply2\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1.0}, \"result\": true}}}}}, \"mask1\": {\"process_id\": \"mask\", \"arguments\": {\"data\": {\"from_node\": \"reducedimension1\"}, \"mask\": {\"from_node\": \"reducedimension2\"}, \"replacement\": 2}}, \"apply1\": {\"process_id\": \"apply\", \"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"gt2\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": -1}}, \"multiply3\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt2\"}, \"y\": 1.0}, \"result\": true}}}}}, \"adddimension1\": {\"process_id\": \"add_dimension\", \"arguments\": {\"data\": {\"from_node\": \"apply1\"}, \"label\": \"n_catchment\", \"name\": \"bands\", \"type\": \"bands\"}}, \"adddimension2\": {\"process_id\": \"add_dimension\", \"arguments\": {\"data\": {\"from_node\": \"reducedimension2\"}, \"label\": \"n_cloud\", \"name\": \"bands\", \"type\": \"bands\"}}, \"mergecubes1\": {\"process_id\": \"merge_cubes\", \"arguments\": {\"cube1\": {\"from_node\": \"adddimension1\"}, \"cube2\": {\"from_node\": \"adddimension2\"}}}, \"apply2\": {\"process_id\": \"apply\", \"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"eq4\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": 1}}, \"multiply4\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"eq4\"}, \"y\": 1.0}, \"result\": true}}}}}, \"adddimension3\": {\"process_id\": \"add_dimension\", \"arguments\": {\"data\": {\"from_node\": \"apply2\"}, \"label\": \"n_snow\", \"name\": \"bands\", \"type\": \"bands\"}}, \"mergecubes2\": {\"process_id\": \"merge_cubes\", \"arguments\": {\"cube1\": {\"from_node\": \"mergecubes1\"}, \"cube2\": {\"from_node\": \"adddimension3\"}}}, \"aggregatespatial1\": {\"process_id\": \"aggregate_spatial\", \"arguments\": {\"data\": {\"from_node\": \"mergecubes2\"}, \"geometries\": {\"type\": \"Polygon\", \"coordinates\": [[[11.075, 46.72916666666669], [11.072575547960094, 46.728813340928845], [11.069091118706622, 46.72535332573787], [11.048285590277802, 46.724646674262175], [11.042024739583358, 46.73087632921009], [11.041666666666691, 46.733333333333356], [11.038123575846377, 46.73424241807728], [11.0375, 46.74583333333336], [11.03664923773874, 46.74914923773874], [11.030017428927975, 46.75085076226131], [11.028599378797768, 46.756377156575546], [11.025567287868947, 46.76028951009117], [11.0244327121311, 46.76471048990888], [11.02140062120228, 46.7686228434245], [11.020833333333357, 46.77083333333336], [11.024291653103322, 46.77172071668839], [11.025567287868947, 46.781377156575545], [11.032766045464435, 46.78945617675784], [11.033900621202282, 46.79387715657555], [11.036932712131101, 46.79778951009117], [11.038067287868948, 46.80221048990888], [11.042586263020858, 46.80762905544707], [11.052210489908878, 46.808900621202284], [11.06028951009117, 46.816099378797766], [11.06471048990888, 46.81723395453562], [11.068622843424503, 46.820266045464436], [11.073043823242212, 46.82140062120228], [11.077974107530407, 46.82522176106773], [11.079733954535614, 46.83010389539933], [11.071295166015648, 46.83957451714412], [11.0744327121311, 46.843622843424505], [11.075567287868948, 46.846579996744815], [11.071400621202281, 46.85195617675784], [11.070266045464434, 46.859321424696205], [11.082766045464435, 46.872789510091174], [11.084041680230058, 46.882445949978326], [11.089710489908878, 46.88390062120228], [11.09995964898006, 46.89319695366756], [11.096400621202282, 46.89778951009117], [11.095266045464435, 46.91343722873266], [11.103599378797767, 46.92278951009117], [11.104166666666691, 46.929166666666696], [11.114924452039954, 46.92951999240454], [11.11875, 46.9333187527127], [11.12328694661461, 46.92881334092885], [11.139924452039956, 46.92951999240454], [11.143408881293428, 46.93298000759551], [11.148288302951414, 46.933691067165825], [11.157980007595512, 46.94340888129343], [11.158691406250025, 46.948290337456626], [11.16424221462676, 46.953813340928846], [11.166666666666693, 46.954166666666694], [11.167024739583358, 46.95170966254343], [11.172575547960095, 46.94618665907121], [11.177424452039956, 46.94548000759551], [11.180908881293428, 46.94201999240454], [11.185757785373289, 46.94131334092884], [11.189242214626761, 46.937853325737876], [11.194123670789956, 46.93714192708336], [11.199646674262178, 46.93159111870662], [11.200353325737872, 46.9100755479601], [11.204519992404538, 46.90587972005211], [11.203813340928845, 46.901742214626765], [11.199646674262178, 46.89754638671877], [11.200353325737872, 46.89340888129343], [11.203813340928845, 46.889924452039956], [11.204519992404538, 46.8850755479601], [11.21248609754777, 46.877084011501765], [11.208686659071207, 46.87325778537329], [11.208333333333359, 46.85833333333336], [11.210543823242213, 46.85776604546444], [11.214456176757839, 46.85473395453562], [11.231377156575547, 46.85359937879777], [11.239456176757837, 46.846400621202285], [11.260543823242212, 46.845266045464435], [11.26458333333336, 46.84213528103301], [11.26875, 46.84536471896704], [11.272789510091172, 46.842233954535615], [11.323043823242214, 46.84109937879777], [11.331122843424506, 46.83390062120228], [11.343877156575548, 46.83276604546444], [11.347789510091172, 46.82973395453561], [11.35331590440541, 46.82831590440541], [11.354733954535616, 46.82278951009117], [11.357766045464437, 46.818877156575546], [11.358900621202284, 46.81445617675784], [11.36609937879777, 46.80637715657554], [11.366666666666694, 46.80416666666669], [11.365779283311658, 46.80070834689673], [11.356122843424506, 46.7994327121311], [11.35208333333336, 46.796301947699675], [11.347916666666693, 46.799531385633706], [11.343877156575548, 46.79640062120228], [11.339456176757839, 46.79526604546444], [11.335543823242213, 46.79223395453562], [11.321806165907145, 46.79101189507381], [11.31306728786895, 46.781377156575545], [11.311932712131103, 46.776956176757835], [11.304733954535617, 46.76887715657555], [11.30359937879777, 46.76445617675784], [11.30056728786895, 46.760543823242216], [11.299149237738742, 46.75501742892798], [11.293622843424505, 46.753599378797766], [11.289710489908881, 46.75056728786895], [11.279166666666693, 46.75], [11.278813340928846, 46.73924221462676], [11.27464667426218, 46.73504638671878], [11.275353325737873, 46.73090888129343], [11.283319430881102, 46.722917344835096], [11.27951999240454, 46.71909111870662], [11.278813340928846, 46.705908881293425], [11.275353325737873, 46.702424452039956], [11.275, 46.7], [11.274032253689262, 46.69622938368058], [11.267413330078151, 46.691099378797766], [11.260289510091171, 46.69223395453562], [11.25491333007815, 46.69640062120228], [11.251956176757838, 46.695266045464436], [11.248043823242213, 46.69223395453562], [11.239456176757837, 46.691099378797766], [11.235543823242214, 46.68806728786895], [11.218622843424505, 46.6869327121311], [11.21471048990888, 46.683900621202284], [11.197789510091171, 46.68276604546443], [11.193877156575546, 46.679733954535614], [11.184220716688394, 46.67845831976999], [11.182413736979193, 46.671416219075546], [11.173043823242214, 46.66306728786895], [11.168622843424505, 46.6619327121311], [11.159270562065997, 46.653599378797765], [11.154985215928845, 46.655143907335095], [11.154166666666692, 46.65833333333336], [11.15085076226131, 46.65918409559464], [11.15, 46.6625], [11.150353325737871, 46.66909111870662], [11.155876329210095, 46.67464192708336], [11.160757785373288, 46.67535332573787], [11.166668023003497, 46.68123406304256], [11.162853325737872, 46.685075547960096], [11.162146674262178, 46.68992445203995], [11.15451999240454, 46.69757554796009], [11.153813340928846, 46.702424452039956], [11.148290337456622, 46.70797526041669], [11.143408881293428, 46.708686659071205], [11.139924452039956, 46.71214667426218], [11.122575547960095, 46.712853325737875], [11.119091118706622, 46.71631334092884], [11.11424221462676, 46.71701999240454], [11.110757785373288, 46.72048000759551], [11.10174221462676, 46.72118665907121], [11.098257785373288, 46.724646674262175], [11.085075547960095, 46.72535332573787], [11.081591118706623, 46.728813340928845], [11.075, 46.72916666666669]]]}, \"reducer\": {\"process_graph\": {\"sum1\": {\"process_id\": \"sum\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}}, \"result\": true}}}}, \"result\": true}}}}\u003c/script\u003e\n    \u003c/openeo-model-builder\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"\u003copeneo.rest.vectorcube.VectorCube at 0x7f5824220cd0\u003e","content_type":"text/plain"}}},"children":[],"key":"MIOxpoNKkk"}],"visibility":"show","key":"XZddvSjNE5"}],"visibility":"show","key":"vP4qLd1n3l"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create batch job to start processing on the backend.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ik2Q1bk9eA"}],"key":"fzKlG6Wp2w"}],"key":"qSaOYFdlGW"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a batch job\nn_pixels_json = n_pixels.save_result(format=\"JSON\")\njob = n_pixels_json.create_job(title=\"n_pixels_json\")\njob.start_job()","visibility":"show","key":"f01vImZwdw"},{"type":"outputs","id":"HuP2Kl5m0RB4TaMknHWgV","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/html":{"content":"\n    \u003cscript\u003e\n    if (!window.customElements || !window.customElements.get('openeo-job')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    \u003c/script\u003e\n    \u003copeneo-job\u003e\n        \u003cscript type=\"application/json\"\u003e{\"currency\": \"credits\", \"job\": {\"created\": \"2025-06-10T12:10:00Z\", \"id\": \"vito-j-25061012100049f090d0c560ed8b62ff\", \"process\": {\"process_graph\": {\"adddimension1\": {\"arguments\": {\"data\": {\"from_node\": \"apply1\"}, \"label\": \"n_catchment\", \"name\": \"bands\", \"type\": \"bands\"}, \"process_id\": \"add_dimension\"}, \"adddimension2\": {\"arguments\": {\"data\": {\"from_node\": \"reducedimension2\"}, \"label\": \"n_cloud\", \"name\": \"bands\", \"type\": \"bands\"}, \"process_id\": \"add_dimension\"}, \"adddimension3\": {\"arguments\": {\"data\": {\"from_node\": \"apply2\"}, \"label\": \"n_snow\", \"name\": \"bands\", \"type\": \"bands\"}, \"process_id\": \"add_dimension\"}, \"aggregatespatial1\": {\"arguments\": {\"data\": {\"from_node\": \"mergecubes2\"}, \"geometries\": {\"coordinates\": [[[11.075, 46.72916666666669], [11.072575547960094, 46.728813340928845], [11.069091118706622, 46.72535332573787], [11.048285590277802, 46.724646674262175], [11.042024739583358, 46.73087632921009], [11.041666666666691, 46.733333333333356], [11.038123575846377, 46.73424241807728], [11.0375, 46.74583333333336], [11.03664923773874, 46.74914923773874], [11.030017428927975, 46.75085076226131], [11.028599378797768, 46.756377156575546], [11.025567287868947, 46.76028951009117], [11.0244327121311, 46.76471048990888], [11.02140062120228, 46.7686228434245], [11.020833333333357, 46.77083333333336], [11.024291653103322, 46.77172071668839], [11.025567287868947, 46.781377156575545], [11.032766045464435, 46.78945617675784], [11.033900621202282, 46.79387715657555], [11.036932712131101, 46.79778951009117], [11.038067287868948, 46.80221048990888], [11.042586263020858, 46.80762905544707], [11.052210489908878, 46.808900621202284], [11.06028951009117, 46.816099378797766], [11.06471048990888, 46.81723395453562], [11.068622843424503, 46.820266045464436], [11.073043823242212, 46.82140062120228], [11.077974107530407, 46.82522176106773], [11.079733954535614, 46.83010389539933], [11.071295166015648, 46.83957451714412], [11.0744327121311, 46.843622843424505], [11.075567287868948, 46.846579996744815], [11.071400621202281, 46.85195617675784], [11.070266045464434, 46.859321424696205], [11.082766045464435, 46.872789510091174], [11.084041680230058, 46.882445949978326], [11.089710489908878, 46.88390062120228], [11.09995964898006, 46.89319695366756], [11.096400621202282, 46.89778951009117], [11.095266045464435, 46.91343722873266], [11.103599378797767, 46.92278951009117], [11.104166666666691, 46.929166666666696], [11.114924452039954, 46.92951999240454], [11.11875, 46.9333187527127], [11.12328694661461, 46.92881334092885], [11.139924452039956, 46.92951999240454], [11.143408881293428, 46.93298000759551], [11.148288302951414, 46.933691067165825], [11.157980007595512, 46.94340888129343], [11.158691406250025, 46.948290337456626], [11.16424221462676, 46.953813340928846], [11.166666666666693, 46.954166666666694], [11.167024739583358, 46.95170966254343], [11.172575547960095, 46.94618665907121], [11.177424452039956, 46.94548000759551], [11.180908881293428, 46.94201999240454], [11.185757785373289, 46.94131334092884], [11.189242214626761, 46.937853325737876], [11.194123670789956, 46.93714192708336], [11.199646674262178, 46.93159111870662], [11.200353325737872, 46.9100755479601], [11.204519992404538, 46.90587972005211], [11.203813340928845, 46.901742214626765], [11.199646674262178, 46.89754638671877], [11.200353325737872, 46.89340888129343], [11.203813340928845, 46.889924452039956], [11.204519992404538, 46.8850755479601], [11.21248609754777, 46.877084011501765], [11.208686659071207, 46.87325778537329], [11.208333333333359, 46.85833333333336], [11.210543823242213, 46.85776604546444], [11.214456176757839, 46.85473395453562], [11.231377156575547, 46.85359937879777], [11.239456176757837, 46.846400621202285], [11.260543823242212, 46.845266045464435], [11.26458333333336, 46.84213528103301], [11.26875, 46.84536471896704], [11.272789510091172, 46.842233954535615], [11.323043823242214, 46.84109937879777], [11.331122843424506, 46.83390062120228], [11.343877156575548, 46.83276604546444], [11.347789510091172, 46.82973395453561], [11.35331590440541, 46.82831590440541], [11.354733954535616, 46.82278951009117], [11.357766045464437, 46.818877156575546], [11.358900621202284, 46.81445617675784], [11.36609937879777, 46.80637715657554], [11.366666666666694, 46.80416666666669], [11.365779283311658, 46.80070834689673], [11.356122843424506, 46.7994327121311], [11.35208333333336, 46.796301947699675], [11.347916666666693, 46.799531385633706], [11.343877156575548, 46.79640062120228], [11.339456176757839, 46.79526604546444], [11.335543823242213, 46.79223395453562], [11.321806165907145, 46.79101189507381], [11.31306728786895, 46.781377156575545], [11.311932712131103, 46.776956176757835], [11.304733954535617, 46.76887715657555], [11.30359937879777, 46.76445617675784], [11.30056728786895, 46.760543823242216], [11.299149237738742, 46.75501742892798], [11.293622843424505, 46.753599378797766], [11.289710489908881, 46.75056728786895], [11.279166666666693, 46.75], [11.278813340928846, 46.73924221462676], [11.27464667426218, 46.73504638671878], [11.275353325737873, 46.73090888129343], [11.283319430881102, 46.722917344835096], [11.27951999240454, 46.71909111870662], [11.278813340928846, 46.705908881293425], [11.275353325737873, 46.702424452039956], [11.275, 46.7], [11.274032253689262, 46.69622938368058], [11.267413330078151, 46.691099378797766], [11.260289510091171, 46.69223395453562], [11.25491333007815, 46.69640062120228], [11.251956176757838, 46.695266045464436], [11.248043823242213, 46.69223395453562], [11.239456176757837, 46.691099378797766], [11.235543823242214, 46.68806728786895], [11.218622843424505, 46.6869327121311], [11.21471048990888, 46.683900621202284], [11.197789510091171, 46.68276604546443], [11.193877156575546, 46.679733954535614], [11.184220716688394, 46.67845831976999], [11.182413736979193, 46.671416219075546], [11.173043823242214, 46.66306728786895], [11.168622843424505, 46.6619327121311], [11.159270562065997, 46.653599378797765], [11.154985215928845, 46.655143907335095], [11.154166666666692, 46.65833333333336], [11.15085076226131, 46.65918409559464], [11.15, 46.6625], [11.150353325737871, 46.66909111870662], [11.155876329210095, 46.67464192708336], [11.160757785373288, 46.67535332573787], [11.166668023003497, 46.68123406304256], [11.162853325737872, 46.685075547960096], [11.162146674262178, 46.68992445203995], [11.15451999240454, 46.69757554796009], [11.153813340928846, 46.702424452039956], [11.148290337456622, 46.70797526041669], [11.143408881293428, 46.708686659071205], [11.139924452039956, 46.71214667426218], [11.122575547960095, 46.712853325737875], [11.119091118706622, 46.71631334092884], [11.11424221462676, 46.71701999240454], [11.110757785373288, 46.72048000759551], [11.10174221462676, 46.72118665907121], [11.098257785373288, 46.724646674262175], [11.085075547960095, 46.72535332573787], [11.081591118706623, 46.728813340928845], [11.075, 46.72916666666669]]], \"type\": \"Polygon\"}, \"reducer\": {\"process_graph\": {\"sum1\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}}, \"process_id\": \"sum\", \"result\": true}}}}, \"process_id\": \"aggregate_spatial\"}, \"apply1\": {\"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"gt2\": {\"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": -1}, \"process_id\": \"gt\"}, \"multiply3\": {\"arguments\": {\"x\": {\"from_node\": \"gt2\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}}}}, \"process_id\": \"apply\"}, \"apply2\": {\"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"eq4\": {\"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": 1}, \"process_id\": \"eq\"}, \"multiply4\": {\"arguments\": {\"x\": {\"from_node\": \"eq4\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}}}}, \"process_id\": \"apply\"}, \"loadcollection1\": {\"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"process_id\": \"lte\", \"result\": true}}}}, \"spatial_extent\": {\"crs\": 4326, \"east\": 11.366666666666694, \"north\": 46.954166666666694, \"south\": 46.653599378797765, \"west\": 11.020833333333357}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}, \"process_id\": \"load_collection\"}, \"loadcollection2\": {\"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte2\": {\"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"process_id\": \"lte\", \"result\": true}}}}, \"spatial_extent\": {\"crs\": 4326, \"east\": 11.366666666666694, \"north\": 46.954166666666694, \"south\": 46.653599378797765, \"west\": 11.020833333333357}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}, \"process_id\": \"load_collection\"}, \"mask1\": {\"arguments\": {\"data\": {\"from_node\": \"reducedimension1\"}, \"mask\": {\"from_node\": \"reducedimension2\"}, \"replacement\": 2}, \"process_id\": \"mask\"}, \"mergecubes1\": {\"arguments\": {\"cube1\": {\"from_node\": \"adddimension1\"}, \"cube2\": {\"from_node\": \"adddimension2\"}}, \"process_id\": \"merge_cubes\"}, \"mergecubes2\": {\"arguments\": {\"cube1\": {\"from_node\": \"mergecubes1\"}, \"cube2\": {\"from_node\": \"adddimension3\"}}, \"process_id\": \"merge_cubes\"}, \"reducedimension1\": {\"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"add1\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}, \"process_id\": \"add\"}, \"arrayelement1\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}, \"process_id\": \"array_element\"}, \"arrayelement2\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}, \"process_id\": \"array_element\"}, \"divide1\": {\"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}, \"process_id\": \"divide\"}, \"gt1\": {\"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}, \"process_id\": \"gt\"}, \"multiply1\": {\"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}, \"subtract1\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}, \"process_id\": \"subtract\"}}}}, \"process_id\": \"reduce_dimension\"}, \"reducedimension2\": {\"arguments\": {\"data\": {\"from_node\": \"loadcollection2\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement3\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}, \"process_id\": \"array_element\"}, \"eq1\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 8}, \"process_id\": \"eq\"}, \"eq2\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 9}, \"process_id\": \"eq\"}, \"eq3\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 3}, \"process_id\": \"eq\"}, \"multiply2\": {\"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}, \"or1\": {\"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}, \"process_id\": \"or\"}, \"or2\": {\"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}, \"process_id\": \"or\"}}}}, \"process_id\": \"reduce_dimension\"}, \"saveresult1\": {\"arguments\": {\"data\": {\"from_node\": \"aggregatespatial1\"}, \"format\": \"JSON\", \"options\": {}}, \"process_id\": \"save_result\", \"result\": true}}}, \"progress\": 0, \"status\": \"created\", \"title\": \"n_pixels_json\", \"updated\": \"2025-06-10T12:10:00Z\"}}\u003c/script\u003e\n    \u003c/openeo-job\u003e\n    ","content_type":"text/html"},"text/plain":{"content":"\u003cBatchJob job_id='vito-j-25061012100049f090d0c560ed8b62ff'\u003e","content_type":"text/plain"}}},"children":[],"key":"yWBIux6YGn"}],"visibility":"show","key":"EiLaGgOhfn"}],"visibility":"show","key":"PIl6G7ZPDK"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"job.status()","visibility":"show","key":"CfPbfv7EOt"},{"type":"outputs","id":"yoiVtcWHlKA8ymnfGf3D-","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":29,"metadata":{},"data":{"text/plain":{"content":"'finished'","content_type":"text/plain"}}},"children":[],"key":"niVjAGOJpJ"}],"visibility":"show","key":"dtwMtNl10A"}],"visibility":"show","key":"IsfDsCtx7V"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"if job.status() == \"finished\":\n    results = job.get_results()\n    results.download_files(\"results_openeo_platform/\")","visibility":"show","key":"VWxWNf2oQG"},{"type":"outputs","id":"65F7H6eUr6-cirC8f6cD2","children":[],"visibility":"show","key":"GwW24BabOt"}],"visibility":"show","key":"Dwz4SzDVdq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the result. It contains the number of pixels in the catchment, clouds and snow.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RDYbamzxwP"}],"key":"hJ7SPKbgin"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can calculate the percentages of cloud and snow pixels in the catchment.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gJOudlnh46"}],"key":"CFOYjEnhqG"}],"key":"sNnM4uZF8v"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"with open(\"results_openeo_platform/timeseries.json\",\"r\") as file:\n    n_pixels_json = json.load(file)","visibility":"show","key":"Oc6bVp76ba"},{"type":"outputs","id":"5Dz4Zycp9X-OYdEsYxKdg","children":[],"visibility":"show","key":"XwHLekKwYi"}],"visibility":"show","key":"fVA1x90kCu"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# check the first 5 entries\nlist(n_pixels_json.items())[:3] # careful unsorted dates due to JSON format","visibility":"show","key":"DVkaMSnpTH"},{"type":"outputs","id":"pFctrnDyH7PkCv8e8niOl","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"[('2022-05-18T00:00:00Z', [[4201607, 2116387, 176298]]),\n ('2022-05-16T00:00:00Z', [[4201607, 3180590, 127431]]),\n ('2022-05-31T00:00:00Z', [[4201607, 3342522, 4679]])]","content_type":"text/plain"}}},"children":[],"key":"Xrw6eu6cte"}],"visibility":"show","key":"D6NdJQbUsG"}],"visibility":"show","key":"IyCBhcOHQc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a Pandas DataFrame to contain the values\ndates = [k for k in n_pixels_json]\nn_catchment_vals = [n_pixels_json[k][0][0] for k in n_pixels_json]\nn_cloud_vals = [n_pixels_json[k][0][1] for k in n_pixels_json]\nn_snow_vals = [n_pixels_json[k][0][2] for k in n_pixels_json]\n\ndata = {\n        \"time\":pd.to_datetime(dates),\n        \"n_catchment_vals\":n_catchment_vals,\n        \"n_cloud_vals\":n_cloud_vals,\n        \"n_snow_vals\":n_snow_vals\n       }\ndf = pd.DataFrame(data=data).set_index(\"time\")\n# Sort the values by date\ndf = df.sort_values(axis=0,by=\"time\")\ndf[:3]","visibility":"show","key":"lvGhXLrrxs"},{"type":"outputs","id":"y-gEh6sez6MsXyeCi_ZKG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003en_catchment_vals\u003c/th\u003e\n      \u003cth\u003en_cloud_vals\u003c/th\u003e\n      \u003cth\u003en_snow_vals\u003c/th\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003etime\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-05 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4201607\u003c/td\u003e\n      \u003ctd\u003e857590\u003c/td\u003e\n      \u003ctd\u003e2138314\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-07 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4166981\u003c/td\u003e\n      \u003ctd\u003e3974004\u003c/td\u003e\n      \u003ctd\u003e139642\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-10 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4201607\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e2456725\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                           n_catchment_vals  n_cloud_vals  n_snow_vals\ntime                                                                  \n2022-02-05 00:00:00+00:00           4201607        857590      2138314\n2022-02-07 00:00:00+00:00           4166981       3974004       139642\n2022-02-10 00:00:00+00:00           4201607             0      2456725","content_type":"text/plain"}}},"children":[],"key":"j0UwCsj1YZ"}],"visibility":"show","key":"R2KD0DHW8R"}],"visibility":"show","key":"USTL62V6yW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Divide the number of cloudy pixels by the number of total pixels = cloud percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rtBNuZv2C1"}],"key":"l9W5xTPOCg"}],"key":"lTeEwYGxvl"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"perc_cloud = df[\"n_cloud_vals\"].values / df[\"n_catchment_vals\"].values * 100\ndf[\"perc_cloud\"] = perc_cloud\ndf[:3]","visibility":"show","key":"c2PRE6jZnS"},{"type":"outputs","id":"sSiEdEgMt4y8FVwB7XH-J","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003en_catchment_vals\u003c/th\u003e\n      \u003cth\u003en_cloud_vals\u003c/th\u003e\n      \u003cth\u003en_snow_vals\u003c/th\u003e\n      \u003cth\u003eperc_cloud\u003c/th\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003etime\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-05 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4201607\u003c/td\u003e\n      \u003ctd\u003e857590\u003c/td\u003e\n      \u003ctd\u003e2138314\u003c/td\u003e\n      \u003ctd\u003e20.411000\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-07 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4166981\u003c/td\u003e\n      \u003ctd\u003e3974004\u003c/td\u003e\n      \u003ctd\u003e139642\u003c/td\u003e\n      \u003ctd\u003e95.368901\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-10 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4201607\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e2456725\u003c/td\u003e\n      \u003ctd\u003e0.000000\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                           n_catchment_vals  n_cloud_vals  n_snow_vals  \\\ntime                                                                     \n2022-02-05 00:00:00+00:00           4201607        857590      2138314   \n2022-02-07 00:00:00+00:00           4166981       3974004       139642   \n2022-02-10 00:00:00+00:00           4201607             0      2456725   \n\n                           perc_cloud  \ntime                                   \n2022-02-05 00:00:00+00:00   20.411000  \n2022-02-07 00:00:00+00:00   95.368901  \n2022-02-10 00:00:00+00:00    0.000000  ","content_type":"text/plain"}}},"children":[],"key":"vh2M9s04o1"}],"visibility":"show","key":"DjEGcXSihi"}],"visibility":"show","key":"zknmgTB88e"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the timeseries and the cloud threshold of 25%. If the cloud cover is higher the timestep will be excluded later on.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QGzzbaw8y5"}],"key":"NI3Mo7pzPu"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"WHmz5tDiy5"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"cloud percentage","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cycDdDoshc"}],"key":"rhYUCdwcCb"},{"type":"text","value":" with the threshold.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BqJ2N4NEFY"}],"key":"IUrkHsDGxU"}],"key":"IoV0auOYJe"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df.plot(y=\"perc_cloud\",rot=45,kind=\"line\",marker='o')\nplt.axhline(y = 25, color = \"r\", linestyle = \"-\")\nplt.show()","visibility":"show","key":"ImuZoDdrfM"},{"type":"outputs","id":"nGxT9EayvSH1Y6rJMLjqD","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"cdc1367607d51e9f17d861775c5832d8","path":"/cubes-and-clouds/build/cdc1367607d51e9f17d861775c5832d8.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"Cqf6FrkYuN"}],"visibility":"show","key":"TR88QKQJCl"}],"visibility":"show","key":"N2qmRfN76s"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Divide the number of snow pixels by the number of total pixels = snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TuD2Sb0XcC"}],"key":"zBSwudZyzS"}],"key":"IqBi7V40tN"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"perc_snow = df[\"n_snow_vals\"].values / df[\"n_catchment_vals\"].values * 100\ndf[\"perc_snow\"] = perc_snow\ndf[:3]","visibility":"show","key":"VX1l2fiO9C"},{"type":"outputs","id":"W_vIurxLbVs6blA7JebgR","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":36,"metadata":{},"data":{"text/html":{"content":"\u003cdiv\u003e\n\u003cstyle scoped\u003e\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n\u003c/style\u003e\n\u003ctable border=\"1\" class=\"dataframe\"\u003e\n  \u003cthead\u003e\n    \u003ctr style=\"text-align: right;\"\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003en_catchment_vals\u003c/th\u003e\n      \u003cth\u003en_cloud_vals\u003c/th\u003e\n      \u003cth\u003en_snow_vals\u003c/th\u003e\n      \u003cth\u003eperc_cloud\u003c/th\u003e\n      \u003cth\u003eperc_snow\u003c/th\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003etime\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n      \u003cth\u003e\u003c/th\u003e\n    \u003c/tr\u003e\n  \u003c/thead\u003e\n  \u003ctbody\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-05 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4201607\u003c/td\u003e\n      \u003ctd\u003e857590\u003c/td\u003e\n      \u003ctd\u003e2138314\u003c/td\u003e\n      \u003ctd\u003e20.411000\u003c/td\u003e\n      \u003ctd\u003e50.892766\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-07 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4166981\u003c/td\u003e\n      \u003ctd\u003e3974004\u003c/td\u003e\n      \u003ctd\u003e139642\u003c/td\u003e\n      \u003ctd\u003e95.368901\u003c/td\u003e\n      \u003ctd\u003e3.351155\u003c/td\u003e\n    \u003c/tr\u003e\n    \u003ctr\u003e\n      \u003cth\u003e2022-02-10 00:00:00+00:00\u003c/th\u003e\n      \u003ctd\u003e4201607\u003c/td\u003e\n      \u003ctd\u003e0\u003c/td\u003e\n      \u003ctd\u003e2456725\u003c/td\u003e\n      \u003ctd\u003e0.000000\u003c/td\u003e\n      \u003ctd\u003e58.471080\u003c/td\u003e\n    \u003c/tr\u003e\n  \u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e","content_type":"text/html"},"text/plain":{"content":"                           n_catchment_vals  n_cloud_vals  n_snow_vals  \\\ntime                                                                     \n2022-02-05 00:00:00+00:00           4201607        857590      2138314   \n2022-02-07 00:00:00+00:00           4166981       3974004       139642   \n2022-02-10 00:00:00+00:00           4201607             0      2456725   \n\n                           perc_cloud  perc_snow  \ntime                                              \n2022-02-05 00:00:00+00:00   20.411000  50.892766  \n2022-02-07 00:00:00+00:00   95.368901   3.351155  \n2022-02-10 00:00:00+00:00    0.000000  58.471080  ","content_type":"text/plain"}}},"children":[],"key":"wMW6qMjDF1"}],"visibility":"show","key":"Y8zKcXKIWR"}],"visibility":"show","key":"I5LHcmUcAX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NiBLU3nCgV"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"unfiltered snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"U3qQONHTYn"}],"key":"GMlLuMddNF"}],"key":"Y7Rv7mbolF"}],"key":"gPXSyj9H5q"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df.plot(y=\"perc_snow\",rot=45,kind=\"line\",marker='o')\nplt.show()","visibility":"show","key":"LaRHmpvORd"},{"type":"outputs","id":"1wf79Ztvu24znRQEqYKxW","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"be02a959b90f86cbaf12a0579f4739c7","path":"/cubes-and-clouds/build/be02a959b90f86cbaf12a0579f4739c7.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"J6T8q0MQ5H"}],"visibility":"show","key":"nCllmhvnfr"}],"visibility":"show","key":"axPzwVOpfk"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Keep only the dates with cloud coverage less than the threshold","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UsSV0OwWs8"}],"key":"wbU3u0HvBp"}],"key":"f56elteYrW"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df_filtered = df.loc[df[\"perc_cloud\"]\u003c25]","visibility":"show","key":"miUjibphUT"},{"type":"outputs","id":"WCnmPKnRbpeYrWNaZWfjM","children":[],"visibility":"show","key":"AfsB2maesT"}],"visibility":"show","key":"ueHb1kMVNP"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"v8f6rPtUxV"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"cloud filtered snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cGuVwHD2AS"}],"key":"zVAaDMnnSb"}],"key":"CRzZi1hoQl"}],"key":"O50j0gh381"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df_filtered.plot(y=\"perc_snow\",rot=45,kind=\"line\",marker='o')\nplt.show()","visibility":"show","key":"W3AbCCB8Bt"},{"type":"outputs","id":"PruAHwwJG4Kk9bVd6sgK-","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"af6cdb9321fcb9b3b393886a4453e64b","path":"/cubes-and-clouds/build/af6cdb9321fcb9b3b393886a4453e64b.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"ijiCFL7vre"}],"visibility":"show","key":"u4upJdmOrZ"}],"visibility":"show","key":"bgprzgFF4o"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Save the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"elxLCALe8r"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"cloud filtered snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JsgHYInnmf"}],"key":"pDktVkRjq9"}],"key":"bGuuwgUuxY"}],"visibility":"show","key":"WM9PEgMsfG"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df_filtered.to_csv(\"results_openeo_platform/filtered_snow_perc.csv\")","visibility":"show","key":"zGvFXOc7h4"},{"type":"outputs","id":"_kzk44hPQn59D56ptZVNm","children":[],"visibility":"show","key":"p4IO2f3pFR"}],"visibility":"show","key":"hWa6Rj8tm4"}],"key":"GMfqAdtbfw"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"3.1 Data Processing","url":"/lectures/data-processing/exercises/alternatives/data-processing-stac","group":"Process \u0026 Share"},"next":{"title":"Validation","url":"/lectures/validation/validation","group":"Process \u0026 Share"}}},"domain":"http://localhost:3000"},"project":{"subject":"Cubes and Clouds learning materials","title":"Cubes and Clouds Notebooks","description":"Collection of Cubes and Clouds learning notebooks","github":"https://github.com/EO-college/cubes-and-clouds","id":"7095e86f-a94c-4858-b97b-80694fdbcdf1","thumbnail":"/cubes-and-clouds/build/4e7b95cc5159f11ae65e2049a64650a6.svg","exports":[],"bibliography":[],"index":"readme","pages":[{"slug":"contributing","title":"How to contribute","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"contributors","title":"Contributors","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bee0df1dcfe29799901d54c333adae56.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"lectures.readme","title":"Lectures","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"title":"Setup","level":2},{"slug":"lectures.introduction.introduction","title":"Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/864d3fc75ed1a08ac2d4c8f21d9d6a63.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.introduction.exercises.login","title":"0. Introduction","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Concepts","level":2},{"slug":"lectures.intro-platform.intro-platform","title":"Earth Observation cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/b334c40d1c998a2fb3e79e903892672d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-cube.data-cube","title":"What is a data cube?","description":"","date":"","thumbnail":"/cubes-and-clouds/build/04b2802f47f308fa6a646bc15a8fe881.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceandfair","title":"Open Science and the FAIR Principles","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3c3f883a861697088c44018dfa0c01af.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.openscience.openscienceineo","title":"The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms","description":"","date":"","thumbnail":"/cubes-and-clouds/build/d4d5badaaff454a73f72620f2ac36c2e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.openscience.opendataopensource","title":"Open Data and Open Source Software","description":"","date":"","thumbnail":"/cubes-and-clouds/build/bff8617b237519f0cffd390773f82d2d.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Discovery and metadata","level":2},{"slug":"lectures.data-discovery.data-discovery","title":"Data Discovery","description":"","date":"","thumbnail":"/cubes-and-clouds/build/3f9ff18207bbea501aede31c88cde0e5.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-properties.data-properties","title":"Data Properties","description":"","date":"","thumbnail":"/cubes-and-clouds/build/stac_standartization-7fdd5441a500f71e7768c16c436630a4.jpg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Data access with OpenEO","level":2},{"slug":"lectures.data-access.data-access","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-2119b9c807d1f17cc7f470fa5aec644a.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.openeo.openeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data access with pangeo","level":2},{"slug":"lectures.data-access.data-access-1","title":"Access EO Data from the Cloud","description":"","date":"","thumbnail":"/cubes-and-clouds/build/dc_filter-2119b9c807d1f17cc7f470fa5aec644a.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-lazy-loading","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-reduce","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-filter","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-resample","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-aggregate","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-access.exercises.pangeo.pangeo-data-access-apply","title":"2.3 Data Access and Basic Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Data formats for achieving scalability","level":2},{"slug":"lectures.formats-and-performance.formats-and-performance","title":"Data Formats and Performance","description":"","date":"","thumbnail":"/cubes-and-clouds/build/96fdc48bce5685dcda930053ff412281.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"title":"Process \u0026 Share","level":2},{"slug":"lectures.data-processing.data-processing","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/fe97d8f264069b8e4340c6b6ddcdf54e.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-processing.exercises.data-processing-openeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.data-processing-pangeo","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-stac","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","title":"3.1 Data Processing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.validation.validation","title":"Validation","description":"","date":"","thumbnail":"/cubes-and-clouds/build/distribution_map-1d5768ecb07be2db128bbf9df8314e78.png","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.validation.exercises.validation-openeo","title":"3.2 Validation of the results with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.data-sharing","title":"3.3 Data Sharing","description":"","date":"","thumbnail":"/cubes-and-clouds/build/4066423c8fb88d808f30ad74224294b4.jpeg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.data-sharing.exercises.data-sharing-openeo","title":"3.3 Data Sharing with openEO","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.data-sharing.exercises.data-sharing-pangeo","title":"3.3 Data Sharing with Pangeo","description":"","date":"","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"title":"Additional materials","level":2},{"slug":"lectures.master-asi-conae.s2-sca","title":"Sentinel-2 snow cover area (SCA) time series","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":3},{"slug":"lectures.master-asi-conae.test.s1","title":"S1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.s2-snowcover-test","title":"Sentinel-2 snow cover","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.test-s1-s3","title":"Sentinel-1","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4},{"slug":"lectures.master-asi-conae.test.s3-ndsi","title":"List all the available dataset","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":4}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/cubes-and-clouds/build/manifest-7B0967AD.js";
import * as route0 from "/cubes-and-clouds/build/root-EDJFWIEV.js";
import * as route1 from "/cubes-and-clouds/build/routes/$-AD65NCUT.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/cubes-and-clouds/build/entry.client-PCJPW7TK.js");</script></body></html>