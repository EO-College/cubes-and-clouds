{"version":3,"kind":"Notebook","sha256":"56fa7338c4ff617df73084830971b28928fea464e4e95446b03e8b2e531cc320","slug":"lectures.data-processing.exercises.alternatives.data-processing-openeo-platform","location":"/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb","dependencies":[],"frontmatter":{"title":"3.1 Data Processing OpenEO Platform","content_includes_title":false,"kernelspec":{"name":"openeo","display_name":"OpenEO","language":"python"},"github":"https://github.com/EO-college/cubes-and-clouds","subject":"Cubes and Clouds learning materials","numbering":{"title":{"offset":3}},"source_url":"https://github.com/EO-college/cubes-and-clouds/blob/main/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb","edit_url":"https://github.com/EO-college/cubes-and-clouds/edit/main/lectures/3.1_data_processing/exercises/_alternatives/31_data_processing_openEO_Platform.ipynb","thumbnail":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","exports":[{"format":"ipynb","filename":"31_data_processing_openEO_Platform.ipynb","url":"/cubes-and-clouds/build/31_data_processing_o-5241a5f36d4c0e07ee550af91f9437ff.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","children":[{"type":"image","style":{"float":"center","marginRight":"10px","marginLeft":"10px","maxHeight":"250px"},"url":"/cubes-and-clouds/build/56b77b9fff7f39fece234cf0910cdb55.svg","alt":"Cubes & Clouds logo","key":"DyTon6l6ou","urlSource":"https://raw.githubusercontent.com/EO-College/cubes-and-clouds/main/icons/cnc_3icons_process_circle.svg"}],"key":"Y2ib2ciiWt"}],"key":"TwFhH4AXXO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px","maxHeight":"100px"},"url":"/cubes-and-clouds/build/7d92286654718ed077e8b148b8c89bdd.png","alt":"openEO logo","key":"urQAB9g0hw","urlSource":"https://openeo.org/images/openeo_logo.png"}],"key":"AEcJkP9Ivn"},{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Snow Cover mapping with openEO Platform","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PJMa0qVFj1"}],"identifier":"snow-cover-mapping-with-openeo-platform","label":"Snow Cover mapping with openEO Platform","html_id":"snow-cover-mapping-with-openeo-platform","implicit":true,"key":"uwqcrr11Mk"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"image","style":{"float":"center","marginRight":"10px","maxHeight":"100px"},"url":"/cubes-and-clouds/build/92d102b54c80489ce55057f3d8108d83.svg","alt":"openEO Platform logo","key":"EeyqQfrA7X","urlSource":"https://openeo.cloud/wp-content/themes/openeo_platform/images/logo-pages.svg"}],"key":"wmc7e5Fowj"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this exercise we will build a complete EO workflow on a cloud platform; from data access to obtaining the result. In this example we will analyse snow cover in the Alps.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"UjBy2QYvRz"}],"key":"BYbbUlx6Lv"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"We are going to follow these steps in our analysis:","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SZx4IGeRID"}],"key":"jud2obOTBO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":14,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Load satellite collections","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"FPvT6CtJu7"}],"key":"Yd3pI3anBB"}],"key":"YCs6LD8LBy"},{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Specify the spatial, temporal extents and the features we are interested in","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"zSuvherGLk"}],"key":"F6XRIc48K9"}],"key":"ZRY6T7QsNh"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Process the satellite data to retrieve snow cover information","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"BZCJo9vNr4"}],"key":"NT6hFTlLVE"}],"key":"eFajBkpVse"},{"type":"listItem","spread":true,"position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Aggregate information to get catchment statistics over time","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"Y9p7mvGNK7"}],"key":"NuCgl2kErb"}],"key":"AhWYv9XBJB"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Visualize and analyse the results","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"ec2YQEWGH5"}],"key":"wsXJtnAwTQ"}],"key":"uy8YISVlhb"}],"key":"CzLvA0sy5U"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"More information on the openEO Python Client: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"CMJLlkdfSC"},{"type":"link","url":"https://open-eo.github.io/openeo-python-client/index.html","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"https://​open​-eo​.github​.io​/openeo​-python​-client​/index​.html","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"kywmKb0IOg"}],"urlSource":"https://open-eo.github.io/openeo-python-client/index.html","key":"QBzk7AWbZq"}],"key":"YSAlJUPlHB"}],"key":"oz5gDGopBS"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Libraries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"taGEQ6wtbd"}],"identifier":"libraries","label":"Libraries","html_id":"libraries","implicit":true,"key":"ZH5k6eKHai"}],"visibility":"show","key":"RUfx4k8Sx1"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%capture\npip install openeo rioxarray geopandas leafmap h5netcdf netcdf4 fiona","visibility":"show","key":"VdQDyzCkG8"},{"type":"outputs","id":"q2rpAZxHuSMNPNCgbMceU","children":[],"visibility":"show","key":"q1BP989OiN"}],"visibility":"show","key":"qcBNr0DYik"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# platform libraries\nimport openeo\n\n# utility libraries\nfrom datetime import date\nimport numpy as np\nimport xarray as xr\nimport rioxarray\nimport json\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport leafmap.foliumap as leafmap","visibility":"show","key":"IiifPKtft5"},{"type":"outputs","id":"aWjSgU92jo_z_gOZ93REb","children":[],"visibility":"show","key":"rUaQ6cOukB"}],"visibility":"show","key":"D79bJDQ6mC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Login","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vAcLaA5hCZ"}],"identifier":"login","label":"Login","html_id":"login","implicit":true,"key":"uckTrP7ttc"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Connect to the copernicus dataspace ecosystem.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"EuovqCoBlq"}],"key":"clVKwF4PC7"}],"key":"x848Y9b8tZ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn = openeo.connect('https://openeo.cloud/')","visibility":"show","key":"bdrypY06CM"},{"type":"outputs","id":"TrBxywp1c9GbIwDZQwBgM","children":[],"visibility":"show","key":"F0zeoGdrNq"}],"visibility":"show","key":"Q8pr8MTtPS"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"And login","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KDVKLW0ANg"}],"key":"lwCEfNSf8r"}],"key":"zKZgAa0oXq"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.authenticate_oidc()","visibility":"show","key":"vfBsbJVvhm"},{"type":"outputs","id":"mMX56cytzOP7n3EECBJIn","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"Visit <a href=\"https://aai.egi.eu/device?user_code=AZQV-GRXD\" title=\"Authenticate at https://aai.egi.eu/device?user_code=AZQV-GRXD\" target=\"_blank\" rel=\"noopener noreferrer\">https://aai.egi.eu/device?user_code=AZQV-GRXD</a> <a href=\"#\" onclick=\"navigator.clipboard.writeText('https://aai.egi.eu/device?user_code=AZQV-GRXD');return false;\" title=\"Copy authentication URL to clipboard\">&#128203;</a> to authenticate.","content_type":"text/html"}}},"children":[],"key":"pWJkcUPOmp"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/html":{"content":"✅ Authorized successfully","content_type":"text/html"}}},"children":[],"key":"rCg7vBSZ0H"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Authenticated using device code flow.\n"},"children":[],"key":"yx4JpuQsJw"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/plain":{"content":"<Connection to 'https://openeocloud.vito.be/openeo/1.0.0/' with OidcBearerAuth>","content_type":"text/plain"}}},"children":[],"key":"h8LhfNbXiI"}],"visibility":"show","key":"ZUYUda27Jt"}],"visibility":"show","key":"rDcnrT44Di"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Check if the login worked.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jy63QG8CKM"}],"key":"a0uKNSmMFq"}],"key":"bkLlbzLRX1"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.describe_account()","visibility":"show","key":"vC8bTGka8a"},{"type":"outputs","id":"IwSvbriHqldQZfLa4KS8_","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"{'info': {'oidc_userinfo': {'eduperson_entitlement': ['urn:mace:egi.eu:group:vo.openeo.cloud:role=member#aai.egi.eu',\n    'urn:mace:egi.eu:group:vo.openeo.cloud:role=vm_operator#aai.egi.eu',\n    'urn:mace:egi.eu:res:ggus.eu',\n    'urn:mace:egi.eu:res:gocdb#aai.egi.eu',\n    'urn:mace:egi.eu:group:vo.openeo.cloud:role=employee#aai.egi.eu',\n    'urn:mace:egi.eu:group:dev.intertwin.eu:role=member#aai.egi.eu',\n    'urn:mace:egi.eu:group:vo.openeo.cloud:role=early_adopter#aai.egi.eu',\n    'urn:mace:egi.eu:res:rcauth#aai.egi.eu'],\n   'email': 'michele.claus@eurac.edu',\n   'email_verified': True,\n   'sub': '28860add33a3a705c0092d54ae94177752ba9fa4bf00a25b24864ea95b9e0025@egi.eu',\n   'voperson_verified_email': ['michele.claus@eurac.edu']}},\n 'name': 'michele.claus@eurac.edu',\n 'user_id': '28860add33a3a705c0092d54ae94177752ba9fa4bf00a25b24864ea95b9e0025@egi.eu'}","content_type":"text/plain"}}},"children":[],"key":"gQk3XxcFts"}],"visibility":"show","key":"yzVZ9bi4HS"}],"visibility":"show","key":"qGubfccyhJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Region of Interest","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DtvKEPPhQG"}],"identifier":"region-of-interest","label":"Region of Interest","html_id":"region-of-interest","implicit":true,"key":"lzEaJmtVCp"}],"key":"CY899Qeivx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the catchment area.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"raVBGLX40K"}],"key":"YhIRET5nN2"}],"key":"Ygv9shhL7i"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_outline = gpd.read_file('../31_data/catchment_outline.geojson')","visibility":"show","key":"RYDZ7XcWXR"},{"type":"outputs","id":"Pdli2ta9YmcSu49gisxN2","children":[],"visibility":"show","key":"Qv1rFuoKG1"}],"visibility":"show","key":"FogzZzaE9M"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"center = (float(catchment_outline.centroid.y), float(catchment_outline.centroid.x))\nm = leafmap.Map(center=center, zoom=10)\nm.add_vector('../31_data/catchment_outline.geojson', layer_name=\"catchment\")\nm","visibility":"show","key":"hyAd1l29dc"},{"type":"outputs","id":"gppyBRIMpEfQuaBDSM-Mt","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"libpoppler.so.140: cannot open shared object file: No such file or directory\nlibpoppler.so.140: cannot open shared object file: No such file or directory\nlibpoppler.so.140: cannot open shared object file: No such file or directory\nlibpoppler.so.140: cannot open shared object file: No such file or directory\n"},"children":[],"key":"LKQTgjoCHG"},{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/html":{"content":"<iframe srcdoc=\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    \n    &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/&gt;\n    \n            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,\n                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; /&gt;\n            &lt;style&gt;\n                #map_1571a3e1e5da6342c5d630e20404d416 {\n                    position: relative;\n                    width: 100.0%;\n                    height: 100.0%;\n                    left: 0.0%;\n                    top: 0.0%;\n                }\n                .leaflet-container { font-size: 1rem; }\n            &lt;/style&gt;\n\n            &lt;style&gt;html, body {\n                width: 100%;\n                height: 100%;\n                margin: 0;\n                padding: 0;\n            }\n            &lt;/style&gt;\n\n            &lt;style&gt;#map {\n                position:absolute;\n                top:0;\n                bottom:0;\n                right:0;\n                left:0;\n                }\n            &lt;/style&gt;\n\n            &lt;script&gt;\n                L_NO_TOUCH = false;\n                L_DISABLE_3D = false;\n            &lt;/script&gt;\n\n        \n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.min.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet.fullscreen@3.0.0/Control.FullScreen.css&quot;/&gt;\n    &lt;script src=&quot;https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js&quot;&gt;&lt;/script&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css&quot;/&gt;\n    \n                    &lt;style&gt;\n                        .foliumtooltip {\n                            \n                        }\n                       .foliumtooltip table{\n                            margin: auto;\n                        }\n                        .foliumtooltip tr{\n                            text-align: left;\n                        }\n                        .foliumtooltip th{\n                            padding: 2px; padding-right: 8px;\n                        }\n                    &lt;/style&gt;\n            \n&lt;/head&gt;\n&lt;body&gt;\n    \n    \n            &lt;div class=&quot;folium-map&quot; id=&quot;map_1571a3e1e5da6342c5d630e20404d416&quot; &gt;&lt;/div&gt;\n        \n&lt;/body&gt;\n&lt;script&gt;\n    \n    \n            var map_1571a3e1e5da6342c5d630e20404d416 = L.map(\n                &quot;map_1571a3e1e5da6342c5d630e20404d416&quot;,\n                {\n                    center: [46.79856263096177, 11.177346530561929],\n                    crs: L.CRS.EPSG3857,\n                    ...{\n  &quot;zoom&quot;: 10,\n  &quot;zoomControl&quot;: true,\n  &quot;preferCanvas&quot;: false,\n  &quot;drawExport&quot;: false,\n  &quot;layersControl&quot;: true,\n}\n\n                }\n            );\n            L.control.scale().addTo(map_1571a3e1e5da6342c5d630e20404d416);\n\n            \n\n        \n    \n            var tile_layer_f6187c6239208a86a5484e26dc9decc0 = L.tileLayer(\n                &quot;https://tile.openstreetmap.org/{z}/{x}/{y}.png&quot;,\n                {\n  &quot;minZoom&quot;: 0,\n  &quot;maxZoom&quot;: 24,\n  &quot;maxNativeZoom&quot;: 24,\n  &quot;noWrap&quot;: false,\n  &quot;attribution&quot;: &quot;\\u0026copy; \\u003ca href=\\&quot;https://www.openstreetmap.org/copyright\\&quot;\\u003eOpenStreetMap\\u003c/a\\u003e contributors&quot;,\n  &quot;subdomains&quot;: &quot;abc&quot;,\n  &quot;detectRetina&quot;: false,\n  &quot;tms&quot;: false,\n  &quot;opacity&quot;: 1,\n}\n\n            );\n        \n    \n            tile_layer_f6187c6239208a86a5484e26dc9decc0.addTo(map_1571a3e1e5da6342c5d630e20404d416);\n        \n    \n            L.control.fullscreen(\n                {\n  &quot;position&quot;: &quot;topleft&quot;,\n  &quot;title&quot;: &quot;Full Screen&quot;,\n  &quot;titleCancel&quot;: &quot;Exit Full Screen&quot;,\n  &quot;forceSeparateButton&quot;: false,\n}\n            ).addTo(map_1571a3e1e5da6342c5d630e20404d416);\n        \n    \n\n            var geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375 = {\n  &quot;collapsed&quot;: true,\n  &quot;position&quot;: &quot;topleft&quot;,\n  &quot;defaultMarkGeocode&quot;: true,\n  &quot;zoom&quot;: 11,\n  &quot;provider&quot;: &quot;nominatim&quot;,\n  &quot;providerOptions&quot;: {\n},\n};\n\n            // note: geocoder name should start with lowercase\n            var geocoderName_geocoder_dff680a4b9bbb218f1e830f686958375 = geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[&quot;provider&quot;];\n\n            var customGeocoder_geocoder_dff680a4b9bbb218f1e830f686958375 = L.Control.Geocoder[ geocoderName_geocoder_dff680a4b9bbb218f1e830f686958375 ](\n                geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[&#x27;providerOptions&#x27;]\n            );\n            geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[&quot;geocoder&quot;] = customGeocoder_geocoder_dff680a4b9bbb218f1e830f686958375;\n\n            L.Control.geocoder(\n                geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375\n            ).on(&#x27;markgeocode&#x27;, function(e) {\n                var zoom = geocoderOpts_geocoder_dff680a4b9bbb218f1e830f686958375[&#x27;zoom&#x27;] || map_1571a3e1e5da6342c5d630e20404d416.getZoom();\n                map_1571a3e1e5da6342c5d630e20404d416.setView(e.geocode.center, zoom);\n            }).addTo(map_1571a3e1e5da6342c5d630e20404d416);\n\n        \n    \n            map_1571a3e1e5da6342c5d630e20404d416.fitBounds(\n                [[46.79856263096177, 11.177346530561929], [46.79856263096177, 11.177346530561929]],\n                {&quot;maxZoom&quot;: 10}\n            );\n        \n    \n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_styler(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;color&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0, &quot;opacity&quot;: 1, &quot;weight&quot;: 2};\n            }\n        }\n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_highlighter(feature) {\n            switch(feature.id) {\n                default:\n                    return {&quot;fillOpacity&quot;: 0, &quot;weight&quot;: 4};\n            }\n        }\n\n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_onEachFeature(feature, layer) {\n\n            layer.on({\n                mouseout: function(e) {\n                    if(typeof e.target.setStyle === &quot;function&quot;){\n                            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391.resetStyle(e.target);\n                    }\n                },\n                mouseover: function(e) {\n                    if(typeof e.target.setStyle === &quot;function&quot;){\n                        const highlightStyle = geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_highlighter(e.target.feature)\n                        e.target.setStyle(highlightStyle);\n                    }\n                },\n            });\n        };\n        var geo_json_2f5a92bdc9c8d638b71f00cbbadcf391 = L.geoJson(null, {\n                onEachFeature: geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_onEachFeature,\n            \n                style: geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_styler,\n            ...{\n}\n        });\n\n        function geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_add (data) {\n            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391\n                .addData(data);\n        }\n            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391_add({&quot;bbox&quot;: [11.020833333333357, 46.653599378797765, 11.366666666666694, 46.954166666666694], &quot;features&quot;: [{&quot;bbox&quot;: [11.020833333333357, 46.653599378797765, 11.366666666666694, 46.954166666666694], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[11.075, 46.72916666666669], [11.072575547960094, 46.728813340928845], [11.069091118706622, 46.72535332573787], [11.048285590277802, 46.724646674262175], [11.042024739583358, 46.73087632921009], [11.041666666666691, 46.733333333333356], [11.038123575846377, 46.73424241807728], [11.0375, 46.74583333333336], [11.03664923773874, 46.74914923773874], [11.030017428927975, 46.75085076226131], [11.028599378797768, 46.756377156575546], [11.025567287868947, 46.76028951009117], [11.0244327121311, 46.76471048990888], [11.02140062120228, 46.7686228434245], [11.020833333333357, 46.77083333333336], [11.024291653103322, 46.77172071668839], [11.025567287868947, 46.781377156575545], [11.032766045464435, 46.78945617675784], [11.033900621202282, 46.79387715657555], [11.036932712131101, 46.79778951009117], [11.038067287868948, 46.80221048990888], [11.042586263020858, 46.80762905544707], [11.052210489908878, 46.808900621202284], [11.06028951009117, 46.816099378797766], [11.06471048990888, 46.81723395453562], [11.068622843424503, 46.820266045464436], [11.073043823242212, 46.82140062120228], [11.077974107530407, 46.82522176106773], [11.079733954535614, 46.83010389539933], [11.071295166015648, 46.83957451714412], [11.0744327121311, 46.843622843424505], [11.075567287868948, 46.846579996744815], [11.071400621202281, 46.85195617675784], [11.070266045464434, 46.859321424696205], [11.082766045464435, 46.872789510091174], [11.084041680230058, 46.882445949978326], [11.089710489908878, 46.88390062120228], [11.09995964898006, 46.89319695366756], [11.096400621202282, 46.89778951009117], [11.095266045464435, 46.91343722873266], [11.103599378797767, 46.92278951009117], [11.104166666666691, 46.929166666666696], [11.114924452039954, 46.92951999240454], [11.11875, 46.9333187527127], [11.12328694661461, 46.92881334092885], [11.139924452039956, 46.92951999240454], [11.143408881293428, 46.93298000759551], [11.148288302951414, 46.933691067165825], [11.157980007595512, 46.94340888129343], [11.158691406250025, 46.948290337456626], [11.16424221462676, 46.953813340928846], [11.166666666666693, 46.954166666666694], [11.167024739583358, 46.95170966254343], [11.172575547960095, 46.94618665907121], [11.177424452039956, 46.94548000759551], [11.180908881293428, 46.94201999240454], [11.185757785373289, 46.94131334092884], [11.189242214626761, 46.937853325737876], [11.194123670789956, 46.93714192708336], [11.199646674262178, 46.93159111870662], [11.200353325737872, 46.9100755479601], [11.204519992404538, 46.90587972005211], [11.203813340928845, 46.901742214626765], [11.199646674262178, 46.89754638671877], [11.200353325737872, 46.89340888129343], [11.203813340928845, 46.889924452039956], [11.204519992404538, 46.8850755479601], [11.21248609754777, 46.877084011501765], [11.208686659071207, 46.87325778537329], [11.208333333333359, 46.85833333333336], [11.210543823242213, 46.85776604546444], [11.214456176757839, 46.85473395453562], [11.231377156575547, 46.85359937879777], [11.239456176757837, 46.846400621202285], [11.260543823242212, 46.845266045464435], [11.26458333333336, 46.84213528103301], [11.26875, 46.84536471896704], [11.272789510091172, 46.842233954535615], [11.323043823242214, 46.84109937879777], [11.331122843424506, 46.83390062120228], [11.343877156575548, 46.83276604546444], [11.347789510091172, 46.82973395453561], [11.35331590440541, 46.82831590440541], [11.354733954535616, 46.82278951009117], [11.357766045464437, 46.818877156575546], [11.358900621202284, 46.81445617675784], [11.36609937879777, 46.80637715657554], [11.366666666666694, 46.80416666666669], [11.365779283311658, 46.80070834689673], [11.356122843424506, 46.7994327121311], [11.35208333333336, 46.796301947699675], [11.347916666666693, 46.799531385633706], [11.343877156575548, 46.79640062120228], [11.339456176757839, 46.79526604546444], [11.335543823242213, 46.79223395453562], [11.321806165907145, 46.79101189507381], [11.31306728786895, 46.781377156575545], [11.311932712131103, 46.776956176757835], [11.304733954535617, 46.76887715657555], [11.30359937879777, 46.76445617675784], [11.30056728786895, 46.760543823242216], [11.299149237738742, 46.75501742892798], [11.293622843424505, 46.753599378797766], [11.289710489908881, 46.75056728786895], [11.279166666666693, 46.75], [11.278813340928846, 46.73924221462676], [11.27464667426218, 46.73504638671878], [11.275353325737873, 46.73090888129343], [11.283319430881102, 46.722917344835096], [11.27951999240454, 46.71909111870662], [11.278813340928846, 46.705908881293425], [11.275353325737873, 46.702424452039956], [11.275, 46.7], [11.274032253689262, 46.69622938368058], [11.267413330078151, 46.691099378797766], [11.260289510091171, 46.69223395453562], [11.25491333007815, 46.69640062120228], [11.251956176757838, 46.695266045464436], [11.248043823242213, 46.69223395453562], [11.239456176757837, 46.691099378797766], [11.235543823242214, 46.68806728786895], [11.218622843424505, 46.6869327121311], [11.21471048990888, 46.683900621202284], [11.197789510091171, 46.68276604546443], [11.193877156575546, 46.679733954535614], [11.184220716688394, 46.67845831976999], [11.182413736979193, 46.671416219075546], [11.173043823242214, 46.66306728786895], [11.168622843424505, 46.6619327121311], [11.159270562065997, 46.653599378797765], [11.154985215928845, 46.655143907335095], [11.154166666666692, 46.65833333333336], [11.15085076226131, 46.65918409559464], [11.15, 46.6625], [11.150353325737871, 46.66909111870662], [11.155876329210095, 46.67464192708336], [11.160757785373288, 46.67535332573787], [11.166668023003497, 46.68123406304256], [11.162853325737872, 46.685075547960096], [11.162146674262178, 46.68992445203995], [11.15451999240454, 46.69757554796009], [11.153813340928846, 46.702424452039956], [11.148290337456622, 46.70797526041669], [11.143408881293428, 46.708686659071205], [11.139924452039956, 46.71214667426218], [11.122575547960095, 46.712853325737875], [11.119091118706622, 46.71631334092884], [11.11424221462676, 46.71701999240454], [11.110757785373288, 46.72048000759551], [11.10174221462676, 46.72118665907121], [11.098257785373288, 46.724646674262175], [11.085075547960095, 46.72535332573787], [11.081591118706623, 46.728813340928845], [11.075, 46.72916666666669]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;COAST&quot;: 0, &quot;DIST_MAIN&quot;: 334.5, &quot;DIST_SINK&quot;: 334.5, &quot;ENDO&quot;: 0, &quot;HYBAS_ID&quot;: 2090516090, &quot;MAIN_BAS&quot;: 2090012980, &quot;NEXT_DOWN&quot;: 2090516950, &quot;NEXT_SINK&quot;: 2090012980, &quot;ORDER&quot;: 3, &quot;PFAF_ID&quot;: 214040804, &quot;SORT&quot;: 10988, &quot;SUB_AREA&quot;: 419.1, &quot;UP_AREA&quot;: 419.2}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});\n\n        \n    \n    geo_json_2f5a92bdc9c8d638b71f00cbbadcf391.bindTooltip(\n    function(layer){\n    let div = L.DomUtil.create(&#x27;div&#x27;);\n    \n    let handleObject = feature =&gt; {\n        if (feature === null) {\n            return &#x27;&#x27;;\n        } else if (typeof(feature)==&#x27;object&#x27;) {\n            return JSON.stringify(feature);\n        } else {\n            return feature;\n        }\n    }\n    let fields = [&quot;HYBAS_ID&quot;, &quot;NEXT_DOWN&quot;, &quot;NEXT_SINK&quot;, &quot;MAIN_BAS&quot;, &quot;DIST_SINK&quot;, &quot;DIST_MAIN&quot;, &quot;SUB_AREA&quot;, &quot;UP_AREA&quot;, &quot;PFAF_ID&quot;, &quot;ENDO&quot;, &quot;COAST&quot;, &quot;ORDER&quot;, &quot;SORT&quot;];\n    let aliases = [&quot;HYBAS_ID&quot;, &quot;NEXT_DOWN&quot;, &quot;NEXT_SINK&quot;, &quot;MAIN_BAS&quot;, &quot;DIST_SINK&quot;, &quot;DIST_MAIN&quot;, &quot;SUB_AREA&quot;, &quot;UP_AREA&quot;, &quot;PFAF_ID&quot;, &quot;ENDO&quot;, &quot;COAST&quot;, &quot;ORDER&quot;, &quot;SORT&quot;];\n    let table = &#x27;&lt;table&gt;&#x27; +\n        String(\n        fields.map(\n        (v,i)=&gt;\n        `&lt;tr&gt;\n            &lt;th&gt;${aliases[i]}&lt;/th&gt;\n            \n            &lt;td&gt;${handleObject(layer.feature.properties[v])}&lt;/td&gt;\n        &lt;/tr&gt;`).join(&#x27;&#x27;))\n    +&#x27;&lt;/table&gt;&#x27;;\n    div.innerHTML=table;\n    \n    return div\n    }\n    ,{\n  &quot;sticky&quot;: true,\n  &quot;className&quot;: &quot;foliumtooltip&quot;,\n});\n                     \n    \n            geo_json_2f5a92bdc9c8d638b71f00cbbadcf391.addTo(map_1571a3e1e5da6342c5d630e20404d416);\n        \n    \n            map_1571a3e1e5da6342c5d630e20404d416.fitBounds(\n                [[46.653599378797765, 11.020833333333357], [46.954166666666694, 11.366666666666694]],\n                {}\n            );\n        \n    \n            var layer_control_7b74684099edefb3d805479d016dafd7_layers = {\n                base_layers : {\n                    &quot;openstreetmap&quot; : tile_layer_f6187c6239208a86a5484e26dc9decc0,\n                },\n                overlays :  {\n                    &quot;catchment&quot; : geo_json_2f5a92bdc9c8d638b71f00cbbadcf391,\n                },\n            };\n            let layer_control_7b74684099edefb3d805479d016dafd7 = L.control.layers(\n                layer_control_7b74684099edefb3d805479d016dafd7_layers.base_layers,\n                layer_control_7b74684099edefb3d805479d016dafd7_layers.overlays,\n                {\n  &quot;position&quot;: &quot;topright&quot;,\n  &quot;collapsed&quot;: true,\n  &quot;autoZIndex&quot;: true,\n}\n            ).addTo(map_1571a3e1e5da6342c5d630e20404d416);\n\n        \n&lt;/script&gt;\n&lt;/html&gt;\" width=\"100%\" height=\"600\"style=\"border:none !important;\" \"allowfullscreen\" \"webkitallowfullscreen\" \"mozallowfullscreen\"></iframe>","content_type":"text/html"},"text/plain":{"content":"<leafmap.foliumap.Map at 0x7f583cb70c50>","content_type":"text/plain"}}},"children":[],"key":"r7s3y2ibcs"}],"visibility":"show","key":"jgtyrrmu8q"}],"visibility":"show","key":"VHYtOWPo7G"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Inspect Metadata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ddRqCc8qzV"}],"identifier":"inspect-metadata","label":"Inspect Metadata","html_id":"inspect-metadata","implicit":true,"key":"WvvocJVpQw"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We need to set the following configurations to define the content of the data cube we want to access:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Tl86cfyD0n"}],"key":"sBdVXD5bia"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"dataset name","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pYWCqdMxBt"}],"key":"mmDhI3cYem"}],"key":"YOcQHK4vwo"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"band names","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"qtPXmrCS7a"}],"key":"xo58KvbN8U"}],"key":"CyUGvfHckV"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"time range","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"GuUcB0YmpS"}],"key":"SufW6zDdHW"}],"key":"zHQnMLRDQ2"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"the area of interest specifed via bounding box coordinates","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"zHuNI2nEVv"}],"key":"xl0zsePR91"}],"key":"p2BpbRl7mL"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"spatial resolution","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"DUzfvhvgVe"}],"key":"MWPYZrmRQI"}],"key":"fOT6KNhtf7"}],"key":"dZoot2AEoE"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"To select the correct dataset we can first list all the available datasets.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SJegaRUuGX"}],"key":"EsjgDPJJWS"}],"key":"QtDhjFKM3h"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.list_collections()","visibility":"show","key":"doissmMPF6"},{"type":"outputs","id":"1gs6Nh97cIPbzpXUNZd0Q","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"7ef9c16b4f9c1481b322f138f9bbbddb","path":"/cubes-and-clouds/build/7ef9c16b4f9c1481b322f138f9bbbddb.html"},"text/plain":{"content_type":"text/plain","hash":"7fc383766c7a4c4eb1e62a67a779b829","path":"/cubes-and-clouds/build/7fc383766c7a4c4eb1e62a67a779b829.txt"}}},"children":[],"key":"ZqZmStE4Rs"}],"visibility":"show","key":"tkGxKEphue"}],"visibility":"show","key":"o666mIZhmL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We want to use the Sentinel-2 L2A product. It’s name is ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EO9c8ObUC8"},{"type":"inlineCode","value":"'SENTINEL2_L2A'","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"scXCthTXGV"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vXcfGWXxG2"}],"key":"DvkyzMZY2E"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We get the metadata for this collection as follows.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KnAkvFnU7X"}],"key":"b8pMitYd1l"}],"key":"dMCSVBSArS"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"conn.describe_collection(\"SENTINEL2_L2A\")","visibility":"show","key":"vMTCcl9Oj6"},{"type":"outputs","id":"bdslUmQEafUiA1lJN2Wob","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-collection')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-collection>\n        <script type=\"application/json\">{\"mapOptions\": {}, \"data\": {\"cube:dimensions\": {\"bands\": {\"type\": \"bands\", \"values\": [\"B01\", \"B02\", \"B03\", \"B04\", \"B05\", \"B06\", \"B07\", \"B08\", \"B8A\", \"B09\", \"B11\", \"B12\", \"AOT\", \"SCL\", \"SNW\", \"CLD\", \"CLP\", \"CLM\", \"sunAzimuthAngles\", \"sunZenithAngles\", \"viewAzimuthMean\", \"viewZenithMean\", \"dataMask\", \"relativeAzimuthAngles\", \"viewZenithAngles\"]}, \"t\": {\"extent\": [\"2015-07-06T00:00:00Z\", null], \"type\": \"temporal\"}, \"x\": {\"axis\": \"x\", \"extent\": [-180, 180], \"reference_system\": {\"$schema\": \"https://proj.org/schemas/v0.2/projjson.schema.json\", \"area\": \"World\", \"bbox\": {\"east_longitude\": 180, \"north_latitude\": 90, \"south_latitude\": -90, \"west_longitude\": -180}, \"coordinate_system\": {\"axis\": [{\"abbreviation\": \"Lat\", \"direction\": \"north\", \"name\": \"Geodetic latitude\", \"unit\": \"degree\"}, {\"abbreviation\": \"Lon\", \"direction\": \"east\", \"name\": \"Geodetic longitude\", \"unit\": \"degree\"}], \"subtype\": \"ellipsoidal\"}, \"datum\": {\"ellipsoid\": {\"inverse_flattening\": 298.257223563, \"name\": \"WGS 84\", \"semi_major_axis\": 6378137}, \"name\": \"World Geodetic System 1984\", \"type\": \"GeodeticReferenceFrame\"}, \"id\": {\"authority\": \"OGC\", \"code\": \"Auto42001\", \"version\": \"1.3\"}, \"name\": \"AUTO 42001 (Universal Transverse Mercator)\", \"type\": \"GeodeticCRS\"}, \"step\": 10, \"type\": \"spatial\"}, \"y\": {\"axis\": \"y\", \"extent\": [-56, 83], \"reference_system\": {\"$schema\": \"https://proj.org/schemas/v0.2/projjson.schema.json\", \"area\": \"World\", \"bbox\": {\"east_longitude\": 180, \"north_latitude\": 90, \"south_latitude\": -90, \"west_longitude\": -180}, \"coordinate_system\": {\"axis\": [{\"abbreviation\": \"Lat\", \"direction\": \"north\", \"name\": \"Geodetic latitude\", \"unit\": \"degree\"}, {\"abbreviation\": \"Lon\", \"direction\": \"east\", \"name\": \"Geodetic longitude\", \"unit\": \"degree\"}], \"subtype\": \"ellipsoidal\"}, \"datum\": {\"ellipsoid\": {\"inverse_flattening\": 298.257223563, \"name\": \"WGS 84\", \"semi_major_axis\": 6378137}, \"name\": \"World Geodetic System 1984\", \"type\": \"GeodeticReferenceFrame\"}, \"id\": {\"authority\": \"OGC\", \"code\": \"Auto42001\", \"version\": \"1.3\"}, \"name\": \"AUTO 42001 (Universal Transverse Mercator)\", \"type\": \"GeodeticCRS\"}, \"step\": 10, \"type\": \"spatial\"}}, \"description\": \"[Sentinel-2 Level 2A](https://docs.terrascope.be/#/DataProducts/Sentinel-2/Level2A/Level2A) product, processed from L1C by Sen2Cor. \\n Use the [Terrascope viewer](https://viewer.terrascope.be/?language=nl&bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045&overlay=false&bgLayer=MapBox&date=2019-02-25T03:17:15.000Z&layer=CGS_S2_RADIOMETRY) to explore the data. \\n\\n \", \"extent\": {\"spatial\": {\"bbox\": [[-180, -56, 180, 83], [-180, -56, 180, 83]]}, \"temporal\": {\"interval\": [[\"2015-07-06T00:00:00Z\", null], [\"2016-11-01T00:00:00Z\", null]]}}, \"id\": \"SENTINEL2_L2A\", \"keywords\": [\"VITO\", \"TERRASCOPE\", \"COPERNICUS\", \"ESA\", \"Orthoimagery\", \"Sentinel-2\", \"MSI\", \"Level-2A\", \"Radiometry\", \"Plant Resource\", \"TOC\"], \"license\": \"proprietary\", \"links\": [{\"href\": \"https://sentinel.esa.int/documents/247904/690755/Sentinel_Data_Legal_Notice\", \"rel\": \"license\"}, {\"href\": \"https://services.terrascope.be/catalogue/description?collection=urn:eop:VITO:TERRASCOPE_S2_TOC_V2\", \"rel\": \"alternate\"}, {\"href\": \"https://viewer.terrascope.be/?language=nl&bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045&overlay=false&bgLayer=MapBox&date=2019-02-25T03:17:15.000Z&layer=CGS_S2_RADIOMETRY\", \"rel\": \"alternate\"}, {\"href\": \"https://services.terrascope.be/wmts/v2\", \"rel\": \"wmts\", \"wmts:layer\": \"CGS_S2_RADIOMETRY\"}, {\"href\": \"https://services.sentinel-hub.com/ogc/wmts/7d34803f-511c-4caf-9438-6d72f32c8174\", \"rel\": \"wmts\", \"wmts:dimensions\": {\"warnings\": true}, \"wmts:layer\": \"TRUE-COLOR\"}, {\"href\": \"https://docs.sentinel-hub.com/api/latest/api/process/\", \"rel\": \"about\", \"title\": \"Details about running Evalscripts\", \"type\": \"text/html\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/true_color/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"True Color\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate True Color imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/false_color_infrared/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"False color\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate False color imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/swir-rgb/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"SWIR\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate Short Wave Infrared (SWIR) RGB Composite\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/false-color-urban-rgb/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"False Color Urban\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate False Color Urban imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndvi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDVI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDVI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndmi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDMI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDMI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndwi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDWI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDWI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/ndsi/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"NDSI\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"NEAREST\", \"title\": \"Evalscript to generate NDSI imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://custom-scripts.sentinel-hub.com/sentinel-2/scene-classification/script.js\", \"rel\": \"processing-expression\", \"sentinelhub:layer_name\": \"Scene Classification\", \"sentinelhub:mosaicking_order\": \"mostRecent\", \"sentinelhub:upsampling\": \"BICUBIC\", \"title\": \"Evalscript to generate Scene Classification imagery\", \"type\": \"application/javascript\"}, {\"href\": \"https://sentinels.copernicus.eu/documents/247904/690755/Sentinel_Data_Legal_Notice\", \"rel\": \"license\", \"title\": \"License\", \"type\": \"application/pdf\"}, {\"href\": \"./sentinel-2-l2a\", \"rel\": \"about\", \"title\": \"Website describing the collection\", \"type\": \"text/html\"}, {\"href\": \"https://openeocloud.vito.be/openeo/1.0.0/collections\", \"rel\": \"root\"}, {\"href\": \"https://openeocloud.vito.be/openeo/1.0.0/collections\", \"rel\": \"parent\"}, {\"href\": \"https://openeocloud.vito.be/openeo/1.0.0/collections/SENTINEL2_L2A\", \"rel\": \"self\"}], \"providers\": [{\"name\": \"VITO, on behalf of the Belgian Science Policy Office (BELSPO).\", \"roles\": [\"producer\", \"licensor\"], \"url\": \"https://terrascope.be\"}, {\"description\": \"Europe since November 2016, Global since January 2017\", \"name\": \"Sentinel Hub\", \"roles\": [\"processor\"], \"url\": \"https://services.sentinel-hub.com\"}], \"stac_extensions\": [\"https://stac-extensions.github.io/datacube/v2.2.0/schema.json\", \"https://stac-extensions.github.io/eo/v1.1.0/schema.json\"], \"stac_version\": \"0.9.0\", \"summaries\": {\"bands\": [{\"eo:common_name\": \"coastal aerosol\", \"name\": \"B01\"}, {\"eo:center_wavelength\": 0.4966, \"eo:common_name\": \"blue\", \"name\": \"B02\"}, {\"eo:center_wavelength\": 0.56, \"eo:common_name\": \"green\", \"name\": \"B03\"}, {\"eo:center_wavelength\": 0.6645, \"eo:common_name\": \"red\", \"name\": \"B04\"}, {\"eo:common_name\": \"rededge\", \"name\": \"B05\"}, {\"eo:common_name\": \"rededge\", \"name\": \"B06\"}, {\"eo:common_name\": \"rededge\", \"name\": \"B07\"}, {\"eo:center_wavelength\": 0.8351, \"eo:common_name\": \"nir\", \"name\": \"B08\"}, {\"name\": \"B8A\"}, {\"eo:center_wavelength\": 0.9451, \"eo:common_name\": \"nir09\", \"name\": \"B09\"}, {\"eo:common_name\": \"swir\", \"name\": \"B11\"}, {\"eo:common_name\": \"swir\", \"name\": \"B12\"}, {\"name\": \"AOT\"}, {\"name\": \"SCL\"}, {\"name\": \"SNW\"}, {\"name\": \"CLD\"}, {\"name\": \"CLP\"}, {\"name\": \"CLM\"}, {\"name\": \"sunAzimuthAngles\"}, {\"name\": \"sunZenithAngles\"}, {\"name\": \"viewAzimuthMean\"}, {\"name\": \"viewZenithMean\"}, {\"name\": \"dataMask\"}, {\"name\": \"relativeAzimuthAngles\"}, {\"name\": \"viewZenithAngles\"}], \"constellation\": [\"Sentinel-2\"], \"eo:bands\": [{\"aliases\": [\"TOC-B01_60M\"], \"common_name\": \"coastal aerosol\", \"gsd\": 60, \"name\": \"B01\", \"type\": \"int16\", \"wavelength_nm\": 442.7}, {\"aliases\": [\"TOC-B02_10M\"], \"center_wavelength\": 0.4966, \"common_name\": \"blue\", \"gsd\": 10, \"name\": \"B02\", \"type\": \"int16\", \"wavelength_nm\": 496.6}, {\"aliases\": [\"TOC-B03_10M\"], \"center_wavelength\": 0.56, \"common_name\": \"green\", \"gsd\": 10, \"name\": \"B03\", \"type\": \"int16\", \"wavelength_nm\": 560}, {\"aliases\": [\"TOC-B04_10M\"], \"center_wavelength\": 0.6645, \"common_name\": \"red\", \"gsd\": 10, \"name\": \"B04\", \"type\": \"int16\", \"wavelength_nm\": 664.5}, {\"aliases\": [\"TOC-B05_20M\"], \"common_name\": \"rededge\", \"gsd\": 20, \"name\": \"B05\", \"type\": \"int16\", \"wavelength_nm\": 704.1}, {\"aliases\": [\"TOC-B06_20M\"], \"common_name\": \"rededge\", \"gsd\": 20, \"name\": \"B06\", \"type\": \"int16\", \"wavelength_nm\": 740.5}, {\"aliases\": [\"TOC-B07_20M\"], \"common_name\": \"rededge\", \"gsd\": 20, \"name\": \"B07\", \"type\": \"int16\", \"wavelength_nm\": 782.8}, {\"aliases\": [\"TOC-B08_10M\"], \"center_wavelength\": 0.8351, \"common_name\": \"nir\", \"gsd\": 10, \"name\": \"B08\", \"type\": \"int16\", \"wavelength_nm\": 835.1}, {\"aliases\": [\"TOC-B8A_20M\"], \"gsd\": 20, \"name\": \"B8A\", \"type\": \"int16\", \"wavelength_nm\": 864.7}, {\"center_wavelength\": 0.9451, \"common_name\": \"nir09\", \"data_type\": \"uint16\", \"full_width_half_max\": 0.02, \"name\": \"B09\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [60, 60]}, \"statistics\": {\"maximum\": [4000], \"minimum\": [0]}}, {\"aliases\": [\"TOC-B11_20M\"], \"common_name\": \"swir\", \"gsd\": 20, \"name\": \"B11\", \"type\": \"int16\", \"wavelength_nm\": 1613.7}, {\"aliases\": [\"TOC-B12_20M\"], \"common_name\": \"swir\", \"gsd\": 20, \"name\": \"B12\", \"type\": \"int16\", \"wavelength_nm\": 2202.4}, {\"data_type\": \"float32\", \"description\": \"Aerosol Optical Thickness map, based on Sen2Cor processor\", \"name\": \"AOT\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [10, 10]}, \"statistics\": {\"maximum\": [0.6], \"minimum\": [0]}}, {\"aliases\": [\"SCENECLASSIFICATION_20M\"], \"gsd\": 20, \"name\": \"SCL\"}, {\"data_type\": \"uint8\", \"description\": \"Snow probability, based on Sen2Cor processor\", \"name\": \"SNW\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [20, 20]}, \"statistics\": {\"maximum\": [100], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"Cloud probability, based on Sen2Cor processor\", \"name\": \"CLD\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [20, 20]}, \"statistics\": {\"maximum\": [100], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"Cloud probability, based on s2cloudless\", \"name\": \"CLP\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [160, 160]}, \"statistics\": {\"maximum\": [255], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"Cloud masks\", \"name\": \"CLM\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [160, 160]}, \"statistics\": [0, 1, 255]}, {\"data_type\": \"float32\", \"description\": \"Sun azimuth angle\", \"name\": \"sunAzimuthAngles\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [5000, 5000]}, \"statistics\": {\"maximum\": [200], \"minimum\": [30]}}, {\"aliases\": [\"SZA_60M\"], \"gsd\": 60, \"name\": \"sunZenithAngles\"}, {\"data_type\": \"float32\", \"description\": \"Viewing azimuth angle\", \"name\": \"viewAzimuthMean\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [5000, 5000]}, \"statistics\": {\"maximum\": [300], \"minimum\": [90]}}, {\"data_type\": \"float32\", \"description\": \"Viewing zenith angle\", \"name\": \"viewZenithMean\", \"openeo:gsd\": {\"unit\": \"m\", \"value\": [5000, 5000]}, \"statistics\": {\"maximum\": [12], \"minimum\": [0]}}, {\"data_type\": \"uint8\", \"description\": \"The mask of data/no data pixels.\", \"name\": \"dataMask\", \"statistics\": {\"maximum\": [1], \"minimum\": [0]}}, {\"aliases\": [\"RAA_60M\"], \"gsd\": 60, \"name\": \"relativeAzimuthAngles\"}, {\"aliases\": [\"VZA_60M\", \"viewZenithApproximate\"], \"gsd\": 60, \"name\": \"viewZenithAngles\"}], \"eo:cloud_cover\": {\"maximum\": 100, \"minimum\": 0}, \"eo:gsd\": [10, 20, 60], \"federation:backends\": [\"vito\"], \"instruments\": [\"MSI\"], \"platform\": [\"Sentinel-2A\", \"Sentinel-2B\"], \"raster:bands\": [{\"name\": \"B01\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B02\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B03\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B04\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B05\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B06\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B07\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B08\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B8A\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B11\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"B12\", \"offset\": 0, \"scale\": 0.0001, \"unit\": \"1\"}, {\"name\": \"SCL\"}, {\"name\": \"relativeAzimuthAngles\"}, {\"name\": \"sunZenithAngles\"}, {\"name\": \"viewZenithAngles\"}]}, \"title\": \"Sentinel-2 top of canopy last 2 years over Europe + selected areas, by Terrascope.\"}}</script>\n    </openeo-collection>\n    ","content_type":"text/html"},"text/plain":{"content":"{'cube:dimensions': {'bands': {'type': 'bands',\n   'values': ['B01',\n    'B02',\n    'B03',\n    'B04',\n    'B05',\n    'B06',\n    'B07',\n    'B08',\n    'B8A',\n    'B09',\n    'B11',\n    'B12',\n    'AOT',\n    'SCL',\n    'SNW',\n    'CLD',\n    'CLP',\n    'CLM',\n    'sunAzimuthAngles',\n    'sunZenithAngles',\n    'viewAzimuthMean',\n    'viewZenithMean',\n    'dataMask',\n    'relativeAzimuthAngles',\n    'viewZenithAngles']},\n  't': {'extent': ['2015-07-06T00:00:00Z', None], 'type': 'temporal'},\n  'x': {'axis': 'x',\n   'extent': [-180, 180],\n   'reference_system': {'$schema': 'https://proj.org/schemas/v0.2/projjson.schema.json',\n    'area': 'World',\n    'bbox': {'east_longitude': 180,\n     'north_latitude': 90,\n     'south_latitude': -90,\n     'west_longitude': -180},\n    'coordinate_system': {'axis': [{'abbreviation': 'Lat',\n       'direction': 'north',\n       'name': 'Geodetic latitude',\n       'unit': 'degree'},\n      {'abbreviation': 'Lon',\n       'direction': 'east',\n       'name': 'Geodetic longitude',\n       'unit': 'degree'}],\n     'subtype': 'ellipsoidal'},\n    'datum': {'ellipsoid': {'inverse_flattening': 298.257223563,\n      'name': 'WGS 84',\n      'semi_major_axis': 6378137},\n     'name': 'World Geodetic System 1984',\n     'type': 'GeodeticReferenceFrame'},\n    'id': {'authority': 'OGC', 'code': 'Auto42001', 'version': '1.3'},\n    'name': 'AUTO 42001 (Universal Transverse Mercator)',\n    'type': 'GeodeticCRS'},\n   'step': 10,\n   'type': 'spatial'},\n  'y': {'axis': 'y',\n   'extent': [-56, 83],\n   'reference_system': {'$schema': 'https://proj.org/schemas/v0.2/projjson.schema.json',\n    'area': 'World',\n    'bbox': {'east_longitude': 180,\n     'north_latitude': 90,\n     'south_latitude': -90,\n     'west_longitude': -180},\n    'coordinate_system': {'axis': [{'abbreviation': 'Lat',\n       'direction': 'north',\n       'name': 'Geodetic latitude',\n       'unit': 'degree'},\n      {'abbreviation': 'Lon',\n       'direction': 'east',\n       'name': 'Geodetic longitude',\n       'unit': 'degree'}],\n     'subtype': 'ellipsoidal'},\n    'datum': {'ellipsoid': {'inverse_flattening': 298.257223563,\n      'name': 'WGS 84',\n      'semi_major_axis': 6378137},\n     'name': 'World Geodetic System 1984',\n     'type': 'GeodeticReferenceFrame'},\n    'id': {'authority': 'OGC', 'code': 'Auto42001', 'version': '1.3'},\n    'name': 'AUTO 42001 (Universal Transverse Mercator)',\n    'type': 'GeodeticCRS'},\n   'step': 10,\n   'type': 'spatial'}},\n 'description': '[Sentinel-2 Level 2A](https://docs.terrascope.be/#/DataProducts/Sentinel-2/Level2A/Level2A) product, processed from L1C by Sen2Cor. \\n Use the [Terrascope viewer](https://viewer.terrascope.be/?language=nl&bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045&overlay=false&bgLayer=MapBox&date=2019-02-25T03:17:15.000Z&layer=CGS_S2_RADIOMETRY) to explore the data. \\n\\n ',\n 'extent': {'spatial': {'bbox': [[-180, -56, 180, 83], [-180, -56, 180, 83]]},\n  'temporal': {'interval': [['2015-07-06T00:00:00Z', None],\n    ['2016-11-01T00:00:00Z', None]]}},\n 'id': 'SENTINEL2_L2A',\n 'keywords': ['VITO',\n  'TERRASCOPE',\n  'COPERNICUS',\n  'ESA',\n  'Orthoimagery',\n  'Sentinel-2',\n  'MSI',\n  'Level-2A',\n  'Radiometry',\n  'Plant Resource',\n  'TOC'],\n 'license': 'proprietary',\n 'links': [{'href': 'https://sentinel.esa.int/documents/247904/690755/Sentinel_Data_Legal_Notice',\n   'rel': 'license'},\n  {'href': 'https://services.terrascope.be/catalogue/description?collection=urn:eop:VITO:TERRASCOPE_S2_TOC_V2',\n   'rel': 'alternate'},\n  {'href': 'https://viewer.terrascope.be/?language=nl&bbox=0.9339867511378304,50.14520994379217,6.207424251137831,51.77292299745045&overlay=false&bgLayer=MapBox&date=2019-02-25T03:17:15.000Z&layer=CGS_S2_RADIOMETRY',\n   'rel': 'alternate'},\n  {'href': 'https://services.terrascope.be/wmts/v2',\n   'rel': 'wmts',\n   'wmts:layer': 'CGS_S2_RADIOMETRY'},\n  {'href': 'https://services.sentinel-hub.com/ogc/wmts/7d34803f-511c-4caf-9438-6d72f32c8174',\n   'rel': 'wmts',\n   'wmts:dimensions': {'warnings': True},\n   'wmts:layer': 'TRUE-COLOR'},\n  {'href': 'https://docs.sentinel-hub.com/api/latest/api/process/',\n   'rel': 'about',\n   'title': 'Details about running Evalscripts',\n   'type': 'text/html'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/true_color/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'True Color',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate True Color imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/false_color_infrared/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'False color',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate False color imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/swir-rgb/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'SWIR',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate Short Wave Infrared (SWIR) RGB Composite',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/false-color-urban-rgb/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'False Color Urban',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate False Color Urban imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndvi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDVI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDVI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndmi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDMI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDMI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndwi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDWI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDWI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/ndsi/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'NDSI',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'NEAREST',\n   'title': 'Evalscript to generate NDSI imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://custom-scripts.sentinel-hub.com/sentinel-2/scene-classification/script.js',\n   'rel': 'processing-expression',\n   'sentinelhub:layer_name': 'Scene Classification',\n   'sentinelhub:mosaicking_order': 'mostRecent',\n   'sentinelhub:upsampling': 'BICUBIC',\n   'title': 'Evalscript to generate Scene Classification imagery',\n   'type': 'application/javascript'},\n  {'href': 'https://sentinels.copernicus.eu/documents/247904/690755/Sentinel_Data_Legal_Notice',\n   'rel': 'license',\n   'title': 'License',\n   'type': 'application/pdf'},\n  {'href': './sentinel-2-l2a',\n   'rel': 'about',\n   'title': 'Website describing the collection',\n   'type': 'text/html'},\n  {'href': 'https://openeocloud.vito.be/openeo/1.0.0/collections',\n   'rel': 'root'},\n  {'href': 'https://openeocloud.vito.be/openeo/1.0.0/collections',\n   'rel': 'parent'},\n  {'href': 'https://openeocloud.vito.be/openeo/1.0.0/collections/SENTINEL2_L2A',\n   'rel': 'self'}],\n 'providers': [{'name': 'VITO, on behalf of the Belgian Science Policy Office (BELSPO).',\n   'roles': ['producer', 'licensor'],\n   'url': 'https://terrascope.be'},\n  {'description': 'Europe since November 2016, Global since January 2017',\n   'name': 'Sentinel Hub',\n   'roles': ['processor'],\n   'url': 'https://services.sentinel-hub.com'}],\n 'stac_extensions': ['https://stac-extensions.github.io/datacube/v2.2.0/schema.json',\n  'https://stac-extensions.github.io/eo/v1.1.0/schema.json'],\n 'stac_version': '0.9.0',\n 'summaries': {'bands': [{'eo:common_name': 'coastal aerosol', 'name': 'B01'},\n   {'eo:center_wavelength': 0.4966, 'eo:common_name': 'blue', 'name': 'B02'},\n   {'eo:center_wavelength': 0.56, 'eo:common_name': 'green', 'name': 'B03'},\n   {'eo:center_wavelength': 0.6645, 'eo:common_name': 'red', 'name': 'B04'},\n   {'eo:common_name': 'rededge', 'name': 'B05'},\n   {'eo:common_name': 'rededge', 'name': 'B06'},\n   {'eo:common_name': 'rededge', 'name': 'B07'},\n   {'eo:center_wavelength': 0.8351, 'eo:common_name': 'nir', 'name': 'B08'},\n   {'name': 'B8A'},\n   {'eo:center_wavelength': 0.9451, 'eo:common_name': 'nir09', 'name': 'B09'},\n   {'eo:common_name': 'swir', 'name': 'B11'},\n   {'eo:common_name': 'swir', 'name': 'B12'},\n   {'name': 'AOT'},\n   {'name': 'SCL'},\n   {'name': 'SNW'},\n   {'name': 'CLD'},\n   {'name': 'CLP'},\n   {'name': 'CLM'},\n   {'name': 'sunAzimuthAngles'},\n   {'name': 'sunZenithAngles'},\n   {'name': 'viewAzimuthMean'},\n   {'name': 'viewZenithMean'},\n   {'name': 'dataMask'},\n   {'name': 'relativeAzimuthAngles'},\n   {'name': 'viewZenithAngles'}],\n  'constellation': ['Sentinel-2'],\n  'eo:bands': [{'aliases': ['TOC-B01_60M'],\n    'common_name': 'coastal aerosol',\n    'gsd': 60,\n    'name': 'B01',\n    'type': 'int16',\n    'wavelength_nm': 442.7},\n   {'aliases': ['TOC-B02_10M'],\n    'center_wavelength': 0.4966,\n    'common_name': 'blue',\n    'gsd': 10,\n    'name': 'B02',\n    'type': 'int16',\n    'wavelength_nm': 496.6},\n   {'aliases': ['TOC-B03_10M'],\n    'center_wavelength': 0.56,\n    'common_name': 'green',\n    'gsd': 10,\n    'name': 'B03',\n    'type': 'int16',\n    'wavelength_nm': 560},\n   {'aliases': ['TOC-B04_10M'],\n    'center_wavelength': 0.6645,\n    'common_name': 'red',\n    'gsd': 10,\n    'name': 'B04',\n    'type': 'int16',\n    'wavelength_nm': 664.5},\n   {'aliases': ['TOC-B05_20M'],\n    'common_name': 'rededge',\n    'gsd': 20,\n    'name': 'B05',\n    'type': 'int16',\n    'wavelength_nm': 704.1},\n   {'aliases': ['TOC-B06_20M'],\n    'common_name': 'rededge',\n    'gsd': 20,\n    'name': 'B06',\n    'type': 'int16',\n    'wavelength_nm': 740.5},\n   {'aliases': ['TOC-B07_20M'],\n    'common_name': 'rededge',\n    'gsd': 20,\n    'name': 'B07',\n    'type': 'int16',\n    'wavelength_nm': 782.8},\n   {'aliases': ['TOC-B08_10M'],\n    'center_wavelength': 0.8351,\n    'common_name': 'nir',\n    'gsd': 10,\n    'name': 'B08',\n    'type': 'int16',\n    'wavelength_nm': 835.1},\n   {'aliases': ['TOC-B8A_20M'],\n    'gsd': 20,\n    'name': 'B8A',\n    'type': 'int16',\n    'wavelength_nm': 864.7},\n   {'center_wavelength': 0.9451,\n    'common_name': 'nir09',\n    'data_type': 'uint16',\n    'full_width_half_max': 0.02,\n    'name': 'B09',\n    'openeo:gsd': {'unit': 'm', 'value': [60, 60]},\n    'statistics': {'maximum': [4000], 'minimum': [0]}},\n   {'aliases': ['TOC-B11_20M'],\n    'common_name': 'swir',\n    'gsd': 20,\n    'name': 'B11',\n    'type': 'int16',\n    'wavelength_nm': 1613.7},\n   {'aliases': ['TOC-B12_20M'],\n    'common_name': 'swir',\n    'gsd': 20,\n    'name': 'B12',\n    'type': 'int16',\n    'wavelength_nm': 2202.4},\n   {'data_type': 'float32',\n    'description': 'Aerosol Optical Thickness map, based on Sen2Cor processor',\n    'name': 'AOT',\n    'openeo:gsd': {'unit': 'm', 'value': [10, 10]},\n    'statistics': {'maximum': [0.6], 'minimum': [0]}},\n   {'aliases': ['SCENECLASSIFICATION_20M'], 'gsd': 20, 'name': 'SCL'},\n   {'data_type': 'uint8',\n    'description': 'Snow probability, based on Sen2Cor processor',\n    'name': 'SNW',\n    'openeo:gsd': {'unit': 'm', 'value': [20, 20]},\n    'statistics': {'maximum': [100], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'Cloud probability, based on Sen2Cor processor',\n    'name': 'CLD',\n    'openeo:gsd': {'unit': 'm', 'value': [20, 20]},\n    'statistics': {'maximum': [100], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'Cloud probability, based on s2cloudless',\n    'name': 'CLP',\n    'openeo:gsd': {'unit': 'm', 'value': [160, 160]},\n    'statistics': {'maximum': [255], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'Cloud masks',\n    'name': 'CLM',\n    'openeo:gsd': {'unit': 'm', 'value': [160, 160]},\n    'statistics': [0, 1, 255]},\n   {'data_type': 'float32',\n    'description': 'Sun azimuth angle',\n    'name': 'sunAzimuthAngles',\n    'openeo:gsd': {'unit': 'm', 'value': [5000, 5000]},\n    'statistics': {'maximum': [200], 'minimum': [30]}},\n   {'aliases': ['SZA_60M'], 'gsd': 60, 'name': 'sunZenithAngles'},\n   {'data_type': 'float32',\n    'description': 'Viewing azimuth angle',\n    'name': 'viewAzimuthMean',\n    'openeo:gsd': {'unit': 'm', 'value': [5000, 5000]},\n    'statistics': {'maximum': [300], 'minimum': [90]}},\n   {'data_type': 'float32',\n    'description': 'Viewing zenith angle',\n    'name': 'viewZenithMean',\n    'openeo:gsd': {'unit': 'm', 'value': [5000, 5000]},\n    'statistics': {'maximum': [12], 'minimum': [0]}},\n   {'data_type': 'uint8',\n    'description': 'The mask of data/no data pixels.',\n    'name': 'dataMask',\n    'statistics': {'maximum': [1], 'minimum': [0]}},\n   {'aliases': ['RAA_60M'], 'gsd': 60, 'name': 'relativeAzimuthAngles'},\n   {'aliases': ['VZA_60M', 'viewZenithApproximate'],\n    'gsd': 60,\n    'name': 'viewZenithAngles'}],\n  'eo:cloud_cover': {'maximum': 100, 'minimum': 0},\n  'eo:gsd': [10, 20, 60],\n  'federation:backends': ['vito'],\n  'instruments': ['MSI'],\n  'platform': ['Sentinel-2A', 'Sentinel-2B'],\n  'raster:bands': [{'name': 'B01', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B02', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B03', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B04', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B05', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B06', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B07', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B08', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B8A', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B11', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'B12', 'offset': 0, 'scale': 0.0001, 'unit': '1'},\n   {'name': 'SCL'},\n   {'name': 'relativeAzimuthAngles'},\n   {'name': 'sunZenithAngles'},\n   {'name': 'viewZenithAngles'}]},\n 'title': 'Sentinel-2 top of canopy last 2 years over Europe + selected areas, by Terrascope.'}","content_type":"text/plain"}}},"children":[],"key":"yCNygQCoIo"}],"visibility":"show","key":"KREpSw9AB1"}],"visibility":"show","key":"pM5JthNZXC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define a workflow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hfdAi048E5"}],"identifier":"define-a-workflow","label":"Define a workflow","html_id":"define-a-workflow","implicit":true,"key":"V8GO7HQJgn"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will define our workflow now. And chain all the processes together we need for analyzing the snow cover in the catchment.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"Ui3y2cccZP"}],"key":"t2uJhk0e3a"}],"key":"b1aBgjB6Wt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define the data cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"weXvuHs2DG"}],"identifier":"define-the-data-cube","label":"Define the data cube","html_id":"define-the-data-cube","implicit":true,"key":"bdiHyy1UM1"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We define all extents of our data cube. We use the catchment as spatial extent. As a time range we will focus on the snow melting season 2018, in particular from Febraury to June 2018.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MVHkfzVdF5"}],"key":"Y058kdCIxl"}],"key":"oUfTzbYA9j"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"bbox = catchment_outline.bounds.iloc[0]\nbbox","visibility":"show","key":"XH1pbpvpjo"},{"type":"outputs","id":"ixsskhXuYoCgjHLtuVSpD","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"minx    11.020833\nminy    46.653599\nmaxx    11.366667\nmaxy    46.954167\nName: 0, dtype: float64","content_type":"text/plain"}}},"children":[],"key":"gYTPJfOBEE"}],"visibility":"show","key":"m8MQ2IdGn8"}],"visibility":"show","key":"mannG7Cls7"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from openeo.processes import lte\ncollection      = 'SENTINEL2_L2A'\nspatial_extent  = {'west':bbox[0],'east':bbox[2],'south':bbox[1],'north':bbox[3],'crs':4326}\ntemporal_extent = [\"2022-02-01\", \"2022-06-30\"]\nbands           = ['B03', 'B11']\nproperties={\"eo:cloud_cover\": lambda x: lte(x, 90)}","visibility":"show","key":"poL7QNFjRq"},{"type":"outputs","id":"6rXH5bRq761A27JGJXk7E","children":[],"visibility":"show","key":"M8znmpo18w"}],"visibility":"show","key":"klTpVSa34b"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the data cube","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D11CLowegx"}],"identifier":"load-the-data-cube","label":"Load the data cube","html_id":"load-the-data-cube","implicit":true,"key":"SNweb5CvBW"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We have defined the extents we are interested in. Now we use these definitions to load the data cube.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"axUy3eU1on"}],"key":"eoYVqhtZPm"}],"visibility":"show","key":"WdkeLNiN22"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"s2 = conn.load_collection(collection,\n                          spatial_extent=spatial_extent,\n                          bands=bands,\n                          temporal_extent=temporal_extent,\n                          properties=properties)","visibility":"show","key":"HPgwoGlSUB"},{"type":"outputs","id":"T_A_kayg4lTWbyGV0sXBH","children":[],"visibility":"show","key":"zwBiheDppg"}],"visibility":"show","key":"Vb6Km1WD2Z"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"NDSI - Normalized Difference Snow Index","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TZRWhMTDvO"}],"identifier":"ndsi-normalized-difference-snow-index","label":"NDSI - Normalized Difference Snow Index","html_id":"ndsi-normalized-difference-snow-index","implicit":true,"key":"nwfll4dGA4"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The Normalized Difference Snow Index (NDSI) is computed as:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"iXDNI41c8u"}],"key":"i8KjCYz7pX"},{"type":"math","value":"NDSI = \\frac {GREEN - SWIR} {GREEN +SWIR}","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>N</mi><mi>D</mi><mi>S</mi><mi>I</mi><mo>=</mo><mfrac><mrow><mi>G</mi><mi>R</mi><mi>E</mi><mi>E</mi><mi>N</mi><mo>−</mo><mi>S</mi><mi>W</mi><mi>I</mi><mi>R</mi></mrow><mrow><mi>G</mi><mi>R</mi><mi>E</mi><mi>E</mi><mi>N</mi><mo>+</mo><mi>S</mi><mi>W</mi><mi>I</mi><mi>R</mi></mrow></mfrac></mrow><annotation encoding=\"application/x-tex\">NDSI = \\frac {GREEN - SWIR} {GREEN +SWIR}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.1297em;vertical-align:-0.7693em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">GREEN</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.10903em;\">GREEN</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05764em;\">S</span><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">W</span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">I</span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7693em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>","enumerator":"1","key":"AV6Wfhlwzn"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"We have created a Sentinel-2 data cube with bands B03 (green), B11 (SWIR) and the cloud mask (CLM). We will use the green and SWIR band to calculate a the NDSI. This process is reducing the band dimension of the data cube to generate new information, the NDSI.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"w6FlCmECvL"}],"key":"pINIf9VhlB"}],"key":"bxXUozBl2P"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"green = s2.band(\"B03\")\nswir = s2.band(\"B11\")\nndsi = (green - swir) / (green + swir)\nndsi","visibility":"show","key":"k3OIF8aIi6"},{"type":"outputs","id":"Cd_qUTCEYUUDMODYxbA8-","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-model-builder>\n        <script type=\"application/json\">{\"id\": \"7fc5b0a2f86048eabfc225a54aa21b67\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}, \"result\": true}}}}, \"result\": true}}}}</script>\n    </openeo-model-builder>\n    ","content_type":"text/html"},"text/plain":{"content":"<openeo.rest.datacube.DataCube at 0x7f5824304ad0>","content_type":"text/plain"}}},"children":[],"key":"MZWVGmpiNB"}],"visibility":"show","key":"WKiugQugZB"}],"visibility":"show","key":"SUayU6CphZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating the Snow Map","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"muYvAP8opP"}],"identifier":"creating-the-snow-map","label":"Creating the Snow Map","html_id":"creating-the-snow-map","implicit":true,"key":"tlnbgJZTE3"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"So far we have a timeseries of NDSI values. We are intereseted in the presence of snow though. Ideally in a binary classification: snow and no snow.\nTo achieve this we are setting a threshold of 0.42 on the NDSI. This gives us a binary snow map.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"B5MvRHItMV"}],"key":"HetB4cTu5F"}],"key":"QPbpwviEnA"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap = ( ndsi > 0.42 ) * 1.0\nsnowmap","visibility":"show","key":"hsBA6AZMcj"},{"type":"outputs","id":"XUJqM-1u6nBVozw_M09tp","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-model-builder>\n        <script type=\"application/json\">{\"id\": \"c91a49164ac44e7f807a0d16853ee936\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}}, \"gt1\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1.0}, \"result\": true}}}}, \"result\": true}}}}</script>\n    </openeo-model-builder>\n    ","content_type":"text/html"},"text/plain":{"content":"<openeo.rest.datacube.DataCube at 0x7f5826b858d0>","content_type":"text/plain"}}},"children":[],"key":"ppWmqKvyNr"}],"visibility":"show","key":"CZcD2kKry1"}],"visibility":"show","key":"XR5p3PjnAP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Creating a cloud mask","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ffvksrRM11"}],"identifier":"creating-a-cloud-mask","label":"Creating a cloud mask","html_id":"creating-a-cloud-mask","implicit":true,"key":"HaBqXiXiLd"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are going to use “SCL” band for creating a cloud mask and then applying it to the NDSI.\n","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RqcQzkZKDS"},{"type":"inlineCode","value":"8 = cloud medium probability","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"vu8A10uYG3"},{"type":"text","value":", ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"z6zATc6t9s"},{"type":"inlineCode","value":"9 = cloud high probability","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"FaOzbwheqq"},{"type":"text","value":", ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"V8ckW8ZjMd"},{"type":"inlineCode","value":"3 = cloud shadow","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"xTMQ9qV8xy"}],"key":"F1nSh8x8ui"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Here is more information on the Scene Classification ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"xiUOH5ffz4"},{"type":"link","url":"https://sentinels.copernicus.eu/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm-overview","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"https://​sentinels​.copernicus​.eu​/web​/sentinel​/technical​-guides​/sentinel​-2​-msi​/level​-2a​/algorithm​-overview","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"jLRVVmHhrD"}],"urlSource":"https://sentinels.copernicus.eu/web/sentinel/technical-guides/sentinel-2-msi/level-2a/algorithm-overview","key":"zfcoA52l5T"}],"key":"qwObQeb9e7"},{"type":"table","position":{"start":{"line":7,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zdtHX8cAS1"}],"key":"IEbihzvNOq"},{"type":"tableCell","header":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Label","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"gbeUp36pQl"}],"key":"vQ7OmKR9Oa"}],"key":"bOSDHhPzuW"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"b3YlkSnLFD"}],"key":"af7rNuP1kH"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"NO_DATA","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rJzTKBeE7k"}],"key":"HNIFnposT9"}],"key":"R0jmXx5NeO"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"1","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"kkfA3mftF1"}],"key":"jRa2eTmDKI"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"SATURATED_OR_DEFECTIVE","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"cuvHBGHBkP"}],"key":"uwMox73eN7"}],"key":"a3AmEV1LSC"},{"type":"tableRow","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"pEcDUmQc6E"}],"key":"rXC31Vgtqd"},{"type":"tableCell","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"CAST_SHADOWS","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Ox43J7OCZW"}],"key":"fRZTBDHre5"}],"key":"exQczKwZF0"},{"type":"tableRow","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"3","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"embjPIspfQ"}],"key":"yXeK0bxvyW"},{"type":"tableCell","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"CLOUD_SHADOWS","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"aNtk3Po6op"}],"key":"C8fHrh3YxF"}],"key":"fsYbEmsCtb"},{"type":"tableRow","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"iFUaAfj4NM"}],"key":"PPNgBRtwsZ"},{"type":"tableCell","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"VEGETATION","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"c5RdOVRsct"}],"key":"EJBTO6CztY"}],"key":"yT4JiUzWR5"},{"type":"tableRow","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"rrLl9Mdi3k"}],"key":"R7ZGUrJQ7h"},{"type":"tableCell","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"NOT_VEGETATED","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"jq5OiBAspS"}],"key":"WcZGioKEt5"}],"key":"hMAfpbvZVL"},{"type":"tableRow","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"6","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"BY1BAW8f4a"}],"key":"wXaLMmwOI2"},{"type":"tableCell","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"WATER","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"RM33fAyCUG"}],"key":"pnIqnzs5G1"}],"key":"uxx4btPjwT"},{"type":"tableRow","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"7","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"vTxTCfg2DJ"}],"key":"aBxEYoA8IU"},{"type":"tableCell","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"UNCLASSIFIED","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"oTOwXAkr1q"}],"key":"xq74Pf88OB"}],"key":"VzICPPW1qa"},{"type":"tableRow","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"8","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"FxTGdKKFW2"}],"key":"WwpN2uTAdc"},{"type":"tableCell","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"CLOUD_MEDIUM_PROBABILITY","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"SJ103ndbUI"}],"key":"BBn4A5gCH8"}],"key":"wEOC5pejJS"},{"type":"tableRow","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"9","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"SXlWtB6wkq"}],"key":"uzfI8HIyW5"},{"type":"tableCell","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"CLOUD_HIGH_PROBABILITY","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"iPTA11fcWV"}],"key":"auNwYCKFHD"}],"key":"mAdKB7Tpym"},{"type":"tableRow","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"Zcua64xOy6"}],"key":"BPyocyUjHy"},{"type":"tableCell","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"THIN_CIRRUS","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"WEBtZp4Y2d"}],"key":"vWFv7MXULx"}],"key":"uWZ20JQQ4U"},{"type":"tableRow","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"11","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"J6KuFSKBSs"}],"key":"mVJCE6ELbf"},{"type":"tableCell","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"SNOW or ICE","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"OYP9D2555X"}],"key":"uRKqqhqTJU"}],"key":"Dt17UtVOE2"}],"key":"CKCaIFu3o8"}],"key":"QMQ1Al5J94"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"scl_cube =conn.load_collection(\n    \"SENTINEL2_L2A\",\n    spatial_extent=spatial_extent,\n    bands=[\"SCL\"],\n    temporal_extent=temporal_extent,\n    max_cloud_cover=90,\n    \n)","key":"vweoXfMWSh"},{"type":"outputs","id":"yfWc08Tr6NoASiroGBg0l","children":[],"key":"je5dFw3gIH"}],"key":"EjApMhckAM"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"scl_band = scl_cube.band(\"SCL\")\ncloud_mask = ( (scl_band == 8) | (scl_band == 9) | (scl_band == 3) ) * 1.0\ncloud_mask","visibility":"show","key":"aQ8hsALMne"},{"type":"outputs","id":"BYj5j4OwWs1l6ZPMbCbom","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-model-builder>\n        <script type=\"application/json\">{\"id\": \"e593972676d24fef90a0f904895b11a4\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"eq1\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": 8}}, \"eq2\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": 9}}, \"or1\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}}, \"eq3\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": 3}}, \"or2\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1.0}, \"result\": true}}}}, \"result\": true}}}}</script>\n    </openeo-model-builder>\n    ","content_type":"text/html"},"text/plain":{"content":"<openeo.rest.datacube.DataCube at 0x7f582431a0d0>","content_type":"text/plain"}}},"children":[],"key":"N2oBFBU6Ki"}],"visibility":"show","key":"vqPoXJ9V4a"}],"visibility":"show","key":"moBPbou2ma"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The SCL layer has a ground sample distance of 20 meter while the other bands have 10 meter GSD","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hiehgykit4"}],"key":"W1K8OTaFNq"}],"key":"azGtKJKK7j"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Applying the cloud mask to the snowmap","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ipGVpxufRE"}],"identifier":"applying-the-cloud-mask-to-the-snowmap","label":"Applying the cloud mask to the snowmap","html_id":"applying-the-cloud-mask-to-the-snowmap","implicit":true,"key":"VVx9KtdEDr"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We will mask out all pixels that are covered by clouds. This will result in: 0 = no_snow, 1 = snow, 2 = cloud","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"f4LYtWq5R3"}],"key":"a5fnBRrLQZ"}],"key":"X4xEGcDOFp"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_cloudfree = snowmap.mask(cloud_mask,replacement=2) # replacement is null by default\nsnowmap_cloudfree","visibility":"show","key":"MzT7Fj7xYT"},{"type":"outputs","id":"6Tr1OO5Dk3VdmgosETXWF","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-model-builder>\n        <script type=\"application/json\">{\"id\": \"dc45c3f5cc314107adaa3d2db03c234b\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}}, \"gt1\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1.0}, \"result\": true}}}}}, \"loadcollection2\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte2\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension2\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection2\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement3\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"eq1\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 8}}, \"eq2\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 9}}, \"or1\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}}, \"eq3\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 3}}, \"or2\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}}, \"multiply2\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1.0}, \"result\": true}}}}}, \"mask1\": {\"process_id\": \"mask\", \"arguments\": {\"data\": {\"from_node\": \"reducedimension1\"}, \"mask\": {\"from_node\": \"reducedimension2\"}, \"replacement\": 2}, \"result\": true}}}}</script>\n    </openeo-model-builder>\n    ","content_type":"text/html"},"text/plain":{"content":"<openeo.rest.datacube.DataCube at 0x7f583cad9f50>","content_type":"text/plain"}}},"children":[],"key":"DCzO0kONfG"}],"visibility":"show","key":"UD8FdU0T9x"}],"visibility":"show","key":"sdrmImoMAY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mask Polygon: From Bounding Box to Shape","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H9NvTK0Wzp"}],"identifier":"mask-polygon-from-bounding-box-to-shape","label":"Mask Polygon: From Bounding Box to Shape","html_id":"mask-polygon-from-bounding-box-to-shape","implicit":true,"key":"wai579UXeZ"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Filter to the exact outline of the catchment: this should mask out the pixels outside of the catchment.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"U2HXF9WdJ3"}],"key":"rbSpBBpChs"}],"key":"yFspRWkuYI"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"catchment_outline['geometry'][0]","visibility":"show","key":"NqqePPmGdG"},{"type":"outputs","id":"iQ1hPpu0NMbj-Voe5lVFq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"image/svg+xml":{"content":"<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100.0\" height=\"100.0\" viewBox=\"11.007000000000023 46.639766045464434 0.37350000000000527 0.328233954535591\" preserveAspectRatio=\"xMinYMin meet\"><g transform=\"matrix(1,0,0,-1,0,93.60776604546446)\"><path fill-rule=\"evenodd\" fill=\"#66cc99\" stroke=\"#555555\" stroke-width=\"0.007470000000000105\" opacity=\"0.6\" d=\"M 11.075,46.72916666666669 L 11.072575547960094,46.728813340928845 L 11.069091118706622,46.72535332573787 L 11.048285590277802,46.724646674262175 L 11.042024739583358,46.73087632921009 L 11.041666666666691,46.733333333333356 L 11.038123575846377,46.73424241807728 L 11.0375,46.74583333333336 L 11.03664923773874,46.74914923773874 L 11.030017428927975,46.75085076226131 L 11.028599378797768,46.756377156575546 L 11.025567287868947,46.76028951009117 L 11.0244327121311,46.76471048990888 L 11.02140062120228,46.7686228434245 L 11.020833333333357,46.77083333333336 L 11.024291653103322,46.77172071668839 L 11.025567287868947,46.781377156575545 L 11.032766045464435,46.78945617675784 L 11.033900621202282,46.79387715657555 L 11.036932712131101,46.79778951009117 L 11.038067287868948,46.80221048990888 L 11.042586263020858,46.80762905544707 L 11.052210489908878,46.808900621202284 L 11.06028951009117,46.816099378797766 L 11.06471048990888,46.81723395453562 L 11.068622843424503,46.820266045464436 L 11.073043823242212,46.82140062120228 L 11.077974107530407,46.82522176106773 L 11.079733954535614,46.83010389539933 L 11.071295166015648,46.83957451714412 L 11.0744327121311,46.843622843424505 L 11.075567287868948,46.846579996744815 L 11.071400621202281,46.85195617675784 L 11.070266045464434,46.859321424696205 L 11.082766045464435,46.872789510091174 L 11.084041680230058,46.882445949978326 L 11.089710489908878,46.88390062120228 L 11.09995964898006,46.89319695366756 L 11.096400621202282,46.89778951009117 L 11.095266045464435,46.91343722873266 L 11.103599378797767,46.92278951009117 L 11.104166666666691,46.929166666666696 L 11.114924452039954,46.92951999240454 L 11.11875,46.9333187527127 L 11.12328694661461,46.92881334092885 L 11.139924452039956,46.92951999240454 L 11.143408881293428,46.93298000759551 L 11.148288302951414,46.933691067165825 L 11.157980007595512,46.94340888129343 L 11.158691406250025,46.948290337456626 L 11.16424221462676,46.953813340928846 L 11.166666666666693,46.954166666666694 L 11.167024739583358,46.95170966254343 L 11.172575547960095,46.94618665907121 L 11.177424452039956,46.94548000759551 L 11.180908881293428,46.94201999240454 L 11.185757785373289,46.94131334092884 L 11.189242214626761,46.937853325737876 L 11.194123670789956,46.93714192708336 L 11.199646674262178,46.93159111870662 L 11.200353325737872,46.9100755479601 L 11.204519992404538,46.90587972005211 L 11.203813340928845,46.901742214626765 L 11.199646674262178,46.89754638671877 L 11.200353325737872,46.89340888129343 L 11.203813340928845,46.889924452039956 L 11.204519992404538,46.8850755479601 L 11.21248609754777,46.877084011501765 L 11.208686659071207,46.87325778537329 L 11.208333333333359,46.85833333333336 L 11.210543823242213,46.85776604546444 L 11.214456176757839,46.85473395453562 L 11.231377156575547,46.85359937879777 L 11.239456176757837,46.846400621202285 L 11.260543823242212,46.845266045464435 L 11.26458333333336,46.84213528103301 L 11.26875,46.84536471896704 L 11.272789510091172,46.842233954535615 L 11.323043823242214,46.84109937879777 L 11.331122843424506,46.83390062120228 L 11.343877156575548,46.83276604546444 L 11.347789510091172,46.82973395453561 L 11.35331590440541,46.82831590440541 L 11.354733954535616,46.82278951009117 L 11.357766045464437,46.818877156575546 L 11.358900621202284,46.81445617675784 L 11.36609937879777,46.80637715657554 L 11.366666666666694,46.80416666666669 L 11.365779283311658,46.80070834689673 L 11.356122843424506,46.7994327121311 L 11.35208333333336,46.796301947699675 L 11.347916666666693,46.799531385633706 L 11.343877156575548,46.79640062120228 L 11.339456176757839,46.79526604546444 L 11.335543823242213,46.79223395453562 L 11.321806165907145,46.79101189507381 L 11.31306728786895,46.781377156575545 L 11.311932712131103,46.776956176757835 L 11.304733954535617,46.76887715657555 L 11.30359937879777,46.76445617675784 L 11.30056728786895,46.760543823242216 L 11.299149237738742,46.75501742892798 L 11.293622843424505,46.753599378797766 L 11.289710489908881,46.75056728786895 L 11.279166666666693,46.75 L 11.278813340928846,46.73924221462676 L 11.27464667426218,46.73504638671878 L 11.275353325737873,46.73090888129343 L 11.283319430881102,46.722917344835096 L 11.27951999240454,46.71909111870662 L 11.278813340928846,46.705908881293425 L 11.275353325737873,46.702424452039956 L 11.275,46.7 L 11.274032253689262,46.69622938368058 L 11.267413330078151,46.691099378797766 L 11.260289510091171,46.69223395453562 L 11.25491333007815,46.69640062120228 L 11.251956176757838,46.695266045464436 L 11.248043823242213,46.69223395453562 L 11.239456176757837,46.691099378797766 L 11.235543823242214,46.68806728786895 L 11.218622843424505,46.6869327121311 L 11.21471048990888,46.683900621202284 L 11.197789510091171,46.68276604546443 L 11.193877156575546,46.679733954535614 L 11.184220716688394,46.67845831976999 L 11.182413736979193,46.671416219075546 L 11.173043823242214,46.66306728786895 L 11.168622843424505,46.6619327121311 L 11.159270562065997,46.653599378797765 L 11.154985215928845,46.655143907335095 L 11.154166666666692,46.65833333333336 L 11.15085076226131,46.65918409559464 L 11.15,46.6625 L 11.150353325737871,46.66909111870662 L 11.155876329210095,46.67464192708336 L 11.160757785373288,46.67535332573787 L 11.166668023003497,46.68123406304256 L 11.162853325737872,46.685075547960096 L 11.162146674262178,46.68992445203995 L 11.15451999240454,46.69757554796009 L 11.153813340928846,46.702424452039956 L 11.148290337456622,46.70797526041669 L 11.143408881293428,46.708686659071205 L 11.139924452039956,46.71214667426218 L 11.122575547960095,46.712853325737875 L 11.119091118706622,46.71631334092884 L 11.11424221462676,46.71701999240454 L 11.110757785373288,46.72048000759551 L 11.10174221462676,46.72118665907121 L 11.098257785373288,46.724646674262175 L 11.085075547960095,46.72535332573787 L 11.081591118706623,46.728813340928845 L 11.075,46.72916666666669 z\" /></g></svg>","content_type":"image/svg+xml"},"text/plain":{"content":"<POLYGON ((11.075 46.729, 11.073 46.729, 11.069 46.725, 11.048 46.725, 11.04...>","content_type":"text/plain"}}},"children":[],"key":"enh1RZDMWn"}],"visibility":"show","key":"GTcfvHa1aq"}],"visibility":"show","key":"jrnH9Kbo1h"},{"type":"block","kind":"notebook-code","data":{"scrolled":true,"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_cloudfree_masked = snowmap_cloudfree.mask_polygon(catchment_outline['geometry'][0])","visibility":"show","key":"dgWhesRRAR"},{"type":"outputs","id":"v_cU7JDPuWJtQW0pD2Xkf","children":[],"visibility":"show","key":"N1o1Hpicsb"}],"visibility":"show","key":"Ygu1XpLuIk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize one time step of the timeseries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ztbJwOQDu8"}],"identifier":"visualize-one-time-step-of-the-timeseries","label":"Visualize one time step of the timeseries","html_id":"visualize-one-time-step-of-the-timeseries","implicit":true,"key":"aWXVeKFjPP"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Let’s download the whole image time series as a netcdf file to have a look how our first results look like","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"RKsbKQnC6N"}],"key":"Np4ik6Y0h5"}],"key":"uPGqsKsz75"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"snowmap_cloudfree_1d = snowmap_cloudfree_masked.filter_temporal('2022-02-10', '2022-02-12')\nsnowmap_cloudfree_1d.download('results/snowmap_cloudfree_1d.nc')","visibility":"show","key":"xmVlwAHIFp"},{"type":"outputs","id":"amdbL5zQsZ6FaFdhND65b","children":[],"visibility":"show","key":"yQpdO0Ar7C"}],"visibility":"show","key":"jQpXgZ71kk"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"xr.open_dataarray('results/snowmap_cloudfree_1d.nc',decode_coords=\"all\")[0].plot.imshow()","visibility":"show","key":"IxhlIT6h7u"},{"type":"outputs","id":"vNzTNmMeyXEqgBJ89t1_n","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6118594476326eed3a2fc128451b45d1","path":"/cubes-and-clouds/build/6118594476326eed3a2fc128451b45d1.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"nH8gfRC8c8"}],"visibility":"show","key":"E9pDZlYr0r"}],"visibility":"show","key":"nGbgPXvk2y"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate Catchment Statistics","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PRW7SgE6xD"}],"identifier":"calculate-catchment-statistics","label":"Calculate Catchment Statistics","html_id":"calculate-catchment-statistics","implicit":true,"key":"ZssXcSzNot"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We are looking at a region over time. We need to make sure that the information content meets our expected quality. Therefore, we calculate the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YJr4lnWL6w"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"cloud percentage","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mHoSi7FUE2"}],"key":"AXSqVJqpop"},{"type":"text","value":" for the catchment for each timestep. We use this information to filter the timeseries. All timesteps that have a cloud coverage of over 25% will be discarded.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"apXBHOX4eV"}],"key":"R53SImN3Pz"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Ultimately we are interested in the ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"FKEhqbEl4B"},{"type":"strong","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"snow covered area (SCA)","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Rmb3BVIf6S"}],"key":"aIGGYFDUpm"},{"type":"text","value":" within the catchment. We count all snow covered pixels within the catchment for each time step. Multiplied by the pixel size that would be the snow covered area. Divided the pixel count by the total number of pixels in the catchment is the percentage of pixels covered with snow. We will use this number.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"h0br69yafc"}],"key":"ixzHLLbuwn"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Get number of pixels in catchment: total, clouds, snow.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"t9dZZY41dj"}],"key":"Vh7EZABTV6"}],"visibility":"show","key":"uDysg1ZRnC"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# number of all pixels\nn_catchment = ((snowmap_cloudfree > -1) * 1.0).add_dimension(name=\"bands\",type=\"bands\",label=\"n_catchment\")\n\n# number of cloud pixels (no function needed, mask already created before)\nn_cloud = cloud_mask.add_dimension(name=\"bands\",type=\"bands\",label=\"n_cloud\")\n\n# number of snow pixels\nn_snow = ((snowmap_cloudfree == 1) * 1.0).add_dimension(name=\"bands\",type=\"bands\",label=\"n_snow\")\n\n# combine the binary data cubes into one data cube\nn_catchment_cloud_snow = n_catchment.merge_cubes(n_cloud).merge_cubes(n_snow)\n\n# aggregate to catchment\nn_pixels = n_catchment_cloud_snow.aggregate_spatial(geometries = catchment_outline['geometry'][0], reducer = 'sum')\nn_pixels","visibility":"show","key":"iKgLX3eLFP"},{"type":"outputs","id":"dKEyPAoQN78JXy7DwbSQK","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-model-builder')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-model-builder>\n        <script type=\"application/json\">{\"id\": \"32883f97222c46b7b5a602b35fc55025\", \"explicit-zoom\": true, \"height\": \"400px\", \"value\": {\"process_graph\": {\"loadcollection1\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension1\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement1\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"arrayelement2\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}}, \"subtract1\": {\"process_id\": \"subtract\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"add1\": {\"process_id\": \"add\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}}, \"divide1\": {\"process_id\": \"divide\", \"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}}, \"gt1\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}}, \"multiply1\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1.0}, \"result\": true}}}}}, \"loadcollection2\": {\"process_id\": \"load_collection\", \"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte2\": {\"process_id\": \"lte\", \"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"result\": true}}}}, \"spatial_extent\": {\"west\": 11.020833333333357, \"east\": 11.366666666666694, \"south\": 46.653599378797765, \"north\": 46.954166666666694, \"crs\": 4326}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}}, \"reducedimension2\": {\"process_id\": \"reduce_dimension\", \"arguments\": {\"data\": {\"from_node\": \"loadcollection2\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement3\": {\"process_id\": \"array_element\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}}, \"eq1\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 8}}, \"eq2\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 9}}, \"or1\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}}, \"eq3\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 3}}, \"or2\": {\"process_id\": \"or\", \"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}}, \"multiply2\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1.0}, \"result\": true}}}}}, \"mask1\": {\"process_id\": \"mask\", \"arguments\": {\"data\": {\"from_node\": \"reducedimension1\"}, \"mask\": {\"from_node\": \"reducedimension2\"}, \"replacement\": 2}}, \"apply1\": {\"process_id\": \"apply\", \"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"gt2\": {\"process_id\": \"gt\", \"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": -1}}, \"multiply3\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"gt2\"}, \"y\": 1.0}, \"result\": true}}}}}, \"adddimension1\": {\"process_id\": \"add_dimension\", \"arguments\": {\"data\": {\"from_node\": \"apply1\"}, \"label\": \"n_catchment\", \"name\": \"bands\", \"type\": \"bands\"}}, \"adddimension2\": {\"process_id\": \"add_dimension\", \"arguments\": {\"data\": {\"from_node\": \"reducedimension2\"}, \"label\": \"n_cloud\", \"name\": \"bands\", \"type\": \"bands\"}}, \"mergecubes1\": {\"process_id\": \"merge_cubes\", \"arguments\": {\"cube1\": {\"from_node\": \"adddimension1\"}, \"cube2\": {\"from_node\": \"adddimension2\"}}}, \"apply2\": {\"process_id\": \"apply\", \"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"eq4\": {\"process_id\": \"eq\", \"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": 1}}, \"multiply4\": {\"process_id\": \"multiply\", \"arguments\": {\"x\": {\"from_node\": \"eq4\"}, \"y\": 1.0}, \"result\": true}}}}}, \"adddimension3\": {\"process_id\": \"add_dimension\", \"arguments\": {\"data\": {\"from_node\": \"apply2\"}, \"label\": \"n_snow\", \"name\": \"bands\", \"type\": \"bands\"}}, \"mergecubes2\": {\"process_id\": \"merge_cubes\", \"arguments\": {\"cube1\": {\"from_node\": \"mergecubes1\"}, \"cube2\": {\"from_node\": \"adddimension3\"}}}, \"aggregatespatial1\": {\"process_id\": \"aggregate_spatial\", \"arguments\": {\"data\": {\"from_node\": \"mergecubes2\"}, \"geometries\": {\"type\": \"Polygon\", \"coordinates\": [[[11.075, 46.72916666666669], [11.072575547960094, 46.728813340928845], [11.069091118706622, 46.72535332573787], [11.048285590277802, 46.724646674262175], [11.042024739583358, 46.73087632921009], [11.041666666666691, 46.733333333333356], [11.038123575846377, 46.73424241807728], [11.0375, 46.74583333333336], [11.03664923773874, 46.74914923773874], [11.030017428927975, 46.75085076226131], [11.028599378797768, 46.756377156575546], [11.025567287868947, 46.76028951009117], [11.0244327121311, 46.76471048990888], [11.02140062120228, 46.7686228434245], [11.020833333333357, 46.77083333333336], [11.024291653103322, 46.77172071668839], [11.025567287868947, 46.781377156575545], [11.032766045464435, 46.78945617675784], [11.033900621202282, 46.79387715657555], [11.036932712131101, 46.79778951009117], [11.038067287868948, 46.80221048990888], [11.042586263020858, 46.80762905544707], [11.052210489908878, 46.808900621202284], [11.06028951009117, 46.816099378797766], [11.06471048990888, 46.81723395453562], [11.068622843424503, 46.820266045464436], [11.073043823242212, 46.82140062120228], [11.077974107530407, 46.82522176106773], [11.079733954535614, 46.83010389539933], [11.071295166015648, 46.83957451714412], [11.0744327121311, 46.843622843424505], [11.075567287868948, 46.846579996744815], [11.071400621202281, 46.85195617675784], [11.070266045464434, 46.859321424696205], [11.082766045464435, 46.872789510091174], [11.084041680230058, 46.882445949978326], [11.089710489908878, 46.88390062120228], [11.09995964898006, 46.89319695366756], [11.096400621202282, 46.89778951009117], [11.095266045464435, 46.91343722873266], [11.103599378797767, 46.92278951009117], [11.104166666666691, 46.929166666666696], [11.114924452039954, 46.92951999240454], [11.11875, 46.9333187527127], [11.12328694661461, 46.92881334092885], [11.139924452039956, 46.92951999240454], [11.143408881293428, 46.93298000759551], [11.148288302951414, 46.933691067165825], [11.157980007595512, 46.94340888129343], [11.158691406250025, 46.948290337456626], [11.16424221462676, 46.953813340928846], [11.166666666666693, 46.954166666666694], [11.167024739583358, 46.95170966254343], [11.172575547960095, 46.94618665907121], [11.177424452039956, 46.94548000759551], [11.180908881293428, 46.94201999240454], [11.185757785373289, 46.94131334092884], [11.189242214626761, 46.937853325737876], [11.194123670789956, 46.93714192708336], [11.199646674262178, 46.93159111870662], [11.200353325737872, 46.9100755479601], [11.204519992404538, 46.90587972005211], [11.203813340928845, 46.901742214626765], [11.199646674262178, 46.89754638671877], [11.200353325737872, 46.89340888129343], [11.203813340928845, 46.889924452039956], [11.204519992404538, 46.8850755479601], [11.21248609754777, 46.877084011501765], [11.208686659071207, 46.87325778537329], [11.208333333333359, 46.85833333333336], [11.210543823242213, 46.85776604546444], [11.214456176757839, 46.85473395453562], [11.231377156575547, 46.85359937879777], [11.239456176757837, 46.846400621202285], [11.260543823242212, 46.845266045464435], [11.26458333333336, 46.84213528103301], [11.26875, 46.84536471896704], [11.272789510091172, 46.842233954535615], [11.323043823242214, 46.84109937879777], [11.331122843424506, 46.83390062120228], [11.343877156575548, 46.83276604546444], [11.347789510091172, 46.82973395453561], [11.35331590440541, 46.82831590440541], [11.354733954535616, 46.82278951009117], [11.357766045464437, 46.818877156575546], [11.358900621202284, 46.81445617675784], [11.36609937879777, 46.80637715657554], [11.366666666666694, 46.80416666666669], [11.365779283311658, 46.80070834689673], [11.356122843424506, 46.7994327121311], [11.35208333333336, 46.796301947699675], [11.347916666666693, 46.799531385633706], [11.343877156575548, 46.79640062120228], [11.339456176757839, 46.79526604546444], [11.335543823242213, 46.79223395453562], [11.321806165907145, 46.79101189507381], [11.31306728786895, 46.781377156575545], [11.311932712131103, 46.776956176757835], [11.304733954535617, 46.76887715657555], [11.30359937879777, 46.76445617675784], [11.30056728786895, 46.760543823242216], [11.299149237738742, 46.75501742892798], [11.293622843424505, 46.753599378797766], [11.289710489908881, 46.75056728786895], [11.279166666666693, 46.75], [11.278813340928846, 46.73924221462676], [11.27464667426218, 46.73504638671878], [11.275353325737873, 46.73090888129343], [11.283319430881102, 46.722917344835096], [11.27951999240454, 46.71909111870662], [11.278813340928846, 46.705908881293425], [11.275353325737873, 46.702424452039956], [11.275, 46.7], [11.274032253689262, 46.69622938368058], [11.267413330078151, 46.691099378797766], [11.260289510091171, 46.69223395453562], [11.25491333007815, 46.69640062120228], [11.251956176757838, 46.695266045464436], [11.248043823242213, 46.69223395453562], [11.239456176757837, 46.691099378797766], [11.235543823242214, 46.68806728786895], [11.218622843424505, 46.6869327121311], [11.21471048990888, 46.683900621202284], [11.197789510091171, 46.68276604546443], [11.193877156575546, 46.679733954535614], [11.184220716688394, 46.67845831976999], [11.182413736979193, 46.671416219075546], [11.173043823242214, 46.66306728786895], [11.168622843424505, 46.6619327121311], [11.159270562065997, 46.653599378797765], [11.154985215928845, 46.655143907335095], [11.154166666666692, 46.65833333333336], [11.15085076226131, 46.65918409559464], [11.15, 46.6625], [11.150353325737871, 46.66909111870662], [11.155876329210095, 46.67464192708336], [11.160757785373288, 46.67535332573787], [11.166668023003497, 46.68123406304256], [11.162853325737872, 46.685075547960096], [11.162146674262178, 46.68992445203995], [11.15451999240454, 46.69757554796009], [11.153813340928846, 46.702424452039956], [11.148290337456622, 46.70797526041669], [11.143408881293428, 46.708686659071205], [11.139924452039956, 46.71214667426218], [11.122575547960095, 46.712853325737875], [11.119091118706622, 46.71631334092884], [11.11424221462676, 46.71701999240454], [11.110757785373288, 46.72048000759551], [11.10174221462676, 46.72118665907121], [11.098257785373288, 46.724646674262175], [11.085075547960095, 46.72535332573787], [11.081591118706623, 46.728813340928845], [11.075, 46.72916666666669]]]}, \"reducer\": {\"process_graph\": {\"sum1\": {\"process_id\": \"sum\", \"arguments\": {\"data\": {\"from_parameter\": \"data\"}}, \"result\": true}}}}, \"result\": true}}}}</script>\n    </openeo-model-builder>\n    ","content_type":"text/html"},"text/plain":{"content":"<openeo.rest.vectorcube.VectorCube at 0x7f5824220cd0>","content_type":"text/plain"}}},"children":[],"key":"KMzr1EHUax"}],"visibility":"show","key":"TWQrVj6pmk"}],"visibility":"show","key":"P2Le5Slaht"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create batch job to start processing on the backend.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PXVvhDzL04"}],"key":"yNpC6WqK2v"}],"key":"l34HIScAtz"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a batch job\nn_pixels_json = n_pixels.save_result(format=\"JSON\")\njob = n_pixels_json.create_job(title=\"n_pixels_json\")\njob.start_job()","visibility":"show","key":"VSpV0x74ks"},{"type":"outputs","id":"vG45HLr6kiypEPAZsqd3j","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/html":{"content":"\n    <script>\n    if (!window.customElements || !window.customElements.get('openeo-job')) {\n        var el = document.createElement('script');\n        el.src = \"https://cdn.jsdelivr.net/npm/@openeo/vue-components@2/assets/openeo.min.js\";\n        document.head.appendChild(el);\n\n        var font = document.createElement('font');\n        font.as = \"font\";\n        font.type = \"font/woff2\";\n        font.crossOrigin = true;\n        font.href = \"https://use.fontawesome.com/releases/v5.13.0/webfonts/fa-solid-900.woff2\"\n        document.head.appendChild(font);\n    }\n    </script>\n    <openeo-job>\n        <script type=\"application/json\">{\"currency\": \"credits\", \"job\": {\"created\": \"2025-06-10T12:10:00Z\", \"id\": \"vito-j-25061012100049f090d0c560ed8b62ff\", \"process\": {\"process_graph\": {\"adddimension1\": {\"arguments\": {\"data\": {\"from_node\": \"apply1\"}, \"label\": \"n_catchment\", \"name\": \"bands\", \"type\": \"bands\"}, \"process_id\": \"add_dimension\"}, \"adddimension2\": {\"arguments\": {\"data\": {\"from_node\": \"reducedimension2\"}, \"label\": \"n_cloud\", \"name\": \"bands\", \"type\": \"bands\"}, \"process_id\": \"add_dimension\"}, \"adddimension3\": {\"arguments\": {\"data\": {\"from_node\": \"apply2\"}, \"label\": \"n_snow\", \"name\": \"bands\", \"type\": \"bands\"}, \"process_id\": \"add_dimension\"}, \"aggregatespatial1\": {\"arguments\": {\"data\": {\"from_node\": \"mergecubes2\"}, \"geometries\": {\"coordinates\": [[[11.075, 46.72916666666669], [11.072575547960094, 46.728813340928845], [11.069091118706622, 46.72535332573787], [11.048285590277802, 46.724646674262175], [11.042024739583358, 46.73087632921009], [11.041666666666691, 46.733333333333356], [11.038123575846377, 46.73424241807728], [11.0375, 46.74583333333336], [11.03664923773874, 46.74914923773874], [11.030017428927975, 46.75085076226131], [11.028599378797768, 46.756377156575546], [11.025567287868947, 46.76028951009117], [11.0244327121311, 46.76471048990888], [11.02140062120228, 46.7686228434245], [11.020833333333357, 46.77083333333336], [11.024291653103322, 46.77172071668839], [11.025567287868947, 46.781377156575545], [11.032766045464435, 46.78945617675784], [11.033900621202282, 46.79387715657555], [11.036932712131101, 46.79778951009117], [11.038067287868948, 46.80221048990888], [11.042586263020858, 46.80762905544707], [11.052210489908878, 46.808900621202284], [11.06028951009117, 46.816099378797766], [11.06471048990888, 46.81723395453562], [11.068622843424503, 46.820266045464436], [11.073043823242212, 46.82140062120228], [11.077974107530407, 46.82522176106773], [11.079733954535614, 46.83010389539933], [11.071295166015648, 46.83957451714412], [11.0744327121311, 46.843622843424505], [11.075567287868948, 46.846579996744815], [11.071400621202281, 46.85195617675784], [11.070266045464434, 46.859321424696205], [11.082766045464435, 46.872789510091174], [11.084041680230058, 46.882445949978326], [11.089710489908878, 46.88390062120228], [11.09995964898006, 46.89319695366756], [11.096400621202282, 46.89778951009117], [11.095266045464435, 46.91343722873266], [11.103599378797767, 46.92278951009117], [11.104166666666691, 46.929166666666696], [11.114924452039954, 46.92951999240454], [11.11875, 46.9333187527127], [11.12328694661461, 46.92881334092885], [11.139924452039956, 46.92951999240454], [11.143408881293428, 46.93298000759551], [11.148288302951414, 46.933691067165825], [11.157980007595512, 46.94340888129343], [11.158691406250025, 46.948290337456626], [11.16424221462676, 46.953813340928846], [11.166666666666693, 46.954166666666694], [11.167024739583358, 46.95170966254343], [11.172575547960095, 46.94618665907121], [11.177424452039956, 46.94548000759551], [11.180908881293428, 46.94201999240454], [11.185757785373289, 46.94131334092884], [11.189242214626761, 46.937853325737876], [11.194123670789956, 46.93714192708336], [11.199646674262178, 46.93159111870662], [11.200353325737872, 46.9100755479601], [11.204519992404538, 46.90587972005211], [11.203813340928845, 46.901742214626765], [11.199646674262178, 46.89754638671877], [11.200353325737872, 46.89340888129343], [11.203813340928845, 46.889924452039956], [11.204519992404538, 46.8850755479601], [11.21248609754777, 46.877084011501765], [11.208686659071207, 46.87325778537329], [11.208333333333359, 46.85833333333336], [11.210543823242213, 46.85776604546444], [11.214456176757839, 46.85473395453562], [11.231377156575547, 46.85359937879777], [11.239456176757837, 46.846400621202285], [11.260543823242212, 46.845266045464435], [11.26458333333336, 46.84213528103301], [11.26875, 46.84536471896704], [11.272789510091172, 46.842233954535615], [11.323043823242214, 46.84109937879777], [11.331122843424506, 46.83390062120228], [11.343877156575548, 46.83276604546444], [11.347789510091172, 46.82973395453561], [11.35331590440541, 46.82831590440541], [11.354733954535616, 46.82278951009117], [11.357766045464437, 46.818877156575546], [11.358900621202284, 46.81445617675784], [11.36609937879777, 46.80637715657554], [11.366666666666694, 46.80416666666669], [11.365779283311658, 46.80070834689673], [11.356122843424506, 46.7994327121311], [11.35208333333336, 46.796301947699675], [11.347916666666693, 46.799531385633706], [11.343877156575548, 46.79640062120228], [11.339456176757839, 46.79526604546444], [11.335543823242213, 46.79223395453562], [11.321806165907145, 46.79101189507381], [11.31306728786895, 46.781377156575545], [11.311932712131103, 46.776956176757835], [11.304733954535617, 46.76887715657555], [11.30359937879777, 46.76445617675784], [11.30056728786895, 46.760543823242216], [11.299149237738742, 46.75501742892798], [11.293622843424505, 46.753599378797766], [11.289710489908881, 46.75056728786895], [11.279166666666693, 46.75], [11.278813340928846, 46.73924221462676], [11.27464667426218, 46.73504638671878], [11.275353325737873, 46.73090888129343], [11.283319430881102, 46.722917344835096], [11.27951999240454, 46.71909111870662], [11.278813340928846, 46.705908881293425], [11.275353325737873, 46.702424452039956], [11.275, 46.7], [11.274032253689262, 46.69622938368058], [11.267413330078151, 46.691099378797766], [11.260289510091171, 46.69223395453562], [11.25491333007815, 46.69640062120228], [11.251956176757838, 46.695266045464436], [11.248043823242213, 46.69223395453562], [11.239456176757837, 46.691099378797766], [11.235543823242214, 46.68806728786895], [11.218622843424505, 46.6869327121311], [11.21471048990888, 46.683900621202284], [11.197789510091171, 46.68276604546443], [11.193877156575546, 46.679733954535614], [11.184220716688394, 46.67845831976999], [11.182413736979193, 46.671416219075546], [11.173043823242214, 46.66306728786895], [11.168622843424505, 46.6619327121311], [11.159270562065997, 46.653599378797765], [11.154985215928845, 46.655143907335095], [11.154166666666692, 46.65833333333336], [11.15085076226131, 46.65918409559464], [11.15, 46.6625], [11.150353325737871, 46.66909111870662], [11.155876329210095, 46.67464192708336], [11.160757785373288, 46.67535332573787], [11.166668023003497, 46.68123406304256], [11.162853325737872, 46.685075547960096], [11.162146674262178, 46.68992445203995], [11.15451999240454, 46.69757554796009], [11.153813340928846, 46.702424452039956], [11.148290337456622, 46.70797526041669], [11.143408881293428, 46.708686659071205], [11.139924452039956, 46.71214667426218], [11.122575547960095, 46.712853325737875], [11.119091118706622, 46.71631334092884], [11.11424221462676, 46.71701999240454], [11.110757785373288, 46.72048000759551], [11.10174221462676, 46.72118665907121], [11.098257785373288, 46.724646674262175], [11.085075547960095, 46.72535332573787], [11.081591118706623, 46.728813340928845], [11.075, 46.72916666666669]]], \"type\": \"Polygon\"}, \"reducer\": {\"process_graph\": {\"sum1\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}}, \"process_id\": \"sum\", \"result\": true}}}}, \"process_id\": \"aggregate_spatial\"}, \"apply1\": {\"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"gt2\": {\"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": -1}, \"process_id\": \"gt\"}, \"multiply3\": {\"arguments\": {\"x\": {\"from_node\": \"gt2\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}}}}, \"process_id\": \"apply\"}, \"apply2\": {\"arguments\": {\"data\": {\"from_node\": \"mask1\"}, \"process\": {\"process_graph\": {\"eq4\": {\"arguments\": {\"x\": {\"from_parameter\": \"x\"}, \"y\": 1}, \"process_id\": \"eq\"}, \"multiply4\": {\"arguments\": {\"x\": {\"from_node\": \"eq4\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}}}}, \"process_id\": \"apply\"}, \"loadcollection1\": {\"arguments\": {\"bands\": [\"B03\", \"B11\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte1\": {\"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"process_id\": \"lte\", \"result\": true}}}}, \"spatial_extent\": {\"crs\": 4326, \"east\": 11.366666666666694, \"north\": 46.954166666666694, \"south\": 46.653599378797765, \"west\": 11.020833333333357}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}, \"process_id\": \"load_collection\"}, \"loadcollection2\": {\"arguments\": {\"bands\": [\"SCL\"], \"id\": \"SENTINEL2_L2A\", \"properties\": {\"eo:cloud_cover\": {\"process_graph\": {\"lte2\": {\"arguments\": {\"x\": {\"from_parameter\": \"value\"}, \"y\": 90}, \"process_id\": \"lte\", \"result\": true}}}}, \"spatial_extent\": {\"crs\": 4326, \"east\": 11.366666666666694, \"north\": 46.954166666666694, \"south\": 46.653599378797765, \"west\": 11.020833333333357}, \"temporal_extent\": [\"2022-02-01\", \"2022-06-30\"]}, \"process_id\": \"load_collection\"}, \"mask1\": {\"arguments\": {\"data\": {\"from_node\": \"reducedimension1\"}, \"mask\": {\"from_node\": \"reducedimension2\"}, \"replacement\": 2}, \"process_id\": \"mask\"}, \"mergecubes1\": {\"arguments\": {\"cube1\": {\"from_node\": \"adddimension1\"}, \"cube2\": {\"from_node\": \"adddimension2\"}}, \"process_id\": \"merge_cubes\"}, \"mergecubes2\": {\"arguments\": {\"cube1\": {\"from_node\": \"mergecubes1\"}, \"cube2\": {\"from_node\": \"adddimension3\"}}, \"process_id\": \"merge_cubes\"}, \"reducedimension1\": {\"arguments\": {\"data\": {\"from_node\": \"loadcollection1\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"add1\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}, \"process_id\": \"add\"}, \"arrayelement1\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}, \"process_id\": \"array_element\"}, \"arrayelement2\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 1}, \"process_id\": \"array_element\"}, \"divide1\": {\"arguments\": {\"x\": {\"from_node\": \"subtract1\"}, \"y\": {\"from_node\": \"add1\"}}, \"process_id\": \"divide\"}, \"gt1\": {\"arguments\": {\"x\": {\"from_node\": \"divide1\"}, \"y\": 0.42}, \"process_id\": \"gt\"}, \"multiply1\": {\"arguments\": {\"x\": {\"from_node\": \"gt1\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}, \"subtract1\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement1\"}, \"y\": {\"from_node\": \"arrayelement2\"}}, \"process_id\": \"subtract\"}}}}, \"process_id\": \"reduce_dimension\"}, \"reducedimension2\": {\"arguments\": {\"data\": {\"from_node\": \"loadcollection2\"}, \"dimension\": \"bands\", \"reducer\": {\"process_graph\": {\"arrayelement3\": {\"arguments\": {\"data\": {\"from_parameter\": \"data\"}, \"index\": 0}, \"process_id\": \"array_element\"}, \"eq1\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 8}, \"process_id\": \"eq\"}, \"eq2\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 9}, \"process_id\": \"eq\"}, \"eq3\": {\"arguments\": {\"x\": {\"from_node\": \"arrayelement3\"}, \"y\": 3}, \"process_id\": \"eq\"}, \"multiply2\": {\"arguments\": {\"x\": {\"from_node\": \"or2\"}, \"y\": 1}, \"process_id\": \"multiply\", \"result\": true}, \"or1\": {\"arguments\": {\"x\": {\"from_node\": \"eq1\"}, \"y\": {\"from_node\": \"eq2\"}}, \"process_id\": \"or\"}, \"or2\": {\"arguments\": {\"x\": {\"from_node\": \"or1\"}, \"y\": {\"from_node\": \"eq3\"}}, \"process_id\": \"or\"}}}}, \"process_id\": \"reduce_dimension\"}, \"saveresult1\": {\"arguments\": {\"data\": {\"from_node\": \"aggregatespatial1\"}, \"format\": \"JSON\", \"options\": {}}, \"process_id\": \"save_result\", \"result\": true}}}, \"progress\": 0, \"status\": \"created\", \"title\": \"n_pixels_json\", \"updated\": \"2025-06-10T12:10:00Z\"}}</script>\n    </openeo-job>\n    ","content_type":"text/html"},"text/plain":{"content":"<BatchJob job_id='vito-j-25061012100049f090d0c560ed8b62ff'>","content_type":"text/plain"}}},"children":[],"key":"L27ISOTv6w"}],"visibility":"show","key":"uao5nmo22j"}],"visibility":"show","key":"aY4tYjW6yh"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"job.status()","visibility":"show","key":"SnEzDwfVKm"},{"type":"outputs","id":"7mj_V1X3YzoT8embvu7Dd","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":29,"metadata":{},"data":{"text/plain":{"content":"'finished'","content_type":"text/plain"}}},"children":[],"key":"Xz8MryI5oV"}],"visibility":"show","key":"ZY7ds4X735"}],"visibility":"show","key":"KAg4jmU0lE"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"if job.status() == \"finished\":\n    results = job.get_results()\n    results.download_files(\"results_openeo_platform/\")","visibility":"show","key":"rW4qE42K3t"},{"type":"outputs","id":"5EQJQr7no4ijG3Sudawzs","children":[],"visibility":"show","key":"AwBNhULnMX"}],"visibility":"show","key":"J8q8hPFmVB"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the result. It contains the number of pixels in the catchment, clouds and snow.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"S12dozhczt"}],"key":"UQgmbJHj3E"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can calculate the percentages of cloud and snow pixels in the catchment.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"KwedhY4ImE"}],"key":"UpgGxaJRFS"}],"key":"e9j6ileX2I"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"with open(\"results_openeo_platform/timeseries.json\",\"r\") as file:\n    n_pixels_json = json.load(file)","visibility":"show","key":"cYARVrq5an"},{"type":"outputs","id":"iHr69tBVR2W7YltQERvto","children":[],"visibility":"show","key":"EJ3m1z5ANn"}],"visibility":"show","key":"z4bA9W2coo"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# check the first 5 entries\nlist(n_pixels_json.items())[:3] # careful unsorted dates due to JSON format","visibility":"show","key":"fleehu48Sw"},{"type":"outputs","id":"glJCmQPBaa9Bkwh8enIWS","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"[('2022-05-18T00:00:00Z', [[4201607, 2116387, 176298]]),\n ('2022-05-16T00:00:00Z', [[4201607, 3180590, 127431]]),\n ('2022-05-31T00:00:00Z', [[4201607, 3342522, 4679]])]","content_type":"text/plain"}}},"children":[],"key":"sRzVhPsjJm"}],"visibility":"show","key":"zINKg2vD7d"}],"visibility":"show","key":"fL6NggTbFi"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create a Pandas DataFrame to contain the values\ndates = [k for k in n_pixels_json]\nn_catchment_vals = [n_pixels_json[k][0][0] for k in n_pixels_json]\nn_cloud_vals = [n_pixels_json[k][0][1] for k in n_pixels_json]\nn_snow_vals = [n_pixels_json[k][0][2] for k in n_pixels_json]\n\ndata = {\n        \"time\":pd.to_datetime(dates),\n        \"n_catchment_vals\":n_catchment_vals,\n        \"n_cloud_vals\":n_cloud_vals,\n        \"n_snow_vals\":n_snow_vals\n       }\ndf = pd.DataFrame(data=data).set_index(\"time\")\n# Sort the values by date\ndf = df.sort_values(axis=0,by=\"time\")\ndf[:3]","visibility":"show","key":"KC1TPtuIxT"},{"type":"outputs","id":"nqaDbofPm4DnF-SL_1fng","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>n_catchment_vals</th>\n      <th>n_cloud_vals</th>\n      <th>n_snow_vals</th>\n    </tr>\n    <tr>\n      <th>time</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2022-02-05 00:00:00+00:00</th>\n      <td>4201607</td>\n      <td>857590</td>\n      <td>2138314</td>\n    </tr>\n    <tr>\n      <th>2022-02-07 00:00:00+00:00</th>\n      <td>4166981</td>\n      <td>3974004</td>\n      <td>139642</td>\n    </tr>\n    <tr>\n      <th>2022-02-10 00:00:00+00:00</th>\n      <td>4201607</td>\n      <td>0</td>\n      <td>2456725</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                           n_catchment_vals  n_cloud_vals  n_snow_vals\ntime                                                                  \n2022-02-05 00:00:00+00:00           4201607        857590      2138314\n2022-02-07 00:00:00+00:00           4166981       3974004       139642\n2022-02-10 00:00:00+00:00           4201607             0      2456725","content_type":"text/plain"}}},"children":[],"key":"BTDRWYbVnz"}],"visibility":"show","key":"qqMqlB6KWr"}],"visibility":"show","key":"G9Ixptv7r7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Divide the number of cloudy pixels by the number of total pixels = cloud percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IA0ixRsKgO"}],"key":"aBa2s95IaX"}],"key":"nn4hKvueWr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"perc_cloud = df[\"n_cloud_vals\"].values / df[\"n_catchment_vals\"].values * 100\ndf[\"perc_cloud\"] = perc_cloud\ndf[:3]","visibility":"show","key":"vMixmdFiRr"},{"type":"outputs","id":"VNS58C6EqSUfZsuWaGMWk","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>n_catchment_vals</th>\n      <th>n_cloud_vals</th>\n      <th>n_snow_vals</th>\n      <th>perc_cloud</th>\n    </tr>\n    <tr>\n      <th>time</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2022-02-05 00:00:00+00:00</th>\n      <td>4201607</td>\n      <td>857590</td>\n      <td>2138314</td>\n      <td>20.411000</td>\n    </tr>\n    <tr>\n      <th>2022-02-07 00:00:00+00:00</th>\n      <td>4166981</td>\n      <td>3974004</td>\n      <td>139642</td>\n      <td>95.368901</td>\n    </tr>\n    <tr>\n      <th>2022-02-10 00:00:00+00:00</th>\n      <td>4201607</td>\n      <td>0</td>\n      <td>2456725</td>\n      <td>0.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                           n_catchment_vals  n_cloud_vals  n_snow_vals  \\\ntime                                                                     \n2022-02-05 00:00:00+00:00           4201607        857590      2138314   \n2022-02-07 00:00:00+00:00           4166981       3974004       139642   \n2022-02-10 00:00:00+00:00           4201607             0      2456725   \n\n                           perc_cloud  \ntime                                   \n2022-02-05 00:00:00+00:00   20.411000  \n2022-02-07 00:00:00+00:00   95.368901  \n2022-02-10 00:00:00+00:00    0.000000  ","content_type":"text/plain"}}},"children":[],"key":"GJ8yLyhzI7"}],"visibility":"show","key":"SokXgl6767"}],"visibility":"show","key":"UylPVfD7nA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the timeseries and the cloud threshold of 25%. If the cloud cover is higher the timestep will be excluded later on.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qNoRCe4BmW"}],"key":"aobUCnFOgN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Plot the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"zRNMDCJOEJ"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"cloud percentage","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fbnRyToU5V"}],"key":"KV0L78uwDi"},{"type":"text","value":" with the threshold.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Fe1ZDXHIft"}],"key":"n6e3yH43xQ"}],"key":"E3mX6GEhs6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df.plot(y=\"perc_cloud\",rot=45,kind=\"line\",marker='o')\nplt.axhline(y = 25, color = \"r\", linestyle = \"-\")\nplt.show()","visibility":"show","key":"UWcWdEO65E"},{"type":"outputs","id":"bF64VVZ8j-KJvSkNBSty2","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"cdc1367607d51e9f17d861775c5832d8","path":"/cubes-and-clouds/build/cdc1367607d51e9f17d861775c5832d8.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"TJdH4S9yrr"}],"visibility":"show","key":"TATirKgPUe"}],"visibility":"show","key":"As0FyaFOnm"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Divide the number of snow pixels by the number of total pixels = snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TEIIOb5gAt"}],"key":"W9IFPMXB5P"}],"key":"eGBQfNt20x"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"perc_snow = df[\"n_snow_vals\"].values / df[\"n_catchment_vals\"].values * 100\ndf[\"perc_snow\"] = perc_snow\ndf[:3]","visibility":"show","key":"Jzu2ZTYE6F"},{"type":"outputs","id":"964KI4HIWXrpVP5EpTCI0","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":36,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>n_catchment_vals</th>\n      <th>n_cloud_vals</th>\n      <th>n_snow_vals</th>\n      <th>perc_cloud</th>\n      <th>perc_snow</th>\n    </tr>\n    <tr>\n      <th>time</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2022-02-05 00:00:00+00:00</th>\n      <td>4201607</td>\n      <td>857590</td>\n      <td>2138314</td>\n      <td>20.411000</td>\n      <td>50.892766</td>\n    </tr>\n    <tr>\n      <th>2022-02-07 00:00:00+00:00</th>\n      <td>4166981</td>\n      <td>3974004</td>\n      <td>139642</td>\n      <td>95.368901</td>\n      <td>3.351155</td>\n    </tr>\n    <tr>\n      <th>2022-02-10 00:00:00+00:00</th>\n      <td>4201607</td>\n      <td>0</td>\n      <td>2456725</td>\n      <td>0.000000</td>\n      <td>58.471080</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"                           n_catchment_vals  n_cloud_vals  n_snow_vals  \\\ntime                                                                     \n2022-02-05 00:00:00+00:00           4201607        857590      2138314   \n2022-02-07 00:00:00+00:00           4166981       3974004       139642   \n2022-02-10 00:00:00+00:00           4201607             0      2456725   \n\n                           perc_cloud  perc_snow  \ntime                                              \n2022-02-05 00:00:00+00:00   20.411000  50.892766  \n2022-02-07 00:00:00+00:00   95.368901   3.351155  \n2022-02-10 00:00:00+00:00    0.000000  58.471080  ","content_type":"text/plain"}}},"children":[],"key":"UnRd1tmTuI"}],"visibility":"show","key":"nMyzqMPjEm"}],"visibility":"show","key":"KA3BDRGH86"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RnlGqFWYHh"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"unfiltered snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kN3PVa1ebt"}],"key":"A81qUQbniQ"}],"key":"RtUdkHPs9K"}],"key":"l3GdfWzHA0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df.plot(y=\"perc_snow\",rot=45,kind=\"line\",marker='o')\nplt.show()","visibility":"show","key":"uBo3856T5t"},{"type":"outputs","id":"Vn_gXGus7U0T0zHbLtnoK","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"be02a959b90f86cbaf12a0579f4739c7","path":"/cubes-and-clouds/build/be02a959b90f86cbaf12a0579f4739c7.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"O4eGCe6X9R"}],"visibility":"show","key":"ZFNwbUn7Gv"}],"visibility":"show","key":"JP0DqGyHmC"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Keep only the dates with cloud coverage less than the threshold","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aznQ1K7mdj"}],"key":"SleAIh9frX"}],"key":"qSHTpQv2Yu"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df_filtered = df.loc[df[\"perc_cloud\"]<25]","visibility":"show","key":"IIAhYJbnPK"},{"type":"outputs","id":"VRZ1fIaU24xBd_FYqWa1Y","children":[],"visibility":"show","key":"e2n1fPtzZT"}],"visibility":"show","key":"epZJsJZVmj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TCNxI32lcr"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"cloud filtered snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"p03TBN1gJd"}],"key":"LO5Gz4fZFS"}],"key":"iNXk2gzO0P"}],"key":"oUiOhNjzKx"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df_filtered.plot(y=\"perc_snow\",rot=45,kind=\"line\",marker='o')\nplt.show()","visibility":"show","key":"X8Hl1IESb8"},{"type":"outputs","id":"061W0pUQJ_OhXUMpZclWY","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"af6cdb9321fcb9b3b393886a4453e64b","path":"/cubes-and-clouds/build/af6cdb9321fcb9b3b393886a4453e64b.png"},"text/plain":{"content":"<Figure size 640x480 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"tbCmrJWtm5"}],"visibility":"show","key":"rlz9tg2fCC"}],"visibility":"show","key":"P140pB7Hif"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Save the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UJObYi3jlG"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"cloud filtered snow percentage","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LvWe2FchK8"}],"key":"xgDMuX22Fu"}],"key":"esQc7RwOSM"}],"visibility":"show","key":"RaWYyblxUP"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"df_filtered.to_csv(\"results_openeo_platform/filtered_snow_perc.csv\")","visibility":"show","key":"r5A7wTXfES"},{"type":"outputs","id":"yKUAnzXIrRA2mKV6LdSJk","children":[],"visibility":"show","key":"E4oM5wuDyX"}],"visibility":"show","key":"kukGNTiGqj"}],"key":"ODvJQ1xoF2"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"3.1 Data Processing STAC","url":"/lectures/data-processing/exercises/alternatives/data-processing-stac","group":"Process & Share"},"next":{"title":"Validation","url":"/lectures/validation/validation","group":"Process & Share"}}},"domain":"http://localhost:3000"}